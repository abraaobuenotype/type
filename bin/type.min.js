!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=33)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Parser=void 0;var obj,_check=__webpack_require__(1),_check2=(obj=_check)&&obj.__esModule?obj:{default:obj};function getByte(dataView,offset){return dataView.getUint8(offset)}function getUShort(dataView,offset){return dataView.getUint16(offset,!1)}function getULong(dataView,offset){return dataView.getUint32(offset,!1)}function getFixed(dataView,offset){return dataView.getInt16(offset,!1)+dataView.getUint16(offset+2,!1)/65535}var typeOffsets={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Parser(data,offset){this.data=data,this.offset=offset,this.relativeOffset=0}Parser.prototype.parseByte=function(){var v=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,v},Parser.prototype.parseChar=function(){var v=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,v},Parser.prototype.parseCard8=Parser.prototype.parseByte,Parser.prototype.parseUShort=function(){var v=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,v},Parser.prototype.parseCard16=Parser.prototype.parseUShort,Parser.prototype.parseSID=Parser.prototype.parseUShort,Parser.prototype.parseOffset16=Parser.prototype.parseUShort,Parser.prototype.parseShort=function(){var v=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,v},Parser.prototype.parseF2Dot14=function(){var v=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,v},Parser.prototype.parseULong=function(){var v=getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,v},Parser.prototype.parseFixed=function(){var v=getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,v},Parser.prototype.parseString=function(length){var dataView=this.data,offset=this.offset+this.relativeOffset,string="";this.relativeOffset+=length;for(var i=0;i<length;i++)string+=String.fromCharCode(dataView.getUint8(offset+i));return string},Parser.prototype.parseTag=function(){return this.parseString(4)},Parser.prototype.parseLongDateTime=function(){var v=getULong(this.data,this.offset+this.relativeOffset+4);return v-=2082844800,this.relativeOffset+=8,v},Parser.prototype.parseVersion=function(){var major=getUShort(this.data,this.offset+this.relativeOffset),minor=getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,major+minor/4096/10},Parser.prototype.skip=function(type,amount){void 0===amount&&(amount=1),this.relativeOffset+=typeOffsets[type]*amount},Parser.prototype.parseOffset16List=Parser.prototype.parseUShortList=function(count){void 0===count&&(count=this.parseUShort());for(var offsets=new Array(count),dataView=this.data,offset=this.offset+this.relativeOffset,i=0;i<count;i++)offsets[i]=dataView.getUint16(offset),offset+=2;return this.relativeOffset+=2*count,offsets},Parser.prototype.parseShortList=function(count){for(var list=new Array(count),dataView=this.data,offset=this.offset+this.relativeOffset,i=0;i<count;i++)list[i]=dataView.getInt16(offset),offset+=2;return this.relativeOffset+=2*count,list},Parser.prototype.parseByteList=function(count){for(var list=new Array(count),dataView=this.data,offset=this.offset+this.relativeOffset,i=0;i<count;i++)list[i]=dataView.getUint8(offset++);return this.relativeOffset+=count,list},Parser.prototype.parseList=function(count,itemCallback){itemCallback||(itemCallback=count,count=this.parseUShort());for(var list=new Array(count),i=0;i<count;i++)list[i]=itemCallback.call(this);return list},Parser.prototype.parseRecordList=function(count,recordDescription){recordDescription||(recordDescription=count,count=this.parseUShort());for(var records=new Array(count),fields=Object.keys(recordDescription),i=0;i<count;i++){for(var rec={},j=0;j<fields.length;j++){var fieldName=fields[j],fieldType=recordDescription[fieldName];rec[fieldName]=fieldType.call(this)}records[i]=rec}return records},Parser.prototype.parseStruct=function(description){if("function"==typeof description)return description.call(this);for(var fields=Object.keys(description),struct={},j=0;j<fields.length;j++){var fieldName=fields[j],fieldType=description[fieldName];struct[fieldName]=fieldType.call(this)}return struct},Parser.prototype.parsePointer=function(description){var structOffset=this.parseOffset16();if(structOffset>0)return new Parser(this.data,this.offset+structOffset).parseStruct(description)},Parser.prototype.parseListOfLists=function(itemCallback){for(var offsets=this.parseOffset16List(),count=offsets.length,relativeOffset=this.relativeOffset,list=new Array(count),i=0;i<count;i++){var start=offsets[i];if(0!==start)if(this.relativeOffset=start,itemCallback){for(var subOffsets=this.parseOffset16List(),subList=new Array(subOffsets.length),j=0;j<subOffsets.length;j++)this.relativeOffset=start+subOffsets[j],subList[j]=itemCallback.call(this);list[i]=subList}else list[i]=this.parseUShortList();else list[i]=void 0}return this.relativeOffset=relativeOffset,list},Parser.prototype.parseCoverage=function(){var startOffset=this.offset+this.relativeOffset,format=this.parseUShort(),count=this.parseUShort();if(1===format)return{format:1,glyphs:this.parseUShortList(count)};if(2===format){for(var ranges=new Array(count),i=0;i<count;i++)ranges[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:ranges}}throw new Error("0x"+startOffset.toString(16)+": Coverage format must be 1 or 2.")},Parser.prototype.parseClassDef=function(){var startOffset=this.offset+this.relativeOffset,format=this.parseUShort();if(1===format)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===format)return{format:2,ranges:this.parseRecordList({start:Parser.uShort,end:Parser.uShort,classId:Parser.uShort})};throw new Error("0x"+startOffset.toString(16)+": ClassDef format must be 1 or 2.")},Parser.list=function(count,itemCallback){return function(){return this.parseList(count,itemCallback)}},Parser.recordList=function(count,recordDescription){return function(){return this.parseRecordList(count,recordDescription)}},Parser.pointer=function(description){return function(){return this.parsePointer(description)}},Parser.tag=Parser.prototype.parseTag,Parser.byte=Parser.prototype.parseByte,Parser.uShort=Parser.offset16=Parser.prototype.parseUShort,Parser.uShortList=Parser.prototype.parseUShortList,Parser.struct=Parser.prototype.parseStruct,Parser.coverage=Parser.prototype.parseCoverage,Parser.classDef=Parser.prototype.parseClassDef;var langSysTable={reserved:Parser.uShort,reqFeatureIndex:Parser.uShort,featureIndexes:Parser.uShortList};Parser.prototype.parseScriptList=function(){return this.parsePointer(Parser.recordList({tag:Parser.tag,script:Parser.pointer({defaultLangSys:Parser.pointer(langSysTable),langSysRecords:Parser.recordList({tag:Parser.tag,langSys:Parser.pointer(langSysTable)})})}))},Parser.prototype.parseFeatureList=function(){return this.parsePointer(Parser.recordList({tag:Parser.tag,feature:Parser.pointer({featureParams:Parser.offset16,lookupListIndexes:Parser.uShortList})}))},Parser.prototype.parseLookupList=function(lookupTableParsers){return this.parsePointer(Parser.list(Parser.pointer(function(){var lookupType=this.parseUShort();_check2.default.argument(1<=lookupType&&lookupType<=8,"GSUB lookup type "+lookupType+" unknown.");var lookupFlag=this.parseUShort(),useMarkFilteringSet=16&lookupFlag;return{lookupType:lookupType,lookupFlag:lookupFlag,subtables:this.parseList(Parser.pointer(lookupTableParsers[lookupType])),markFilteringSet:useMarkFilteringSet?this.parseUShort():void 0}})))},exports.default={getByte:getByte,getCard8:getByte,getUShort:getUShort,getCard16:getUShort,getShort:function(dataView,offset){return dataView.getInt16(offset,!1)},getULong:getULong,getFixed:getFixed,getTag:function(dataView,offset){for(var tag="",i=offset;i<offset+4;i+=1)tag+=String.fromCharCode(dataView.getInt8(i));return tag},getOffset:function(dataView,offset,offSize){for(var v=0,i=0;i<offSize;i+=1)v<<=8,v+=dataView.getUint8(offset+i);return v},getBytes:function(dataView,startOffset,endOffset){for(var bytes=[],i=startOffset;i<endOffset;i+=1)bytes.push(dataView.getUint8(i));return bytes},bytesToString:function(bytes){for(var s="",i=0;i<bytes.length;i+=1)s+=String.fromCharCode(bytes[i]);return s},Parser:Parser},exports.Parser=Parser},function(module,exports,__webpack_require__){"use strict";function fail(message){throw new Error(message)}function argument(predicate,message){predicate||fail(message)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fail=fail,exports.argument=argument,exports.assert=argument,exports.default={fail:fail,argument:argument,assert:argument}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_check=__webpack_require__(1),_check2=(obj=_check)&&obj.__esModule?obj:{default:obj},_types=__webpack_require__(9);function Table(tableName,fields,options){for(var i=0;i<fields.length;i+=1){var field=fields[i];this[field.name]=field.value}if(this.tableName=tableName,this.fields=fields,options)for(var optionKeys=Object.keys(options),_i=0;_i<optionKeys.length;_i+=1){var k=optionKeys[_i],v=options[k];void 0!==this[k]&&(this[k]=v)}}function ushortList(itemName,list,count){void 0===count&&(count=list.length);var fields=new Array(list.length+1);fields[0]={name:itemName+"Count",type:"USHORT",value:count};for(var i=0;i<list.length;i++)fields[i+1]={name:itemName+i,type:"USHORT",value:list[i]};return fields}function tableList(itemName,records,itemCallback){var count=records.length,fields=new Array(count+1);fields[0]={name:itemName+"Count",type:"USHORT",value:count};for(var i=0;i<count;i++)fields[i+1]={name:itemName+i,type:"TABLE",value:itemCallback(records[i],i)};return fields}function recordList(itemName,records,itemCallback){var count=records.length,fields=[];fields[0]={name:itemName+"Count",type:"USHORT",value:count};for(var i=0;i<count;i++)fields=fields.concat(itemCallback(records[i],i));return fields}function Coverage(coverageTable){1===coverageTable.format?Table.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ushortList("glyph",coverageTable.glyphs))):_check2.default.assert(!1,"Can't create coverage table format 2 yet.")}function ScriptList(scriptListTable){Table.call(this,"scriptListTable",recordList("scriptRecord",scriptListTable,function(scriptRecord,i){var script=scriptRecord.script,defaultLangSys=script.defaultLangSys;return _check2.default.assert(!!defaultLangSys,"Unable to write GSUB: script "+scriptRecord.tag+" has no default language system."),[{name:"scriptTag"+i,type:"TAG",value:scriptRecord.tag},{name:"script"+i,type:"TABLE",value:new Table("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Table("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:defaultLangSys.reqFeatureIndex}].concat(ushortList("featureIndex",defaultLangSys.featureIndexes)))}].concat(recordList("langSys",script.langSysRecords,function(langSysRecord,i){var langSys=langSysRecord.langSys;return[{name:"langSysTag"+i,type:"TAG",value:langSysRecord.tag},{name:"langSys"+i,type:"TABLE",value:new Table("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:langSys.reqFeatureIndex}].concat(ushortList("featureIndex",langSys.featureIndexes)))}]})))}]}))}function FeatureList(featureListTable){Table.call(this,"featureListTable",recordList("featureRecord",featureListTable,function(featureRecord,i){var feature=featureRecord.feature;return[{name:"featureTag"+i,type:"TAG",value:featureRecord.tag},{name:"feature"+i,type:"TABLE",value:new Table("featureTable",[{name:"featureParams",type:"USHORT",value:feature.featureParams}].concat(ushortList("lookupListIndex",feature.lookupListIndexes)))}]}))}function LookupList(lookupListTable,subtableMakers){Table.call(this,"lookupListTable",tableList("lookup",lookupListTable,function(lookupTable){var subtableCallback=subtableMakers[lookupTable.lookupType];return _check2.default.assert(!!subtableCallback,"Unable to write GSUB lookup type "+lookupTable.lookupType+" tables."),new Table("lookupTable",[{name:"lookupType",type:"USHORT",value:lookupTable.lookupType},{name:"lookupFlag",type:"USHORT",value:lookupTable.lookupFlag}].concat(tableList("subtable",lookupTable.subtables,subtableCallback)))}))}Table.prototype.encode=function(){return _types.encode.TABLE(this)},Table.prototype.sizeOf=function(){return _types.sizeOf.TABLE(this)},Coverage.prototype=Object.create(Table.prototype),Coverage.prototype.constructor=Coverage,ScriptList.prototype=Object.create(Table.prototype),ScriptList.prototype.constructor=ScriptList,FeatureList.prototype=Object.create(Table.prototype),FeatureList.prototype.constructor=FeatureList,LookupList.prototype=Object.create(Table.prototype),LookupList.prototype.constructor=LookupList,exports.default={Table:Table,Record:Table,Coverage:Coverage,ScriptList:ScriptList,FeatureList:FeatureList,LookupList:LookupList,ushortList:ushortList,tableList:tableList,recordList:recordList}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function boundMethod(target,key,descriptor){var fn=descriptor.value;if("function"!=typeof fn)throw new Error("@autobind decorator can only be applied to methods not: "+(void 0===fn?"undefined":_typeof(fn)));var definingProperty=!1;return{configurable:!0,get:function(){if(definingProperty||this===target.prototype||this.hasOwnProperty(key)||"function"!=typeof fn)return fn;var boundFn=fn.bind(this);return definingProperty=!0,Object.defineProperty(this,key,{configurable:!0,get:function(){return boundFn},set:function(value){fn=value,delete this[key]}}),definingProperty=!1,boundFn},set:function(value){fn=value}}}exports.default=function(){return 1===arguments.length?function(target){var keys=void 0;"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?keys=Reflect.ownKeys(target.prototype):(keys=Object.getOwnPropertyNames(target.prototype),"function"==typeof Object.getOwnPropertySymbols&&(keys=keys.concat(Object.getOwnPropertySymbols(target.prototype))));return keys.forEach(function(key){if("constructor"!==key){var descriptor=Object.getOwnPropertyDescriptor(target.prototype,key);"function"==typeof descriptor.value&&Object.defineProperty(target.prototype,key,boundMethod(target,key,descriptor))}}),target}.apply(void 0,arguments):boundMethod.apply(void 0,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_class2,_temp,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator2=_interopRequireDefault(__webpack_require__(3)),_eventemitter2=_interopRequireDefault(__webpack_require__(8));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var opentype=__webpack_require__(14),Metrics=(0,_autobindDecorator2.default)((_temp=_class2=function(_EventEmiter){function Metrics(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Metrics),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Metrics.__proto__||Object.getPrototypeOf(Metrics)).call(this))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Metrics,_eventemitter2.default),_createClass(Metrics,[{key:"load",value:function(name,url){var _this2=this;this.opentypeLoad(url,function(err,font,data){"null"!==err?console.warn("opentype: a font nÃ£o foi carregada "+err):(Metrics.library[data.name]=font,_this2.emit("metricsLoaded"))},{name:name,url:url})}},{key:"opentypeLoad",value:function(url,callback,callbackData){this.loadFromUrl(url,function(err,arrayBuffer){if("null"!==err)return callback(err);var font;try{font=opentype.parse(arrayBuffer)}catch(e){return callback(e,null)}return callback("null",font,callbackData)},callbackData)}},{key:"loadFromUrl",value:function(url,callback){var request=new XMLHttpRequest;request.open("get",url,!0),request.responseType="arraybuffer",request.onload=function(){return 200!==request.status?callback("Font could not be loaded: "+request.statusText):callback("null",request.response)},request.send()}}],[{key:"getMetrics",value:function(text,fontFamilyArr,fontSizeArr,options){var callback=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};Metrics.relativeX=0,Metrics.relativeY=0;for(var arr=[],i=0;i<text.length;i++){var font=Metrics.library[fontFamilyArr[i]],plus=i<text.length-1?text[i+1]:"";Metrics.forEachGlyph(font,text[i]+plus,Metrics.relativeX,Metrics.relativeY,fontSizeArr[i],options,i,callback,function(glyph,gx,gy,count,responder){responder(i,glyph,gx,gy),arr.push({glyph:glyph,x:gx,y:gy})})}return arr}},{key:"forEachGlyph",value:function(font,text){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,fontSize=arguments.length>4&&void 0!==arguments[4]?arguments[4]:72,options=arguments.length>5&&void 0!==arguments[5]&&arguments[5],count=arguments[6],responder=arguments[7],callback=arguments.length>8&&void 0!==arguments[8]?arguments[8]:function(){};Metrics.relativeX=x,Metrics.relativeY=y,options=font.defaultRenderOptions;for(var fontScale=1/font.unitsPerEm*fontSize,glyphs=font.stringToGlyphs(text,options),i=0;i<glyphs.length;i+=1){var glyph=glyphs[i];if(callback(glyph,Metrics.relativeX,Metrics.relativeY,count,responder),glyph.advanceWidth&&(Metrics.relativeX+=glyph.advanceWidth*fontScale),options.kerning&&i<glyphs.length-1){var kerningValue=font.getKerningValue(glyph,glyphs[i+1]);Metrics.relativeX+=kerningValue*fontScale}options.letterSpacing?Metrics.relativeX+=options.letterSpacing*fontSize:options.tracking&&(Metrics.relativeX+=options.tracking/1e3*fontSize);break}}}]),Metrics}(),_class2.library={},_class2.relativeX=0,_class2.relativeY=0,_class=_temp))||_class;exports.default=Metrics},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_bbox=__webpack_require__(15),_bbox2=(obj=_bbox)&&obj.__esModule?obj:{default:obj};function Path(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Path.prototype.moveTo=function(x,y){this.commands.push({type:"M",x:x,y:y})},Path.prototype.lineTo=function(x,y){this.commands.push({type:"L",x:x,y:y})},Path.prototype.curveTo=Path.prototype.bezierCurveTo=function(x1,y1,x2,y2,x,y){this.commands.push({type:"C",x1:x1,y1:y1,x2:x2,y2:y2,x:x,y:y})},Path.prototype.quadTo=Path.prototype.quadraticCurveTo=function(x1,y1,x,y){this.commands.push({type:"Q",x1:x1,y1:y1,x:x,y:y})},Path.prototype.close=Path.prototype.closePath=function(){this.commands.push({type:"Z"})},Path.prototype.extend=function(pathOrCommands){if(pathOrCommands.commands)pathOrCommands=pathOrCommands.commands;else if(pathOrCommands instanceof _bbox2.default){var box=pathOrCommands;return this.moveTo(box.x1,box.y1),this.lineTo(box.x2,box.y1),this.lineTo(box.x2,box.y2),this.lineTo(box.x1,box.y2),void this.close()}Array.prototype.push.apply(this.commands,pathOrCommands)},Path.prototype.getBoundingBox=function(){for(var box=new _bbox2.default,startX=0,startY=0,prevX=0,prevY=0,i=0;i<this.commands.length;i++){var cmd=this.commands[i];switch(cmd.type){case"M":box.addPoint(cmd.x,cmd.y),startX=prevX=cmd.x,startY=prevY=cmd.y;break;case"L":box.addPoint(cmd.x,cmd.y),prevX=cmd.x,prevY=cmd.y;break;case"Q":box.addQuad(prevX,prevY,cmd.x1,cmd.y1,cmd.x,cmd.y),prevX=cmd.x,prevY=cmd.y;break;case"C":box.addBezier(prevX,prevY,cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y),prevX=cmd.x,prevY=cmd.y;break;case"Z":prevX=startX,prevY=startY;break;default:throw new Error("Unexpected path command "+cmd.type)}}return box.isEmpty()&&box.addPoint(0,0),box},Path.prototype.draw=function(ctx){ctx.beginPath();for(var i=0;i<this.commands.length;i+=1){var cmd=this.commands[i];"M"===cmd.type?ctx.moveTo(cmd.x,cmd.y):"L"===cmd.type?ctx.lineTo(cmd.x,cmd.y):"C"===cmd.type?ctx.bezierCurveTo(cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y):"Q"===cmd.type?ctx.quadraticCurveTo(cmd.x1,cmd.y1,cmd.x,cmd.y):"Z"===cmd.type&&ctx.closePath()}this.fill&&(ctx.fillStyle=this.fill,ctx.fill()),this.stroke&&(ctx.strokeStyle=this.stroke,ctx.lineWidth=this.strokeWidth,ctx.stroke())},Path.prototype.toPathData=function(decimalPlaces){function floatToString(v){return Math.round(v)===v?""+Math.round(v):v.toFixed(decimalPlaces)}function packValues(){for(var s="",i=0;i<arguments.length;i+=1){var v=arguments[i];v>=0&&i>0&&(s+=" "),s+=floatToString(v)}return s}decimalPlaces=void 0!==decimalPlaces?decimalPlaces:2;for(var d="",i=0;i<this.commands.length;i+=1){var cmd=this.commands[i];"M"===cmd.type?d+="M"+packValues(cmd.x,cmd.y):"L"===cmd.type?d+="L"+packValues(cmd.x,cmd.y):"C"===cmd.type?d+="C"+packValues(cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y):"Q"===cmd.type?d+="Q"+packValues(cmd.x1,cmd.y1,cmd.x,cmd.y):"Z"===cmd.type&&(d+="Z")}return d},Path.prototype.toSVG=function(decimalPlaces){var svg='<path d="';return svg+=this.toPathData(decimalPlaces),svg+='"',this.fill&&"black"!==this.fill&&(null===this.fill?svg+=' fill="none"':svg+=' fill="'+this.fill+'"'),this.stroke&&(svg+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),svg+="/>"},Path.prototype.toDOMElement=function(decimalPlaces){var temporaryPath=this.toPathData(decimalPlaces),newPath=document.createElementNS("http://www.w3.org/2000/svg","path");return newPath.setAttribute("d",temporaryPath),newPath},exports.default=Path},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var standardNames=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function DefaultEncoding(font){this.font=font}function CmapEncoding(cmap){this.cmap=cmap}function CffEncoding(encoding,charset){this.encoding=encoding,this.charset=charset}function GlyphNames(post){switch(post.version){case 1:this.names=standardNames.slice();break;case 2:this.names=new Array(post.numberOfGlyphs);for(var i=0;i<post.numberOfGlyphs;i++)post.glyphNameIndex[i]<standardNames.length?this.names[i]=standardNames[post.glyphNameIndex[i]]:this.names[i]=post.names[post.glyphNameIndex[i]-standardNames.length];break;case 2.5:this.names=new Array(post.numberOfGlyphs);for(var _i=0;_i<post.numberOfGlyphs;_i++)this.names[_i]=standardNames[_i+post.glyphNameIndex[_i]];break;case 3:default:this.names=[]}}DefaultEncoding.prototype.charToGlyphIndex=function(c){var code=c.charCodeAt(0),glyphs=this.font.glyphs;if(glyphs)for(var i=0;i<glyphs.length;i+=1)for(var glyph=glyphs.get(i),j=0;j<glyph.unicodes.length;j+=1)if(glyph.unicodes[j]===code)return i;return null},CmapEncoding.prototype.charToGlyphIndex=function(c){return this.cmap.glyphIndexMap[c.charCodeAt(0)]||0},CffEncoding.prototype.charToGlyphIndex=function(s){var code=s.charCodeAt(0),charName=this.encoding[code];return this.charset.indexOf(charName)},GlyphNames.prototype.nameToGlyphIndex=function(name){return this.names.indexOf(name)},GlyphNames.prototype.glyphIndexToName=function(gid){return this.names[gid]},exports.cffStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],exports.cffStandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],exports.cffExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],exports.standardNames=standardNames,exports.DefaultEncoding=DefaultEncoding,exports.CmapEncoding=CmapEncoding,exports.CffEncoding=CffEncoding,exports.GlyphNames=GlyphNames,exports.addGlyphNames=function(font){for(var glyph=void 0,glyphIndexMap=font.tables.cmap.glyphIndexMap,charCodes=Object.keys(glyphIndexMap),i=0;i<charCodes.length;i+=1){var c=charCodes[i],glyphIndex=glyphIndexMap[c];(glyph=font.glyphs.get(glyphIndex)).addUnicode(parseInt(c))}for(var _i2=0;_i2<font.glyphs.length;_i2+=1)glyph=font.glyphs.get(_i2),font.cffEncoding?font.isCIDFont?glyph.name="gid"+_i2:glyph.name=font.cffEncoding.charset[_i2]:font.glyphNames.names&&(glyph.name=font.glyphNames.glyphIndexToName(_i2))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator2=_interopRequireDefault(__webpack_require__(3)),_Char2=_interopRequireDefault(__webpack_require__(12)),_HorizontalModule2=_interopRequireDefault(__webpack_require__(50)),_VerticalModule2=_interopRequireDefault(__webpack_require__(51)),_CustomModule2=_interopRequireDefault(__webpack_require__(52)),_Loader2=_interopRequireDefault(__webpack_require__(13));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectDestructuringEmpty(obj){if(null==obj)throw new TypeError("Cannot destructure undefined")}var JsDiff=__webpack_require__(53),_width=new WeakMap,_height=new WeakMap,_hitArea=new WeakMap,_box=new WeakMap,_map=new WeakMap,_customAlign=new WeakMap,_spaceBetweenLines=new WeakMap,_spaceBetweenWords=new WeakMap,_textAlign=new WeakMap,_textLeftToRight=new WeakMap,_textTopToBottom=new WeakMap,_alignHorizontalPriority=new WeakMap,_defaultStyle=new WeakMap,_mapStyle=new WeakMap,_customStyle=new WeakMap,_textSupport=new WeakMap,_horizontalModule=new WeakMap,_verticalModule=new WeakMap,_customModule=new WeakMap,_getMap=new WeakMap,_change=new WeakMap,_buildStyle=new WeakMap,_relocate=new WeakMap,_blurinessFix=new WeakMap,TextField=(0,_autobindDecorator2.default)(_class=function(_PIXI$Container){function TextField(){var width=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2048,height=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1152;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TextField);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(TextField.__proto__||Object.getPrototypeOf(TextField)).call(this));return _this._text="",_width.set(_this,0),_height.set(_this,0),_hitArea.set(_this,null),_box.set(_this,null),_map.set(_this,{}),_customAlign.set(_this,!1),_spaceBetweenLines.set(_this,0),_spaceBetweenWords.set(_this,-1),_textAlign.set(_this,"left"),_textLeftToRight.set(_this,!0),_textTopToBottom.set(_this,!0),_alignHorizontalPriority.set(_this,!0),_defaultStyle.set(_this,_Loader2.default.defaultStyle),_mapStyle.set(_this,[]),_customStyle.set(_this,{}),_textSupport.set(_this,document.createElement("div")),_horizontalModule.set(_this,null),_verticalModule.set(_this,null),_customModule.set(_this,null),_getMap.set(_this,function(nodes){for(var parent=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["text"],i=0;i<nodes.length;i++){var _n=nodes[i];if("#text"==_n.nodeName)for(var j=0;j<_n.length;j++)_mapStyle.get(this).push({char:_n.nodeValue[j],style:parent});else{var arr=[];"text"==parent[0]?arr[0]=_n.nodeName.toLowerCase():(arr=parent.concat([])).push(_n.nodeName.toLowerCase()),_getMap.get(this)(_n.childNodes,arr)}}}.bind(_this)),_change.set(_this,function(diff){for(var count=0,i=0;i<diff.length;i++){if(0===diff[i][0])for(var zi=0;zi<diff[i][1].length;zi++)"text"!=_mapStyle.get(this)[count]?(this.children[count].setStyle(_customStyle.get(this)[_mapStyle.get(this)[count]]),count++):count++;if(1==diff[i][0])for(var zj=0;zj<diff[i][1].length;zj++){var st=_mapStyle.get(this)[count].style,style=_buildStyle.get(this)(st),char=new _Char2.default(diff[i][1].charAt(zj),style);this.addChildAt(char,count),count++}if(-1==diff[i][0])for(var k=0;k<diff[i][1].length;k++){var c=this.children[count];this.removeChild(c),c.destroy(!0),c=null}}_relocate.get(this)()}.bind(_this)),_buildStyle.set(_this,function(styleRefs){var temp={};for(var j in _defaultStyle.get(this))temp[j]=_defaultStyle.get(this)[j];for(var i=0;i<styleRefs.length;i++)if("text"!==styleRefs[i]){var st=_customStyle.get(this)[styleRefs[i]];for(var k in st)temp[k]=st[k]}return temp}.bind(_this)),_relocate.set(_this,function(){if(""!=this._text){if(_customAlign.get(this))return null===_customModule.get(this)&&_customModule.set(this,new _CustomModule2.default),_customModule.get(this).typeAlign=this._typeAlign,_customModule.get(this).align(this.children),void _blurinessFix.get(this)();var _textAlign$get,_textLeftToRight$get,_textTopToBottom$get,_spaceBetweenLines$ge,_spaceBetweenWords$ge,_textAlign$get2,_textLeftToRight$get2,_textTopToBottom$get2,_spaceBetweenLines$ge2,_spaceBetweenWords$ge2;if(isNaN(parseInt(_spaceBetweenWords.get(this)))&&_spaceBetweenWords.set(this,-1),isNaN(parseInt(_spaceBetweenLines.get(this)))&&_spaceBetweenLines.set(this,-1),_alignHorizontalPriority.get(this))return null===_horizontalModule.get(this)&&_horizontalModule.set(this,new _HorizontalModule2.default),_horizontalModule.get(this)._textAlign=(_objectDestructuringEmpty(_textAlign$get=_textAlign.get(this)),_textAlign$get),_horizontalModule.get(this)._textLeftToRight=(_objectDestructuringEmpty(_textLeftToRight$get=_textLeftToRight.get(this)),_textLeftToRight$get),_horizontalModule.get(this)._textTopToBottom=(_objectDestructuringEmpty(_textTopToBottom$get=_textTopToBottom.get(this)),_textTopToBottom$get),_horizontalModule.get(this)._spaceBetweenLines=(_objectDestructuringEmpty(_spaceBetweenLines$ge=_spaceBetweenLines.get(this)),_spaceBetweenLines$ge),_horizontalModule.get(this)._spaceBetweenWords=(_objectDestructuringEmpty(_spaceBetweenWords$ge=_spaceBetweenWords.get(this)),_spaceBetweenWords$ge),_horizontalModule.get(this).relocate(this._text,this.children,_width.get(this),_height.get(this)),this.children.length>0?this.emit("textupdated",this.children[this.children.length-1]):this.emit("textupdated",null),void _blurinessFix.get(this)();if(!_alignHorizontalPriority.get(this))return null===_verticalModule.get(this)&&_verticalModule.set(this,new _VerticalModule2.default),_verticalModule.get(this)._textAlign=(_objectDestructuringEmpty(_textAlign$get2=_textAlign.get(this)),_textAlign$get2),_verticalModule.get(this)._textLeftToRight=(_objectDestructuringEmpty(_textLeftToRight$get2=_textLeftToRight.get(this)),_textLeftToRight$get2),_verticalModule.get(this)._textTopToBottom=(_objectDestructuringEmpty(_textTopToBottom$get2=_textTopToBottom.get(this)),_textTopToBottom$get2),_verticalModule.get(this)._spaceBetweenLines=(_objectDestructuringEmpty(_spaceBetweenLines$ge2=_spaceBetweenLines.get(this)),_spaceBetweenLines$ge2),_verticalModule.get(this)._spaceBetweenWords=(_objectDestructuringEmpty(_spaceBetweenWords$ge2=_spaceBetweenWords.get(this)),_spaceBetweenWords$ge2),_verticalModule.get(this).relocate(this._text,this.children,_width.get(this),_height.get(this)),this.children.length>0?this.emit("textupdated",this.children[this.children.length-1]):this.emit("textupdated",null),void _blurinessFix.get(this)()}}.bind(_this)),_blurinessFix.set(_this,function(){for(var i=0;i<this.children.length;i++)this.children[i].x=Math.round(this.children[i].x),this.children[i].y=Math.round(this.children[i].y)}.bind(_this)),_width.set(_this,width),_height.set(_this,height),_hitArea.set(_this,new PIXI.Rectangle(0,0,_width.get(_this),_height.get(_this))),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TextField,PIXI.Container),_createClass(TextField,[{key:"setText",value:function(text){var style=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_customStyle.set(this,style),_customStyle.get(this).align&&_textAlign.set(this,_customStyle.get(this).align),_customStyle.get(this).spaceBetweenWords&&_spaceBetweenWords.set(this,_customStyle.get(this).spaceBetweenWords),_customStyle.get(this).spaceBetweenLines&&_spaceBetweenLines.set(this,_customStyle.get(this).spaceBetweenLines),_customStyle.get(this).leftToRight&&_textLeftToRight.set(this,_customStyle.get(this).leftToRight),_customStyle.get(this).topToBottom&&_textTopToBottom.set(this,_customStyle.get(this).topToBottom),_customStyle.get(this).horizontalPriority&&_alignHorizontalPriority.set(this,_customStyle.get(this).horizontalPriority),_textSupport.get(this).innerHTML=text,_mapStyle.get(this).splice(0,_mapStyle.get(this).length),_getMap.get(this)(_textSupport.get(this).childNodes);var oldText=this._text;this._text=_textSupport.get(this).textContent;var diff=JsDiff.diffChars(oldText,this._text);_change.get(this)(JsDiff.convertChangesToDMP(diff))}},{key:"setWordStyle",value:function(word,style){var matches=[],supString=this._text;!function RecursiveFindWord(remainingString){var matchIndex=remainingString.indexOf(word);-1!=matchIndex&&(matches.push(matchIndex),(supString=supString.substring(matchIndex+word.length)).length>word.length&&RecursiveFindWord(supString))}(supString);for(var index=0,i=0;i<matches.length;i++){index+=matches[i];for(var j=0;j<word.length;j++)this.children[index+j].setStyle(style);index+=word.length}_relocate.get(this)()}},{key:"getCharAt",value:function(x,y){for(var position=this.toLocal({x:x,y:y}),i=0;i<this.children.length;i++)if(this.children[i].x<position.x&&this.children[i].x+this.children[i].width>position.x&&this.children[i].y<position.y&&this.children[i].y+this.children[i].height>position.y)return i}},{key:"getSelectionCoordinates",value:function(charinicial,charfinal){var coordinates=[],iniCoord={},endCoord={},letraIni=null,letraFinal=null,lines=_horizontalModule.get(this).lines;charinicial<charfinal?(letraIni=this.children[charinicial],letraFinal=this.children[charfinal]):(letraIni=this.children[charfinal],letraFinal=this.children[charinicial]);for(var i=0;i<lines.length;i++){var line=lines[i];if(letraIni.y>=line.y&&letraIni.y<line.y+line.height){iniCoord={x:letraIni.x,up:line.y,down:line.height,lineIndex:i};break}}for(i=0;i<lines.length;i++){line=lines[i];if(letraFinal.y>=line.y&&letraFinal.y<line.y+line.height){endCoord={x:letraFinal.x+letraFinal.vwidth,up:line.y,down:line.height,lineIndex:i};break}}return iniCoord.lineIndex==endCoord.lineIndex?(coordinates.push({x:iniCoord.x,y:iniCoord.up,width:endCoord.x-iniCoord.x,height:endCoord.down}),coordinates):iniCoord.lineIndex==endCoord.lineIndex-1?(coordinates.push({x:iniCoord.x,y:iniCoord.up,width:_width.get(this)-iniCoord.x,height:iniCoord.down}),coordinates.push({x:0,y:endCoord.up,width:endCoord.x,height:endCoord.down}),coordinates):(coordinates.push({x:iniCoord.x,y:iniCoord.up,width:_width.get(this)-iniCoord.x,height:iniCoord.down}),coordinates.push({x:0,y:iniCoord.up+iniCoord.down,width:_width.get(this),height:endCoord.up-iniCoord.up-iniCoord.down}),coordinates.push({x:0,y:endCoord.up,width:endCoord.x,height:endCoord.down}),coordinates)}},{key:"width",get:function(){return _width.get(this)}},{key:"text",get:function(){return this._text},set:function(value){this._text=value}},{key:"defaultStyle",get:function(){return _defaultStyle.get(this)},set:function(value){_defaultStyle.set(this,value)}},{key:"textLeftToRight",get:function(){return _textLeftToRight.get(this)},set:function(value){_textLeftToRight.set(this,value),_relocate.get(this)()}},{key:"textTopToBottom",get:function(){return _textTopToBottom.get(this)},set:function(value){_textTopToBottom.set(this,value),_relocate.get(this)()}},{key:"alignHorizontalPriority",get:function(){return _alignHorizontalPriority.get(this)},set:function(value){_alignHorizontalPriority.set(this,value),_relocate.get(this)()}},{key:"customAlign",get:function(){return _customAlign.get(this)},set:function(value){_customAlign.set(this,value),_relocate.get(this)()}},{key:"typeAlign",get:function(){return this._typeAlign},set:function(value){this._typeAlign=value,_relocate.get(this)()}},{key:"align",get:function(){return _textAlign.get(this)},set:function(value){_textAlign.set(this,value),_relocate.get(this)()}},{key:"spaceBetweenLines",get:function(){return _spaceBetweenLines.get(this)},set:function(value){_spaceBetweenLines.set(this,value),_relocate.get(this)()}},{key:"spaceBetweenWords",get:function(){return _spaceBetweenWords.get(this)},set:function(value){_spaceBetweenWords.set(this,value),_relocate.get(this)()}},{key:"tint",get:function(){return this._tint},set:function(color){this._tint=color;for(var i=0;i<this.children.length;i++)this.children[i].tint=color}},{key:"horizontalModule",get:function(){return _horizontalModule.get(this)}},{key:"verticalModule",get:function(){return _verticalModule.get(this)}},{key:"customModule",get:function(){return _customModule.get(this)}}]),TextField}())||_class;exports.default=TextField},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function(event,exists){var evt=prefix?prefix+event:event,available=this._events[evt];if(exists)return!!available;if(!available)return[];if(available.fn)return[available.fn];for(var i=0,l=available.length,ee=new Array(l);i<l;i++)ee[i]=available[i].fn;return ee},EventEmitter.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function(event,fn,context){var listener=new EE(fn,context||this),evt=prefix?prefix+event:event;return this._events[evt]?this._events[evt].fn?this._events[evt]=[this._events[evt],listener]:this._events[evt].push(listener):(this._events[evt]=listener,this._eventsCount++),this},EventEmitter.prototype.once=function(event,fn,context){var listener=new EE(fn,context||this,!0),evt=prefix?prefix+event:event;return this._events[evt]?this._events[evt].fn?this._events[evt]=[this._events[evt],listener]:this._events[evt].push(listener):(this._events[evt]=listener,this._eventsCount++),this},EventEmitter.prototype.removeListener=function(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return 0==--this._eventsCount?this._events=new Events:delete this._events[evt],this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||(0==--this._eventsCount?this._events=new Events:delete this._events[evt]);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:0==--this._eventsCount?this._events=new Events:delete this._events[evt]}return this},EventEmitter.prototype.removeAllListeners=function(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&(0==--this._eventsCount?this._events=new Events:delete this._events[evt])):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,module.exports=EventEmitter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sizeOf=exports.encode=exports.decode=void 0;var obj,_check=__webpack_require__(1),_check2=(obj=_check)&&obj.__esModule?obj:{default:obj};var decode={},encode={},sizeOf={};function constant(v){return function(){return v}}encode.BYTE=function(v){return _check2.default.argument(v>=0&&v<=255,"Byte value should be between 0 and 255."),[v]},sizeOf.BYTE=constant(1),encode.CHAR=function(v){return[v.charCodeAt(0)]},sizeOf.CHAR=constant(1),encode.CHARARRAY=function(v){for(var b=[],i=0;i<v.length;i+=1)b[i]=v.charCodeAt(i);return b},sizeOf.CHARARRAY=function(v){return v.length},encode.USHORT=function(v){return[v>>8&255,255&v]},sizeOf.USHORT=constant(2),encode.SHORT=function(v){return v>=32768&&(v=-(65536-v)),[v>>8&255,255&v]},sizeOf.SHORT=constant(2),encode.UINT24=function(v){return[v>>16&255,v>>8&255,255&v]},sizeOf.UINT24=constant(3),encode.ULONG=function(v){return[v>>24&255,v>>16&255,v>>8&255,255&v]},sizeOf.ULONG=constant(4),encode.LONG=function(v){return v>=2147483648&&(v=-(4294967296-v)),[v>>24&255,v>>16&255,v>>8&255,255&v]},sizeOf.LONG=constant(4),encode.FIXED=encode.ULONG,sizeOf.FIXED=sizeOf.ULONG,encode.FWORD=encode.SHORT,sizeOf.FWORD=sizeOf.SHORT,encode.UFWORD=encode.USHORT,sizeOf.UFWORD=sizeOf.USHORT,encode.LONGDATETIME=function(v){return[0,0,0,0,v>>24&255,v>>16&255,v>>8&255,255&v]},sizeOf.LONGDATETIME=constant(8),encode.TAG=function(v){return _check2.default.argument(4===v.length,"Tag should be exactly 4 ASCII characters."),[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3)]},sizeOf.TAG=constant(4),encode.Card8=encode.BYTE,sizeOf.Card8=sizeOf.BYTE,encode.Card16=encode.USHORT,sizeOf.Card16=sizeOf.USHORT,encode.OffSize=encode.BYTE,sizeOf.OffSize=sizeOf.BYTE,encode.SID=encode.USHORT,sizeOf.SID=sizeOf.USHORT,encode.NUMBER=function(v){return v>=-107&&v<=107?[v+139]:v>=108&&v<=1131?[247+((v-=108)>>8),255&v]:v>=-1131&&v<=-108?[251+((v=-v-108)>>8),255&v]:v>=-32768&&v<=32767?encode.NUMBER16(v):encode.NUMBER32(v)},sizeOf.NUMBER=function(v){return encode.NUMBER(v).length},encode.NUMBER16=function(v){return[28,v>>8&255,255&v]},sizeOf.NUMBER16=constant(3),encode.NUMBER32=function(v){return[29,v>>24&255,v>>16&255,v>>8&255,255&v]},sizeOf.NUMBER32=constant(5),encode.REAL=function(v){var value=v.toString(),m=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(value);if(m){var epsilon=parseFloat("1e"+((m[2]?+m[2]:0)+m[1].length));value=(Math.round(v*epsilon)/epsilon).toString()}for(var nibbles="",i=0,ii=value.length;i<ii;i+=1){var c=value[i];nibbles+="e"===c?"-"===value[++i]?"c":"b":"."===c?"a":"-"===c?"e":c}for(var out=[30],_i=0,_ii=(nibbles+=1&nibbles.length?"f":"ff").length;_i<_ii;_i+=2)out.push(parseInt(nibbles.substr(_i,2),16));return out},sizeOf.REAL=function(v){return encode.REAL(v).length},encode.NAME=encode.CHARARRAY,sizeOf.NAME=sizeOf.CHARARRAY,encode.STRING=encode.CHARARRAY,sizeOf.STRING=sizeOf.CHARARRAY,decode.UTF8=function(data,offset,numBytes){for(var codePoints=[],numChars=numBytes,j=0;j<numChars;j++,offset+=1)codePoints[j]=data.getUint8(offset);return String.fromCharCode.apply(null,codePoints)},decode.UTF16=function(data,offset,numBytes){for(var codePoints=[],numChars=numBytes/2,j=0;j<numChars;j++,offset+=2)codePoints[j]=data.getUint16(offset);return String.fromCharCode.apply(null,codePoints)},encode.UTF16=function(v){for(var b=[],i=0;i<v.length;i+=1){var codepoint=v.charCodeAt(i);b[b.length]=codepoint>>8&255,b[b.length]=255&codepoint}return b},sizeOf.UTF16=function(v){return 2*v.length};var eightBitMacEncodings={"x-mac-croatian":"ÃÃÃÃÃÃÃÃ¡Ã Ã¢Ã¤Ã£Ã¥Ã§Ã©Ã¨ÃªÃ«Ã­Ã¬Ã®Ã¯Ã±Ã³Ã²Ã´Ã¶ÃµÃºÃ¹Ã»Ã¼â Â°Â¢Â£Â§â¢Â¶ÃÂ®Å â¢Â´Â¨â Å½ÃâÂ±â¤â¥âÂµâââÅ¡â«ÂªÂºÎ©Å¾Ã¸Â¿Â¡Â¬âÆâÄÂ«Äâ¦Â ÃÃÃÅÅÄâââââÃ·âï£¿Â©ââ¬â¹âºÃÂ»âÂ·âââ°ÃÄÃÄÃÃÃÃÃÃÃÄÃÃÃÃÄ±ËËÂ¯ÏÃËÂ¸ÃÃ¦Ë","x-mac-cyrillic":"ÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐ Ð¡Ð¢Ð£Ð¤Ð¥Ð¦Ð§Ð¨Ð©ÐªÐ«Ð¬Ð­Ð®Ð¯â Â°ÒÂ£Â§â¢Â¶ÐÂ®Â©â¢ÐÑâ ÐÑâÂ±â¤â¥ÑÂµÒÐÐÑÐÑÐÑÐÑÑÐÂ¬âÆââÂ«Â»â¦Â ÐÑÐÑÑââââââÃ·âÐÑÐÑâÐÑÑÐ°Ð±Ð²Ð³Ð´ÐµÐ¶Ð·Ð¸Ð¹ÐºÐ»Ð¼Ð½Ð¾Ð¿ÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑ","x-mac-gaelic":"ÃÃÃÃÃÃÃÃ¡Ã Ã¢Ã¤Ã£Ã¥Ã§Ã©Ã¨ÃªÃ«Ã­Ã¬Ã®Ã¯Ã±Ã³Ã²Ã´Ã¶ÃµÃºÃ¹Ã»Ã¼â Â°Â¢Â£Â§â¢Â¶ÃÂ®Â©â¢Â´Â¨â ÃÃá¸Â±â¤â¥á¸ÄÄá¸á¸á¸á¸Ä Ä¡á¹Ã¦Ã¸á¹á¹á¹É¼ÆÅ¿á¹ Â«Â»â¦Â ÃÃÃÅÅââââââá¹¡áºÃ¿Å¸á¹ªâ¬â¹âºÅ¶Å·á¹«Â·á»²á»³âÃÃÃÃÃÃÃÃÃÃÃâ£ÃÃÃÃÄ±ÃÃ½Å´Åµáºáºáºáºáºáº","x-mac-greek":"ÃÂ¹Â²ÃÂ³ÃÃÎÃ Ã¢Ã¤ÎÂ¨Ã§Ã©Ã¨ÃªÃ«Â£â¢Ã®Ã¯â¢Â½â°Ã´Ã¶Â¦â¬Ã¹Ã»Ã¼â ÎÎÎÎÎÎ ÃÂ®Â©Î£ÎªÂ§â Â°Â·ÎÂ±â¤â¥Â¥ÎÎÎÎÎÎÎÎ¦Î«Î¨Î©Î¬ÎÂ¬ÎÎ¡âÎ¤Â«Â»â¦Â Î¥Î§ÎÎÅââââââÃ·ÎÎÎÎÎ­Î®Î¯ÏÎÏÎ±Î²ÏÎ´ÎµÏÎ³Î·Î¹Î¾ÎºÎ»Î¼Î½Î¿ÏÏÏÏÏÎ¸ÏÏÏÏÎ¶ÏÏÎÎ°Â­","x-mac-icelandic":"ÃÃÃÃÃÃÃÃ¡Ã Ã¢Ã¤Ã£Ã¥Ã§Ã©Ã¨ÃªÃ«Ã­Ã¬Ã®Ã¯Ã±Ã³Ã²Ã´Ã¶ÃµÃºÃ¹Ã»Ã¼ÃÂ°Â¢Â£Â§â¢Â¶ÃÂ®Â©â¢Â´Â¨â ÃÃâÂ±â¤â¥Â¥ÂµâââÏâ«ÂªÂºÎ©Ã¦Ã¸Â¿Â¡Â¬âÆââÂ«Â»â¦Â ÃÃÃÅÅââââââÃ·âÃ¿Å¸ââ¬ÃÃ°ÃÃ¾Ã½Â·âââ°ÃÃÃÃÃÃÃÃÃÃÃï£¿ÃÃÃÃÄ±ËËÂ¯ËËËÂ¸ËËË","x-mac-inuit":"ááááááá±á²á³á´á¸á¹áááááááá¦á­á®á¯á°á²á³áááááááÂ°á¡á¥á¦â¢Â¶á§Â®Â©â¢á¨áªá«á»áááááááá¯á°á±á²á´áµááááááááªá¨á©áªá«á­â¦Â á®á¾áááââââââáááááááááááá¿áááááááááááááá±á²á³á´áµá¶áá á¡á¢á£á¤á¥á¦á¼ÅÅ","x-mac-ce":"ÃÄÄÃÄÃÃÃ¡ÄÄÃ¤ÄÄÄÃ©Å¹ÅºÄÃ­ÄÄÄÄÃ³ÄÃ´Ã¶ÃµÃºÄÄÃ¼â Â°ÄÂ£Â§â¢Â¶ÃÂ®Â©â¢ÄÂ¨â Ä£Ä®Ä¯Äªâ¤â¥Ä«Ä¶ââÅÄ»Ä¼Ä½Ä¾Ä¹ÄºÅÅÅÂ¬âÅÅâÂ«Â»â¦Â ÅÅÃÅÅââââââÃ·âÅÅÅÅâ¹âºÅÅÅÅ ââÅ¡ÅÅÃÅ¤Å¥ÃÅ½Å¾ÅªÃÃÅ«Å®ÃÅ¯Å°Å±Å²Å³ÃÃ½Ä·Å»ÅÅ¼Ä¢Ë",macintosh:"ÃÃÃÃÃÃÃÃ¡Ã Ã¢Ã¤Ã£Ã¥Ã§Ã©Ã¨ÃªÃ«Ã­Ã¬Ã®Ã¯Ã±Ã³Ã²Ã´Ã¶ÃµÃºÃ¹Ã»Ã¼â Â°Â¢Â£Â§â¢Â¶ÃÂ®Â©â¢Â´Â¨â ÃÃâÂ±â¤â¥Â¥ÂµâââÏâ«ÂªÂºÎ©Ã¦Ã¸Â¿Â¡Â¬âÆââÂ«Â»â¦Â ÃÃÃÅÅââââââÃ·âÃ¿Å¸ââ¬â¹âºï¬ï¬â¡Â·âââ°ÃÃÃÃÃÃÃÃÃÃÃï£¿ÃÃÃÃÄ±ËËÂ¯ËËËÂ¸ËËË","x-mac-romanian":"ÃÃÃÃÃÃÃÃ¡Ã Ã¢Ã¤Ã£Ã¥Ã§Ã©Ã¨ÃªÃ«Ã­Ã¬Ã®Ã¯Ã±Ã³Ã²Ã´Ã¶ÃµÃºÃ¹Ã»Ã¼â Â°Â¢Â£Â§â¢Â¶ÃÂ®Â©â¢Â´Â¨â ÄÈâÂ±â¤â¥Â¥ÂµâââÏâ«ÂªÂºÎ©ÄÈÂ¿Â¡Â¬âÆââÂ«Â»â¦Â ÃÃÃÅÅââââââÃ·âÃ¿Å¸ââ¬â¹âºÈÈâ¡Â·âââ°ÃÃÃÃÃÃÃÃÃÃÃï£¿ÃÃÃÃÄ±ËËÂ¯ËËËÂ¸ËËË","x-mac-turkish":"ÃÃÃÃÃÃÃÃ¡Ã Ã¢Ã¤Ã£Ã¥Ã§Ã©Ã¨ÃªÃ«Ã­Ã¬Ã®Ã¯Ã±Ã³Ã²Ã´Ã¶ÃµÃºÃ¹Ã»Ã¼â Â°Â¢Â£Â§â¢Â¶ÃÂ®Â©â¢Â´Â¨â ÃÃâÂ±â¤â¥Â¥ÂµâââÏâ«ÂªÂºÎ©Ã¦Ã¸Â¿Â¡Â¬âÆââÂ«Â»â¦Â ÃÃÃÅÅââââââÃ·âÃ¿Å¸ÄÄÄ°Ä±ÅÅâ¡Â·âââ°ÃÃÃÃÃÃÃÃÃÃÃï£¿ÃÃÃÃï¢ ËËÂ¯ËËËÂ¸ËËË"};decode.MACSTRING=function(dataView,offset,dataLength,encoding){var table=eightBitMacEncodings[encoding];if(void 0!==table){for(var result="",i=0;i<dataLength;i++){var c=dataView.getUint8(offset+i);result+=c<=127?String.fromCharCode(c):table[127&c]}return result}};var macEncodingTableCache="function"==typeof WeakMap&&new WeakMap,macEncodingCacheKeys=void 0;function isByteEncodable(value){return value>=-128&&value<=127}function encodeVarDeltaRunAsZeroes(deltas,pos,result){for(var runLength=0,numDeltas=deltas.length;pos<numDeltas&&runLength<64&&0===deltas[pos];)++pos,++runLength;return result.push(128|runLength-1),pos}function encodeVarDeltaRunAsBytes(deltas,offset,result){for(var runLength=0,numDeltas=deltas.length,pos=offset;pos<numDeltas&&runLength<64;){var value=deltas[pos];if(!isByteEncodable(value))break;if(0===value&&pos+1<numDeltas&&0===deltas[pos+1])break;++pos,++runLength}result.push(runLength-1);for(var i=offset;i<pos;++i)result.push(deltas[i]+256&255);return pos}function encodeVarDeltaRunAsWords(deltas,offset,result){for(var runLength=0,numDeltas=deltas.length,pos=offset;pos<numDeltas&&runLength<64;){var value=deltas[pos];if(0===value)break;if(isByteEncodable(value)&&pos+1<numDeltas&&isByteEncodable(deltas[pos+1]))break;++pos,++runLength}result.push(64|runLength-1);for(var i=offset;i<pos;++i){var val=deltas[i];result.push(val+65536>>8&255,val+256&255)}return pos}encode.MACSTRING=function(str,encoding){var table=function(encoding){if(!macEncodingCacheKeys)for(var e in macEncodingCacheKeys={},eightBitMacEncodings)macEncodingCacheKeys[e]=new String(e);var cacheKey=macEncodingCacheKeys[encoding];if(void 0!==cacheKey){if(macEncodingTableCache){var cachedTable=macEncodingTableCache.get(cacheKey);if(void 0!==cachedTable)return cachedTable}var decodingTable=eightBitMacEncodings[encoding];if(void 0!==decodingTable){for(var encodingTable={},i=0;i<decodingTable.length;i++)encodingTable[decodingTable.charCodeAt(i)]=i+128;return macEncodingTableCache&&macEncodingTableCache.set(cacheKey,encodingTable),encodingTable}}}(encoding);if(void 0!==table){for(var result=[],i=0;i<str.length;i++){var c=str.charCodeAt(i);if(c>=128&&void 0===(c=table[c]))return;result[i]=c}return result}},sizeOf.MACSTRING=function(str,encoding){var b=encode.MACSTRING(str,encoding);return void 0!==b?b.length:0},encode.VARDELTAS=function(deltas){for(var pos=0,result=[];pos<deltas.length;){var value=deltas[pos];pos=0===value?encodeVarDeltaRunAsZeroes(deltas,pos,result):value>=-128&&value<=127?encodeVarDeltaRunAsBytes(deltas,pos,result):encodeVarDeltaRunAsWords(deltas,pos,result)}return result},encode.INDEX=function(l){for(var offset=1,offsets=[offset],data=[],i=0;i<l.length;i+=1){var v=encode.OBJECT(l[i]);Array.prototype.push.apply(data,v),offset+=v.length,offsets.push(offset)}if(0===data.length)return[0,0];for(var encodedOffsets=[],offSize=1+Math.floor(Math.log(offset)/Math.log(2))/8|0,offsetEncoder=[void 0,encode.BYTE,encode.USHORT,encode.UINT24,encode.ULONG][offSize],_i2=0;_i2<offsets.length;_i2+=1){var encodedOffset=offsetEncoder(offsets[_i2]);Array.prototype.push.apply(encodedOffsets,encodedOffset)}return Array.prototype.concat(encode.Card16(l.length),encode.OffSize(offSize),encodedOffsets,data)},sizeOf.INDEX=function(v){return encode.INDEX(v).length},encode.DICT=function(m){for(var d=[],keys=Object.keys(m),length=keys.length,i=0;i<length;i+=1){var k=parseInt(keys[i],0),v=m[k];d=(d=d.concat(encode.OPERAND(v.value,v.type))).concat(encode.OPERATOR(k))}return d},sizeOf.DICT=function(m){return encode.DICT(m).length},encode.OPERATOR=function(v){return v<1200?[v]:[12,v-1200]},encode.OPERAND=function(v,type){var d=[];if(Array.isArray(type))for(var i=0;i<type.length;i+=1)_check2.default.argument(v.length===type.length,"Not enough arguments given for type"+type),d=d.concat(encode.OPERAND(v[i],type[i]));else if("SID"===type)d=d.concat(encode.NUMBER(v));else if("offset"===type)d=d.concat(encode.NUMBER32(v));else if("number"===type)d=d.concat(encode.NUMBER(v));else{if("real"!==type)throw new Error("Unknown operand type "+type);d=d.concat(encode.REAL(v))}return d},encode.OP=encode.BYTE,sizeOf.OP=sizeOf.BYTE;var wmm="function"==typeof WeakMap&&new WeakMap;encode.CHARSTRING=function(ops){if(wmm){var cachedValue=wmm.get(ops);if(void 0!==cachedValue)return cachedValue}for(var d=[],length=ops.length,i=0;i<length;i+=1){var op=ops[i];d=d.concat(encode[op.type](op.value))}return wmm&&wmm.set(ops,d),d},sizeOf.CHARSTRING=function(ops){return encode.CHARSTRING(ops).length},encode.OBJECT=function(v){var encodingFunction=encode[v.type];return _check2.default.argument(void 0!==encodingFunction,"No encoding function for type "+v.type),encodingFunction(v.value)},sizeOf.OBJECT=function(v){var sizeOfFunction=sizeOf[v.type];return _check2.default.argument(void 0!==sizeOfFunction,"No sizeOf function for type "+v.type),sizeOfFunction(v.value)},encode.TABLE=function(table){for(var d=[],length=table.fields.length,subtables=[],subtableOffsets=[],i=0;i<length;i+=1){var field=table.fields[i],encodingFunction=encode[field.type];_check2.default.argument(void 0!==encodingFunction,"No encoding function for field type "+field.type+" ("+field.name+")");var value=table[field.name];void 0===value&&(value=field.value);var bytes=encodingFunction(value);"TABLE"===field.type?(subtableOffsets.push(d.length),d=d.concat([0,0]),subtables.push(bytes)):d=d.concat(bytes)}for(var _i3=0;_i3<subtables.length;_i3+=1){var o=subtableOffsets[_i3],offset=d.length;_check2.default.argument(offset<65536,"Table "+table.tableName+" too big."),d[o]=offset>>8,d[o+1]=255&offset,d=d.concat(subtables[_i3])}return d},sizeOf.TABLE=function(table){for(var numBytes=0,length=table.fields.length,i=0;i<length;i+=1){var field=table.fields[i],sizeOfFunction=sizeOf[field.type];_check2.default.argument(void 0!==sizeOfFunction,"No sizeOf function for field type "+field.type+" ("+field.name+")");var value=table[field.name];void 0===value&&(value=field.value),numBytes+=sizeOfFunction(value),"TABLE"===field.type&&(numBytes+=2)}return numBytes},encode.RECORD=encode.TABLE,sizeOf.RECORD=sizeOf.TABLE,encode.LITERAL=function(v){return v},sizeOf.LITERAL=function(v){return v.length},exports.decode=decode,exports.encode=encode,exports.sizeOf=sizeOf},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_glyph=__webpack_require__(18),_glyph2=(obj=_glyph)&&obj.__esModule?obj:{default:obj};function defineDependentProperty(glyph,externalName,internalName){Object.defineProperty(glyph,externalName,{get:function(){return glyph.path,glyph[internalName]},set:function(newValue){glyph[internalName]=newValue},enumerable:!0,configurable:!0})}function GlyphSet(font,glyphs){if(this.font=font,this.glyphs={},Array.isArray(glyphs))for(var i=0;i<glyphs.length;i++)this.glyphs[i]=glyphs[i];this.length=glyphs&&glyphs.length||0}GlyphSet.prototype.get=function(index){return"function"==typeof this.glyphs[index]&&(this.glyphs[index]=this.glyphs[index]()),this.glyphs[index]},GlyphSet.prototype.push=function(index,loader){this.glyphs[index]=loader,this.length++},exports.default={GlyphSet:GlyphSet,glyphLoader:function(font,index){return new _glyph2.default({index:index,font:font})},ttfGlyphLoader:function(font,index,parseGlyph,data,position,buildPath){return function(){var glyph=new _glyph2.default({index:index,font:font});return glyph.path=function(){parseGlyph(glyph,data,position);var path=buildPath(font.glyphs,glyph);return path.unitsPerEm=font.unitsPerEm,path},defineDependentProperty(glyph,"xMin","_xMin"),defineDependentProperty(glyph,"xMax","_xMax"),defineDependentProperty(glyph,"yMin","_yMin"),defineDependentProperty(glyph,"yMax","_yMax"),glyph}},cffGlyphLoader:function(font,index,parseCFFCharstring,charstring){return function(){var glyph=new _glyph2.default({index:index,font:font});return glyph.path=function(){var path=parseCFFCharstring(font,glyph,charstring);return path.unitsPerEm=font.unitsPerEm,path},glyph}}}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator=__webpack_require__(3);(obj=_autobindDecorator)&&obj.__esModule;var _text=new WeakMap,_style=new WeakMap,_underscore=new WeakMap,_underscoreObj=new WeakMap,_textObject=new WeakMap,_debug=new WeakMap,_debugObj=new WeakMap,_debugObjV=new WeakMap,_vwidth=new WeakMap,_vheight=new WeakMap,_createUnderscore=new WeakMap,_clearUnderscore=new WeakMap,_createDebug=new WeakMap,_clearDebug=new WeakMap,Char=function(_PIXI$Container){function Char(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",style=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},debug=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Char);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Char.__proto__||Object.getPrototypeOf(Char)).call(this));return _text.set(_this,null),_style.set(_this,null),_underscore.set(_this,!1),_underscoreObj.set(_this,null),_textObject.set(_this,null),_debug.set(_this,!1),_debugObj.set(_this,null),_debugObjV.set(_this,null),_vwidth.set(_this,0),_vheight.set(_this,0),_createUnderscore.set(_this,function(){_underscoreObj.set(this,new PIXI.Graphics),_underscoreObj.get(this).beginFill(_style.get(this).fill);var size=_style.get(this).fontSize<40?1:2;_style.get(this).underscoreSize&&(size=_style.get(this).underscoreSize),_underscoreObj.get(this).drawRect(0,0,_textObject.get(this).width,size),_underscoreObj.get(this).endFill(),_underscoreObj.get(this).x=_textObject.get(this).x,_underscoreObj.get(this).y=_textObject.get(this).y+_textObject.get(this).height-_underscoreObj.get(this).height,this.addChild(_underscoreObj.get(this))}.bind(_this)),_clearUnderscore.set(_this,function(){if(null!==_underscoreObj.get(this)){var p=_underscoreObj.get(this).parent;p&&p.removeChild(_underscoreObj.get(this)),_underscoreObj.get(this).destroy(),_underscoreObj.set(this,null)}}.bind(_this)),_createDebug.set(_this,function(){_debug.get(this)?(_debugObj.get(this)&&_clearDebug.get(this)(),_debugObj.set(this,new PIXI.Graphics),_debugObj.get(this).beginFill(16711680,.5),_debugObj.get(this).drawRect(0,0,_textObject.get(this).width,_textObject.get(this).height),_debugObj.get(this).endFill(),_debugObjV.set(this,new PIXI.Graphics),_debugObjV.get(this).lineStyle(1,16711680),_debugObjV.get(this).beginFill(3858968,.3),_debugObjV.get(this).drawRect(0,0,_vwidth.get(this),_textObject.get(this).height),_debugObjV.get(this).endFill(),this.addChildAt(_debugObj.get(this),0),this.addChildAt(_debugObjV.get(this),0)):_clearDebug.get(this)()}.bind(_this)),_clearDebug.set(_this,function(){if(null!==_debugObj.get(this)){var p=_debugObj.get(this).parent,pv=_debugObjV.get(this).parent;p.removeChild(_debugObj.get(this)),pv.removeChild(_debugObjV.get(this)),_debugObj.get(this).destroy(),_debugObjV.get(this).destroy(),_debugObj.set(this,null),_debugObjV.set(this,null)}}.bind(_this)),_text.set(_this,text),_text.get(_this).length>1&&_text.set(_this,_text.get(_this).charAt(0)),_style.set(_this,{fill:"black",fontSize:20,padding:0}),_textObject.set(_this,new PIXI.Text(_text.get(_this),_style.get(_this))),_this.setStyle(style),_this.addChild(_textObject.get(_this)),_this.debug=debug,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Char,PIXI.Container),_createClass(Char,[{key:"setStyle",value:function(style){var _style$get;for(var p in style)"underscore"!=p?_style.get(this)[p]=style[p]:!0===style[p]&&_underscore.set(this,!0);_style.get(this).padding=.1*_style.get(this).fontSize,_textObject.get(this).style=(function(obj){if(null==obj)throw new TypeError("Cannot destructure undefined")}(_style$get=_style.get(this)),_style$get),!0===_underscore.get(this)?(_clearUnderscore.get(this)(),_createUnderscore.get(this)()):_clearUnderscore.get(this)()}},{key:"vwidth",get:function(){return _vwidth.get(this)},set:function(value){"last"!=value?_vwidth.set(this,value):_vwidth.set(this,_textObject.get(this).width),_createDebug.get(this)()}},{key:"vheight",get:function(){return _vheight.get(this)},set:function(value){_vheight.set(this,value),_createDebug.get(this)()}},{key:"debug",get:function(){return _debug.get(this)},set:function(value){_debug.set(this,value),_createDebug.get(this)()}},{key:"style",get:function(){return _style.get(this)}},{key:"text",get:function(){return _text.get(this)}},{key:"tint",get:function(){return _textObject.get(this).tint},set:function(color){_textObject.get(this).tint=color}}]),Char}();exports.default=Char},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_class2,_temp,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator2=_interopRequireDefault(__webpack_require__(3)),_eventemitter2=_interopRequireDefault(__webpack_require__(8)),_Metrics2=_interopRequireDefault(__webpack_require__(4));_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Font=__webpack_require__(54),opentype=__webpack_require__(14),_library=new WeakMap,_count=new WeakMap,_metrics=new WeakMap,Loader=(0,_autobindDecorator2.default)((_temp=_class2=function(_EventEmiter){function Loader(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Loader);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Loader.__proto__||Object.getPrototypeOf(Loader)).call(this));return _library.set(_this,{}),_count.set(_this,0),_metrics.set(_this,new _Metrics2.default),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Loader,_eventemitter2.default),_createClass(Loader,[{key:"add",value:function(name,url){_library.get(this)[name]=url,void 0===Loader.defaultStyle.fontFamily&&(Loader.defaultStyle.fontFamily=name)}},{key:"load",value:function(workAroundURL){for(var i in _library.get(this)){var f=new Font;f.fontFamily=i,f.onload=this.tempLoad,f.src=_library.get(this)[i],workAroundURL&&void 0!=workAroundURL||(_metrics.get(this).once("metricsLoaded",this.tempLoad),_metrics.get(this).load(i,_library.get(this)[i]))}}},{key:"workAroundLoad",value:function(name,fontArayBuffer){var font=opentype.parse(fontArayBuffer);_Metrics2.default.library[name]=font,this.tempLoad()}},{key:"tempLoad",value:function(){_count.set(this,_count.get(this)+1),_count.get(this)>=2*Object.keys(_library.get(this)).length&&this.emit("loadComplete")}}],[{key:"defaultStyle",get:function(){return this._defaultStyle},set:function(value){this.setText(_defaultStyle)}}]),Loader}(),_class2._defaultStyle={fontSize:20,fill:"#000000"},_class=_temp))||_class;exports.default=Loader},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadSync=exports.load=exports.parse=exports._parse=exports.BoundingBox=exports.Path=exports.Glyph=exports.Font=void 0;var _tinyInflate2=_interopRequireDefault(__webpack_require__(34)),_font2=_interopRequireDefault(__webpack_require__(35)),_glyph2=_interopRequireDefault(__webpack_require__(18)),_encoding=__webpack_require__(6),_parse2=_interopRequireDefault(__webpack_require__(0)),_bbox2=_interopRequireDefault(__webpack_require__(15)),_path2=_interopRequireDefault(__webpack_require__(5)),_util=__webpack_require__(30),_cmap2=_interopRequireDefault(__webpack_require__(16)),_cff2=_interopRequireDefault(__webpack_require__(17)),_fvar2=_interopRequireDefault(__webpack_require__(46)),_glyf2=_interopRequireDefault(__webpack_require__(19)),_gpos2=_interopRequireDefault(__webpack_require__(47)),_gsub2=_interopRequireDefault(__webpack_require__(28)),_head2=_interopRequireDefault(__webpack_require__(20)),_hhea2=_interopRequireDefault(__webpack_require__(21)),_hmtx2=_interopRequireDefault(__webpack_require__(22)),_kern2=_interopRequireDefault(__webpack_require__(48)),_ltag2=_interopRequireDefault(__webpack_require__(23)),_loca2=_interopRequireDefault(__webpack_require__(49)),_maxp2=_interopRequireDefault(__webpack_require__(24)),_name3=_interopRequireDefault(__webpack_require__(25)),_os2=_interopRequireDefault(__webpack_require__(26)),_post2=_interopRequireDefault(__webpack_require__(27)),_meta2=_interopRequireDefault(__webpack_require__(29));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function loadFromFile(path,callback){__webpack_require__(11).readFile(path,function(err,buffer){if(err)return callback(err.message);callback(null,(0,_util.nodeBufferToArrayBuffer)(buffer))})}function loadFromUrl(url,callback){var request=new XMLHttpRequest;request.open("get",url,!0),request.responseType="arraybuffer",request.onload=function(){return 200!==request.status?callback("Font could not be loaded: "+request.statusText):callback(null,request.response)},request.onerror=function(){callback("Font could not be loaded")},request.send()}function parseOpenTypeTableEntries(data,numTables){for(var tableEntries=[],p=12,i=0;i<numTables;i+=1){var tag=_parse2.default.getTag(data,p),checksum=_parse2.default.getULong(data,p+4),offset=_parse2.default.getULong(data,p+8),length=_parse2.default.getULong(data,p+12);tableEntries.push({tag:tag,checksum:checksum,offset:offset,length:length,compression:!1}),p+=16}return tableEntries}function uncompressTable(data,tableEntry){if("WOFF"===tableEntry.compression){var inBuffer=new Uint8Array(data.buffer,tableEntry.offset+2,tableEntry.compressedLength-2),outBuffer=new Uint8Array(tableEntry.length);if((0,_tinyInflate2.default)(inBuffer,outBuffer),outBuffer.byteLength!==tableEntry.length)throw new Error("Decompression error: "+tableEntry.tag+" decompressed length doesn't match recorded length");return{data:new DataView(outBuffer.buffer,0),offset:0}}return{data:data,offset:tableEntry.offset}}function parseBuffer(buffer){var indexToLocFormat=void 0,ltagTable=void 0,font=new _font2.default({empty:!0}),data=new DataView(buffer,0),numTables=void 0,tableEntries=[],signature=_parse2.default.getTag(data,0);if(signature===String.fromCharCode(0,1,0,0)||"true"===signature||"typ1"===signature)font.outlinesFormat="truetype",tableEntries=parseOpenTypeTableEntries(data,numTables=_parse2.default.getUShort(data,4));else if("OTTO"===signature)font.outlinesFormat="cff",tableEntries=parseOpenTypeTableEntries(data,numTables=_parse2.default.getUShort(data,4));else{if("wOFF"!==signature)throw new Error("Unsupported OpenType signature "+signature);var flavor=_parse2.default.getTag(data,4);if(flavor===String.fromCharCode(0,1,0,0))font.outlinesFormat="truetype";else{if("OTTO"!==flavor)throw new Error("Unsupported OpenType flavor "+signature);font.outlinesFormat="cff"}tableEntries=function(data,numTables){for(var tableEntries=[],p=44,i=0;i<numTables;i+=1){var tag=_parse2.default.getTag(data,p),offset=_parse2.default.getULong(data,p+4),compLength=_parse2.default.getULong(data,p+8),origLength=_parse2.default.getULong(data,p+12),compression=void 0;compression=compLength<origLength&&"WOFF",tableEntries.push({tag:tag,offset:offset,compression:compression,compressedLength:compLength,length:origLength}),p+=20}return tableEntries}(data,numTables=_parse2.default.getUShort(data,12))}for(var cffTableEntry=void 0,fvarTableEntry=void 0,glyfTableEntry=void 0,gposTableEntry=void 0,gsubTableEntry=void 0,hmtxTableEntry=void 0,kernTableEntry=void 0,locaTableEntry=void 0,nameTableEntry=void 0,metaTableEntry=void 0,p=void 0,i=0;i<numTables;i+=1){var tableEntry=tableEntries[i],table=void 0;switch(tableEntry.tag){case"cmap":table=uncompressTable(data,tableEntry),font.tables.cmap=_cmap2.default.parse(table.data,table.offset),font.encoding=new _encoding.CmapEncoding(font.tables.cmap);break;case"cvt ":table=uncompressTable(data,tableEntry),p=new _parse2.default.Parser(table.data,table.offset),font.tables.cvt=p.parseShortList(tableEntry.length/2);break;case"fvar":fvarTableEntry=tableEntry;break;case"fpgm":table=uncompressTable(data,tableEntry),p=new _parse2.default.Parser(table.data,table.offset),font.tables.fpgm=p.parseByteList(tableEntry.length);break;case"head":table=uncompressTable(data,tableEntry),font.tables.head=_head2.default.parse(table.data,table.offset),font.unitsPerEm=font.tables.head.unitsPerEm,indexToLocFormat=font.tables.head.indexToLocFormat;break;case"hhea":table=uncompressTable(data,tableEntry),font.tables.hhea=_hhea2.default.parse(table.data,table.offset),font.ascender=font.tables.hhea.ascender,font.descender=font.tables.hhea.descender,font.numberOfHMetrics=font.tables.hhea.numberOfHMetrics;break;case"hmtx":hmtxTableEntry=tableEntry;break;case"ltag":table=uncompressTable(data,tableEntry),ltagTable=_ltag2.default.parse(table.data,table.offset);break;case"maxp":table=uncompressTable(data,tableEntry),font.tables.maxp=_maxp2.default.parse(table.data,table.offset),font.numGlyphs=font.tables.maxp.numGlyphs;break;case"name":nameTableEntry=tableEntry;break;case"OS/2":table=uncompressTable(data,tableEntry),font.tables.os2=_os2.default.parse(table.data,table.offset);break;case"post":table=uncompressTable(data,tableEntry),font.tables.post=_post2.default.parse(table.data,table.offset),font.glyphNames=new _encoding.GlyphNames(font.tables.post);break;case"prep":table=uncompressTable(data,tableEntry),p=new _parse2.default.Parser(table.data,table.offset),font.tables.prep=p.parseByteList(tableEntry.length);break;case"glyf":glyfTableEntry=tableEntry;break;case"loca":locaTableEntry=tableEntry;break;case"CFF ":cffTableEntry=tableEntry;break;case"kern":kernTableEntry=tableEntry;break;case"GPOS":gposTableEntry=tableEntry;break;case"GSUB":gsubTableEntry=tableEntry;break;case"meta":metaTableEntry=tableEntry}}var nameTable=uncompressTable(data,nameTableEntry);if(font.tables.name=_name3.default.parse(nameTable.data,nameTable.offset,ltagTable),font.names=font.tables.name,glyfTableEntry&&locaTableEntry){var shortVersion=0===indexToLocFormat,locaTable=uncompressTable(data,locaTableEntry),locaOffsets=_loca2.default.parse(locaTable.data,locaTable.offset,font.numGlyphs,shortVersion),glyfTable=uncompressTable(data,glyfTableEntry);font.glyphs=_glyf2.default.parse(glyfTable.data,glyfTable.offset,locaOffsets,font)}else{if(!cffTableEntry)throw new Error("Font doesn't contain TrueType or CFF outlines.");var cffTable=uncompressTable(data,cffTableEntry);_cff2.default.parse(cffTable.data,cffTable.offset,font)}var hmtxTable=uncompressTable(data,hmtxTableEntry);if(_hmtx2.default.parse(hmtxTable.data,hmtxTable.offset,font.numberOfHMetrics,font.numGlyphs,font.glyphs),(0,_encoding.addGlyphNames)(font),kernTableEntry){var kernTable=uncompressTable(data,kernTableEntry);font.kerningPairs=_kern2.default.parse(kernTable.data,kernTable.offset)}else font.kerningPairs={};if(gposTableEntry){var gposTable=uncompressTable(data,gposTableEntry);_gpos2.default.parse(gposTable.data,gposTable.offset,font)}if(gsubTableEntry){var gsubTable=uncompressTable(data,gsubTableEntry);font.tables.gsub=_gsub2.default.parse(gsubTable.data,gsubTable.offset)}if(fvarTableEntry){var fvarTable=uncompressTable(data,fvarTableEntry);font.tables.fvar=_fvar2.default.parse(fvarTable.data,fvarTable.offset,font.names)}if(metaTableEntry){var metaTable=uncompressTable(data,metaTableEntry);font.tables.meta=_meta2.default.parse(metaTable.data,metaTable.offset),font.metas=font.tables.meta}return font}exports.Font=_font2.default,exports.Glyph=_glyph2.default,exports.Path=_path2.default,exports.BoundingBox=_bbox2.default,exports._parse=_parse2.default,exports.parse=parseBuffer,exports.load=function(url,callback){("undefined"==typeof window?loadFromFile:loadFromUrl)(url,function(err,arrayBuffer){if(err)return callback(err);var font=void 0;try{font=parseBuffer(arrayBuffer)}catch(e){return callback(e,null)}return callback(null,font)})},exports.loadSync=function(url){var buffer=__webpack_require__(11).readFileSync(url);return parseBuffer((0,_util.nodeBufferToArrayBuffer)(buffer))}},function(module,exports,__webpack_require__){"use strict";function derive(v0,v1,v2,v3,t){return Math.pow(1-t,3)*v0+3*Math.pow(1-t,2)*t*v1+3*(1-t)*Math.pow(t,2)*v2+Math.pow(t,3)*v3}function BoundingBox(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Object.defineProperty(exports,"__esModule",{value:!0}),BoundingBox.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},BoundingBox.prototype.addPoint=function(x,y){"number"==typeof x&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),"number"==typeof y&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=y,this.y2=y),y<this.y1&&(this.y1=y),y>this.y2&&(this.y2=y))},BoundingBox.prototype.addX=function(x){this.addPoint(x,null)},BoundingBox.prototype.addY=function(y){this.addPoint(null,y)},BoundingBox.prototype.addBezier=function(x0,y0,x1,y1,x2,y2,x,y){var p0=[x0,y0],p1=[x1,y1],p2=[x2,y2],p3=[x,y];this.addPoint(x0,y0),this.addPoint(x,y);for(var i=0;i<=1;i++){var b=6*p0[i]-12*p1[i]+6*p2[i],a=-3*p0[i]+9*p1[i]-9*p2[i]+3*p3[i],c=3*p1[i]-3*p0[i];if(0!==a){var b2ac=Math.pow(b,2)-4*c*a;if(!(b2ac<0)){var t1=(-b+Math.sqrt(b2ac))/(2*a);0<t1&&t1<1&&(0===i&&this.addX(derive(p0[i],p1[i],p2[i],p3[i],t1)),1===i&&this.addY(derive(p0[i],p1[i],p2[i],p3[i],t1)));var t2=(-b-Math.sqrt(b2ac))/(2*a);0<t2&&t2<1&&(0===i&&this.addX(derive(p0[i],p1[i],p2[i],p3[i],t2)),1===i&&this.addY(derive(p0[i],p1[i],p2[i],p3[i],t2)))}}else{if(0===b)continue;var t=-c/b;0<t&&t<1&&(0===i&&this.addX(derive(p0[i],p1[i],p2[i],p3[i],t)),1===i&&this.addY(derive(p0[i],p1[i],p2[i],p3[i],t)))}}},BoundingBox.prototype.addQuad=function(x0,y0,x1,y1,x,y){var cp1x=x0+2/3*(x1-x0),cp1y=y0+2/3*(y1-y0),cp2x=cp1x+1/3*(x-x0),cp2y=cp1y+1/3*(y-y0);this.addBezier(x0,y0,cp1x,cp1y,cp2x,cp2y,x,y)},exports.default=BoundingBox},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function addSegment(t,code,glyphIndex){t.segments.push({end:code,start:code,delta:-(code-glyphIndex),offset:0})}exports.default={parse:function(data,start){var cmap={};cmap.version=_parse2.default.getUShort(data,start),_check2.default.argument(0===cmap.version,"cmap table version should be 0."),cmap.numTables=_parse2.default.getUShort(data,start+2);for(var offset=-1,i=cmap.numTables-1;i>=0;i-=1){var platformId=_parse2.default.getUShort(data,start+4+8*i),encodingId=_parse2.default.getUShort(data,start+4+8*i+2);if(3===platformId&&(0===encodingId||1===encodingId||10===encodingId)){offset=_parse2.default.getULong(data,start+4+8*i+4);break}}if(-1===offset)throw new Error("No valid cmap sub-tables found.");var p=new _parse2.default.Parser(data,start+offset);if(cmap.format=p.parseUShort(),12===cmap.format)!function(cmap,p){var groupCount;p.parseUShort(),cmap.length=p.parseULong(),cmap.language=p.parseULong(),cmap.groupCount=groupCount=p.parseULong(),cmap.glyphIndexMap={};for(var i=0;i<groupCount;i+=1)for(var startCharCode=p.parseULong(),endCharCode=p.parseULong(),startGlyphId=p.parseULong(),c=startCharCode;c<=endCharCode;c+=1)cmap.glyphIndexMap[c]=startGlyphId,startGlyphId++}(cmap,p);else{if(4!==cmap.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+cmap.format+").");!function(cmap,p,data,start,offset){var segCount;cmap.length=p.parseUShort(),cmap.language=p.parseUShort(),cmap.segCount=segCount=p.parseUShort()>>1,p.skip("uShort",3),cmap.glyphIndexMap={};for(var endCountParser=new _parse2.default.Parser(data,start+offset+14),startCountParser=new _parse2.default.Parser(data,start+offset+16+2*segCount),idDeltaParser=new _parse2.default.Parser(data,start+offset+16+4*segCount),idRangeOffsetParser=new _parse2.default.Parser(data,start+offset+16+6*segCount),glyphIndexOffset=start+offset+16+8*segCount,i=0;i<segCount-1;i+=1)for(var glyphIndex=void 0,endCount=endCountParser.parseUShort(),startCount=startCountParser.parseUShort(),idDelta=idDeltaParser.parseShort(),idRangeOffset=idRangeOffsetParser.parseUShort(),c=startCount;c<=endCount;c+=1)0!==idRangeOffset?(glyphIndexOffset=idRangeOffsetParser.offset+idRangeOffsetParser.relativeOffset-2,glyphIndexOffset+=idRangeOffset,glyphIndexOffset+=2*(c-startCount),0!==(glyphIndex=_parse2.default.getUShort(data,glyphIndexOffset))&&(glyphIndex=glyphIndex+idDelta&65535)):glyphIndex=c+idDelta&65535,cmap.glyphIndexMap[c]=glyphIndex}(cmap,p,data,start,offset)}return cmap},make:function(glyphs){var segCount,t=new _table2.default.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.segments=[];for(var i=0;i<glyphs.length;i+=1){for(var glyph=glyphs.get(i),j=0;j<glyph.unicodes.length;j+=1)addSegment(t,glyph.unicodes[j],i);t.segments=t.segments.sort(function(a,b){return a.start-b.start})}!function(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}(t),segCount=t.segments.length,t.segCountX2=2*segCount,t.searchRange=2*Math.pow(2,Math.floor(Math.log(segCount)/Math.log(2))),t.entrySelector=Math.log(t.searchRange/2)/Math.log(2),t.rangeShift=t.segCountX2-t.searchRange;for(var endCounts=[],startCounts=[],idDeltas=[],idRangeOffsets=[],glyphIds=[],_i=0;_i<segCount;_i+=1){var segment=t.segments[_i];endCounts=endCounts.concat({name:"end_"+_i,type:"USHORT",value:segment.end}),startCounts=startCounts.concat({name:"start_"+_i,type:"USHORT",value:segment.start}),idDeltas=idDeltas.concat({name:"idDelta_"+_i,type:"SHORT",value:segment.delta}),idRangeOffsets=idRangeOffsets.concat({name:"idRangeOffset_"+_i,type:"USHORT",value:segment.offset}),void 0!==segment.glyphId&&(glyphIds=glyphIds.concat({name:"glyph_"+_i,type:"USHORT",value:segment.glyphId}))}return t.fields=t.fields.concat(endCounts),t.fields.push({name:"reservedPad",type:"USHORT",value:0}),t.fields=t.fields.concat(startCounts),t.fields=t.fields.concat(idDeltas),t.fields=t.fields.concat(idRangeOffsets),t.fields=t.fields.concat(glyphIds),t.length=14+2*endCounts.length+2+2*startCounts.length+2*idDeltas.length+2*idRangeOffsets.length+2*glyphIds.length,t}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _encoding=__webpack_require__(6),_glyphset2=_interopRequireDefault(__webpack_require__(10)),_parse2=_interopRequireDefault(__webpack_require__(0)),_path2=_interopRequireDefault(__webpack_require__(5)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function equals(a,b){if(a===b)return!0;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(var i=0;i<a.length;i+=1)if(!equals(a[i],b[i]))return!1;return!0}return!1}function calcCFFSubroutineBias(subrs){return subrs.length<1240?107:subrs.length<33900?1131:32768}function parseCFFIndex(data,start,conversionFn){var offsets=[],objects=[],count=_parse2.default.getCard16(data,start),objectOffset=void 0,endOffset=void 0;if(0!==count){var offsetSize=_parse2.default.getByte(data,start+2);objectOffset=start+(count+1)*offsetSize+2;for(var pos=start+3,i=0;i<count+1;i+=1)offsets.push(_parse2.default.getOffset(data,pos,offsetSize)),pos+=offsetSize;endOffset=objectOffset+offsets[count]}else endOffset=start+2;for(var _i=0;_i<offsets.length-1;_i+=1){var value=_parse2.default.getBytes(data,objectOffset+offsets[_i],objectOffset+offsets[_i+1]);conversionFn&&(value=conversionFn(value)),objects.push(value)}return{objects:objects,startOffset:start,endOffset:endOffset}}function parseOperand(parser,b0){if(28===b0)return parser.parseByte()<<8|parser.parseByte();if(29===b0)return parser.parseByte()<<24|parser.parseByte()<<16|parser.parseByte()<<8|parser.parseByte();if(30===b0)return function(parser){for(var s="",lookup=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var b=parser.parseByte(),n1=b>>4,n2=15&b;if(15===n1)break;if(s+=lookup[n1],15===n2)break;s+=lookup[n2]}return parseFloat(s)}(parser);if(b0>=32&&b0<=246)return b0-139;if(b0>=247&&b0<=250)return 256*(b0-247)+parser.parseByte()+108;if(b0>=251&&b0<=254)return 256*-(b0-251)-parser.parseByte()-108;throw new Error("Invalid b0 "+b0)}function parseCFFDict(data,start,size){start=void 0!==start?start:0;var parser=new _parse2.default.Parser(data,start),entries=[],operands=[];for(size=void 0!==size?size:data.length;parser.relativeOffset<size;){var op=parser.parseByte();op<=21?(12===op&&(op=1200+parser.parseByte()),entries.push([op,operands]),operands=[]):operands.push(parseOperand(parser,op))}return function(entries){for(var o={},i=0;i<entries.length;i+=1){var key=entries[i][0],values=entries[i][1],value=void 0;if(value=1===values.length?values[0]:values,o.hasOwnProperty(key)&&!isNaN(o[key]))throw new Error("Object "+o+" already has key "+key);o[key]=value}return o}(entries)}function getCFFString(strings,index){return index=index<=390?_encoding.cffStandardStrings[index]:strings[index-391]}function interpretDict(dict,meta,strings){for(var newDict={},value=void 0,i=0;i<meta.length;i+=1){var m=meta[i];if(Array.isArray(m.type)){var values=[];values.length=m.type.length;for(var j=0;j<m.type.length;j++)void 0===(value=void 0!==dict[m.op]?dict[m.op][j]:void 0)&&(value=void 0!==m.value&&void 0!==m.value[j]?m.value[j]:null),"SID"===m.type[j]&&(value=getCFFString(strings,value)),values[j]=value;newDict[m.name]=values}else void 0===(value=dict[m.op])&&(value=void 0!==m.value?m.value:null),"SID"===m.type&&(value=getCFFString(strings,value)),newDict[m.name]=value}return newDict}var TOP_DICT_META=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],PRIVATE_DICT_META=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function parseCFFTopDict(data,strings){return interpretDict(parseCFFDict(data,0,data.byteLength),TOP_DICT_META,strings)}function parseCFFPrivateDict(data,start,size,strings){return interpretDict(parseCFFDict(data,start,size),PRIVATE_DICT_META,strings)}function gatherCFFTopDicts(data,start,cffIndex,strings){for(var topDictArray=[],iTopDict=0;iTopDict<cffIndex.length;iTopDict+=1){var topDict=parseCFFTopDict(new DataView(new Uint8Array(cffIndex[iTopDict]).buffer),strings);topDict._subrs=[],topDict._subrsBias=0;var privateSize=topDict.private[0],privateOffset=topDict.private[1];if(0!==privateSize&&0!==privateOffset){var privateDict=parseCFFPrivateDict(data,privateOffset+start,privateSize,strings);if(topDict._defaultWidthX=privateDict.defaultWidthX,topDict._nominalWidthX=privateDict.nominalWidthX,0!==privateDict.subrs){var subrIndex=parseCFFIndex(data,privateOffset+privateDict.subrs+start);topDict._subrs=subrIndex.objects,topDict._subrsBias=calcCFFSubroutineBias(topDict._subrs)}topDict._privateDict=privateDict}topDictArray.push(topDict)}return topDictArray}function parseCFFCharstring(font,glyph,code){var c1x=void 0,c1y=void 0,c2x=void 0,c2y=void 0,p=new _path2.default,stack=[],nStems=0,haveWidth=!1,open=!1,x=0,y=0,subrs=void 0,subrsBias=void 0,defaultWidthX=void 0,nominalWidthX=void 0;if(font.isCIDFont){var fdIndex=font.tables.cff.topDict._fdSelect[glyph.index],fdDict=font.tables.cff.topDict._fdArray[fdIndex];subrs=fdDict._subrs,subrsBias=fdDict._subrsBias,defaultWidthX=fdDict._defaultWidthX,nominalWidthX=fdDict._nominalWidthX}else subrs=font.tables.cff.topDict._subrs,subrsBias=font.tables.cff.topDict._subrsBias,defaultWidthX=font.tables.cff.topDict._defaultWidthX,nominalWidthX=font.tables.cff.topDict._nominalWidthX;var width=defaultWidthX;function newContour(x,y){open&&p.closePath(),p.moveTo(x,y),open=!0}function parseStems(){stack.length%2!=0&&!haveWidth&&(width=stack.shift()+nominalWidthX),nStems+=stack.length>>1,stack.length=0,haveWidth=!0}return function parse(code){for(var b1=void 0,b2=void 0,b3=void 0,b4=void 0,codeIndex=void 0,subrCode=void 0,jpx=void 0,jpy=void 0,c3x=void 0,c3y=void 0,c4x=void 0,c4y=void 0,i=0;i<code.length;){var v=code[i];switch(i+=1,v){case 1:case 3:parseStems();break;case 4:stack.length>1&&!haveWidth&&(width=stack.shift()+nominalWidthX,haveWidth=!0),y+=stack.pop(),newContour(x,y);break;case 5:for(;stack.length>0;)x+=stack.shift(),y+=stack.shift(),p.lineTo(x,y);break;case 6:for(;stack.length>0&&(x+=stack.shift(),p.lineTo(x,y),0!==stack.length);)y+=stack.shift(),p.lineTo(x,y);break;case 7:for(;stack.length>0&&(y+=stack.shift(),p.lineTo(x,y),0!==stack.length);)x+=stack.shift(),p.lineTo(x,y);break;case 8:for(;stack.length>0;)c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 10:codeIndex=stack.pop()+subrsBias,(subrCode=subrs[codeIndex])&&parse(subrCode);break;case 11:return;case 12:switch(v=code[i],i+=1,v){case 35:c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),jpx=c2x+stack.shift(),jpy=c2y+stack.shift(),c3x=jpx+stack.shift(),c3y=jpy+stack.shift(),c4x=c3x+stack.shift(),c4y=c3y+stack.shift(),x=c4x+stack.shift(),y=c4y+stack.shift(),stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy),p.curveTo(c3x,c3y,c4x,c4y,x,y);break;case 34:c1x=x+stack.shift(),c1y=y,c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),jpx=c2x+stack.shift(),jpy=c2y,c3x=jpx+stack.shift(),c3y=c2y,c4x=c3x+stack.shift(),c4y=y,x=c4x+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy),p.curveTo(c3x,c3y,c4x,c4y,x,y);break;case 36:c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),jpx=c2x+stack.shift(),jpy=c2y,c3x=jpx+stack.shift(),c3y=c2y,c4x=c3x+stack.shift(),c4y=c3y+stack.shift(),x=c4x+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy),p.curveTo(c3x,c3y,c4x,c4y,x,y);break;case 37:c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),jpx=c2x+stack.shift(),jpy=c2y+stack.shift(),c3x=jpx+stack.shift(),c3y=jpy+stack.shift(),c4x=c3x+stack.shift(),c4y=c3y+stack.shift(),Math.abs(c4x-x)>Math.abs(c4y-y)?x=c4x+stack.shift():y=c4y+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy),p.curveTo(c3x,c3y,c4x,c4y,x,y);break;default:console.log("Glyph "+glyph.index+": unknown operator 1200"+v),stack.length=0}break;case 14:stack.length>0&&!haveWidth&&(width=stack.shift()+nominalWidthX,haveWidth=!0),open&&(p.closePath(),open=!1);break;case 18:parseStems();break;case 19:case 20:parseStems(),i+=nStems+7>>3;break;case 21:stack.length>2&&!haveWidth&&(width=stack.shift()+nominalWidthX,haveWidth=!0),y+=stack.pop(),newContour(x+=stack.pop(),y);break;case 22:stack.length>1&&!haveWidth&&(width=stack.shift()+nominalWidthX,haveWidth=!0),newContour(x+=stack.pop(),y);break;case 23:parseStems();break;case 24:for(;stack.length>2;)c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,x,y);x+=stack.shift(),y+=stack.shift(),p.lineTo(x,y);break;case 25:for(;stack.length>6;)x+=stack.shift(),y+=stack.shift(),p.lineTo(x,y);c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 26:for(stack.length%2&&(x+=stack.shift());stack.length>0;)c1x=x,c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x,y=c2y+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 27:for(stack.length%2&&(y+=stack.shift());stack.length>0;)c1x=x+stack.shift(),c1y=y,c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y,p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 28:b1=code[i],b2=code[i+1],stack.push((b1<<24|b2<<16)>>16),i+=2;break;case 29:codeIndex=stack.pop()+font.gsubrsBias,(subrCode=font.gsubrs[codeIndex])&&parse(subrCode);break;case 30:for(;stack.length>0&&(c1x=x,c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y+(1===stack.length?stack.shift():0),p.curveTo(c1x,c1y,c2x,c2y,x,y),0!==stack.length);)c1x=x+stack.shift(),c1y=y,c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),y=c2y+stack.shift(),x=c2x+(1===stack.length?stack.shift():0),p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 31:for(;stack.length>0&&(c1x=x+stack.shift(),c1y=y,c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),y=c2y+stack.shift(),x=c2x+(1===stack.length?stack.shift():0),p.curveTo(c1x,c1y,c2x,c2y,x,y),0!==stack.length);)c1x=x,c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y+(1===stack.length?stack.shift():0),p.curveTo(c1x,c1y,c2x,c2y,x,y);break;default:v<32?console.log("Glyph "+glyph.index+": unknown operator "+v):v<247?stack.push(v-139):v<251?(b1=code[i],i+=1,stack.push(256*(v-247)+b1+108)):v<255?(b1=code[i],i+=1,stack.push(256*-(v-251)-b1-108)):(b1=code[i],b2=code[i+1],b3=code[i+2],b4=code[i+3],i+=4,stack.push((b1<<24|b2<<16|b3<<8|b4)/65536))}}}(code),glyph.advanceWidth=width,p}function encodeString(s,strings){var sid=void 0,i=_encoding.cffStandardStrings.indexOf(s);return i>=0&&(sid=i),(i=strings.indexOf(s))>=0?sid=i+_encoding.cffStandardStrings.length:(sid=_encoding.cffStandardStrings.length+strings.length,strings.push(s)),sid}function makeDict(meta,attrs,strings){for(var m={},i=0;i<meta.length;i+=1){var entry=meta[i],value=attrs[entry.name];void 0===value||equals(value,entry.value)||("SID"===entry.type&&(value=encodeString(value,strings)),m[entry.op]={name:entry.name,type:entry.type,value:value})}return m}function makeTopDict(attrs,strings){var t=new _table2.default.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=makeDict(TOP_DICT_META,attrs,strings),t}function makeTopDictIndex(topDict){var t=new _table2.default.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:topDict}],t}function glyphToOps(glyph){var ops=[],path=glyph.path;ops.push({name:"width",type:"NUMBER",value:glyph.advanceWidth});for(var x=0,y=0,i=0;i<path.commands.length;i+=1){var dx=void 0,dy=void 0,cmd=path.commands[i];if("Q"===cmd.type){cmd={type:"C",x:cmd.x,y:cmd.y,x1:1/3*x+2/3*cmd.x1,y1:1/3*y+2/3*cmd.y1,x2:1/3*cmd.x+2/3*cmd.x1,y2:1/3*cmd.y+2/3*cmd.y1}}if("M"===cmd.type)dx=Math.round(cmd.x-x),dy=Math.round(cmd.y-y),ops.push({name:"dx",type:"NUMBER",value:dx}),ops.push({name:"dy",type:"NUMBER",value:dy}),ops.push({name:"rmoveto",type:"OP",value:21}),x=Math.round(cmd.x),y=Math.round(cmd.y);else if("L"===cmd.type)dx=Math.round(cmd.x-x),dy=Math.round(cmd.y-y),ops.push({name:"dx",type:"NUMBER",value:dx}),ops.push({name:"dy",type:"NUMBER",value:dy}),ops.push({name:"rlineto",type:"OP",value:5}),x=Math.round(cmd.x),y=Math.round(cmd.y);else if("C"===cmd.type){var dx1=Math.round(cmd.x1-x),dy1=Math.round(cmd.y1-y),dx2=Math.round(cmd.x2-cmd.x1),dy2=Math.round(cmd.y2-cmd.y1);dx=Math.round(cmd.x-cmd.x2),dy=Math.round(cmd.y-cmd.y2),ops.push({name:"dx1",type:"NUMBER",value:dx1}),ops.push({name:"dy1",type:"NUMBER",value:dy1}),ops.push({name:"dx2",type:"NUMBER",value:dx2}),ops.push({name:"dy2",type:"NUMBER",value:dy2}),ops.push({name:"dx",type:"NUMBER",value:dx}),ops.push({name:"dy",type:"NUMBER",value:dy}),ops.push({name:"rrcurveto",type:"OP",value:8}),x=Math.round(cmd.x),y=Math.round(cmd.y)}}return ops.push({name:"endchar",type:"OP",value:14}),ops}exports.default={parse:function(data,start,font){font.tables.cff={};var topDictIndex=parseCFFIndex(data,parseCFFIndex(data,function(data,start){var header={};return header.formatMajor=_parse2.default.getCard8(data,start),header.formatMinor=_parse2.default.getCard8(data,start+1),header.size=_parse2.default.getCard8(data,start+2),header.offsetSize=_parse2.default.getCard8(data,start+3),header.startOffset=start,header.endOffset=start+4,header}(data,start).endOffset,_parse2.default.bytesToString).endOffset),stringIndex=parseCFFIndex(data,topDictIndex.endOffset,_parse2.default.bytesToString),globalSubrIndex=parseCFFIndex(data,stringIndex.endOffset);font.gsubrs=globalSubrIndex.objects,font.gsubrsBias=calcCFFSubroutineBias(font.gsubrs);var topDictArray=gatherCFFTopDicts(data,start,topDictIndex.objects,stringIndex.objects);if(1!==topDictArray.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+topDictArray.length);var topDict=topDictArray[0];if(font.tables.cff.topDict=topDict,topDict._privateDict&&(font.defaultWidthX=topDict._privateDict.defaultWidthX,font.nominalWidthX=topDict._privateDict.nominalWidthX),void 0!==topDict.ros[0]&&void 0!==topDict.ros[1]&&(font.isCIDFont=!0),font.isCIDFont){var fdArrayOffset=topDict.fdArray,fdSelectOffset=topDict.fdSelect;if(0===fdArrayOffset||0===fdSelectOffset)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var fdArray=gatherCFFTopDicts(data,start,parseCFFIndex(data,fdArrayOffset+=start).objects,stringIndex.objects);topDict._fdArray=fdArray,fdSelectOffset+=start,topDict._fdSelect=function(data,start,nGlyphs,fdArrayCount){var fdSelect=[],fdIndex=void 0,parser=new _parse2.default.Parser(data,start),format=parser.parseCard8();if(0===format)for(var iGid=0;iGid<nGlyphs;iGid++){if((fdIndex=parser.parseCard8())>=fdArrayCount)throw new Error("CFF table CID Font FDSelect has bad FD index value "+fdIndex+" (FD count "+fdArrayCount+")");fdSelect.push(fdIndex)}else{if(3!==format)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+format);var nRanges=parser.parseCard16(),first=parser.parseCard16();if(0!==first)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+first);for(var next=void 0,iRange=0;iRange<nRanges;iRange++){if(fdIndex=parser.parseCard8(),next=parser.parseCard16(),fdIndex>=fdArrayCount)throw new Error("CFF table CID Font FDSelect has bad FD index value "+fdIndex+" (FD count "+fdArrayCount+")");if(next>nGlyphs)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+next);for(;first<next;first++)fdSelect.push(fdIndex);first=next}if(next!==nGlyphs)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+next)}return fdSelect}(data,fdSelectOffset,font.numGlyphs,fdArray.length)}var privateDictOffset=start+topDict.private[1],privateDict=parseCFFPrivateDict(data,privateDictOffset,topDict.private[0],stringIndex.objects);if(font.defaultWidthX=privateDict.defaultWidthX,font.nominalWidthX=privateDict.nominalWidthX,0!==privateDict.subrs){var subrIndex=parseCFFIndex(data,privateDictOffset+privateDict.subrs);font.subrs=subrIndex.objects,font.subrsBias=calcCFFSubroutineBias(font.subrs)}else font.subrs=[],font.subrsBias=0;var charStringsIndex=parseCFFIndex(data,start+topDict.charStrings);font.nGlyphs=charStringsIndex.objects.length;var charset=function(data,start,nGlyphs,strings){var sid=void 0,count=void 0,parser=new _parse2.default.Parser(data,start);nGlyphs-=1;var charset=[".notdef"],format=parser.parseCard8();if(0===format)for(var i=0;i<nGlyphs;i+=1)sid=parser.parseSID(),charset.push(getCFFString(strings,sid));else if(1===format)for(;charset.length<=nGlyphs;){sid=parser.parseSID(),count=parser.parseCard8();for(var _i2=0;_i2<=count;_i2+=1)charset.push(getCFFString(strings,sid)),sid+=1}else{if(2!==format)throw new Error("Unknown charset format "+format);for(;charset.length<=nGlyphs;){sid=parser.parseSID(),count=parser.parseCard16();for(var _i3=0;_i3<=count;_i3+=1)charset.push(getCFFString(strings,sid)),sid+=1}}return charset}(data,start+topDict.charset,font.nGlyphs,stringIndex.objects);0===topDict.encoding?font.cffEncoding=new _encoding.CffEncoding(_encoding.cffStandardEncoding,charset):1===topDict.encoding?font.cffEncoding=new _encoding.CffEncoding(_encoding.cffExpertEncoding,charset):font.cffEncoding=function(data,start,charset){var code=void 0,enc={},parser=new _parse2.default.Parser(data,start),format=parser.parseCard8();if(0===format)for(var nCodes=parser.parseCard8(),i=0;i<nCodes;i+=1)enc[code=parser.parseCard8()]=i;else{if(1!==format)throw new Error("Unknown encoding format "+format);var nRanges=parser.parseCard8();code=1;for(var _i4=0;_i4<nRanges;_i4+=1)for(var first=parser.parseCard8(),nLeft=parser.parseCard8(),j=first;j<=first+nLeft;j+=1)enc[j]=code,code+=1}return new _encoding.CffEncoding(enc,charset)}(data,start+topDict.encoding,charset),font.encoding=font.encoding||font.cffEncoding,font.glyphs=new _glyphset2.default.GlyphSet(font);for(var i=0;i<font.nGlyphs;i+=1){var charString=charStringsIndex.objects[i];font.glyphs.push(i,_glyphset2.default.cffGlyphLoader(font,i,parseCFFCharstring,charString))}},make:function(glyphs,options){for(var t=new _table2.default.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),fontScale=1/options.unitsPerEm,attrs={version:options.version,fullName:options.fullName,familyName:options.familyName,weight:options.weightName,fontBBox:options.fontBBox||[0,0,0,0],fontMatrix:[fontScale,0,0,fontScale,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},glyphNames=[],glyph=void 0,i=1;i<glyphs.length;i+=1)glyph=glyphs.get(i),glyphNames.push(glyph.name);var strings=[];t.header=new _table2.default.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),t.nameIndex=function(fontNames){var t=new _table2.default.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var i=0;i<fontNames.length;i+=1)t.names.push({name:"name_"+i,type:"NAME",value:fontNames[i]});return t}([options.postScriptName]);var topDict=makeTopDict(attrs,strings);t.topDictIndex=makeTopDictIndex(topDict),t.globalSubrIndex=new _table2.default.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),t.charsets=function(glyphNames,strings){for(var t=new _table2.default.Record("Charsets",[{name:"format",type:"Card8",value:0}]),i=0;i<glyphNames.length;i+=1){var glyphSID=encodeString(glyphNames[i],strings);t.fields.push({name:"glyph_"+i,type:"SID",value:glyphSID})}return t}(glyphNames,strings),t.charStringsIndex=function(glyphs){for(var t=new _table2.default.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),i=0;i<glyphs.length;i+=1){var glyph=glyphs.get(i),ops=glyphToOps(glyph);t.charStrings.push({name:glyph.name,type:"CHARSTRING",value:ops})}return t}(glyphs),t.privateDict=function(attrs,strings){var t=new _table2.default.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=makeDict(PRIVATE_DICT_META,attrs,strings),t}({},strings),t.stringIndex=function(strings){var t=new _table2.default.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var i=0;i<strings.length;i+=1)t.strings.push({name:"string_"+i,type:"STRING",value:strings[i]});return t}(strings);var startOffset=t.header.sizeOf()+t.nameIndex.sizeOf()+t.topDictIndex.sizeOf()+t.stringIndex.sizeOf()+t.globalSubrIndex.sizeOf();return attrs.charset=startOffset,attrs.encoding=0,attrs.charStrings=attrs.charset+t.charsets.sizeOf(),attrs.private[1]=attrs.charStrings+t.charStringsIndex.sizeOf(),topDict=makeTopDict(attrs,strings),t.topDictIndex=makeTopDictIndex(topDict),t}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_draw2=_interopRequireDefault(__webpack_require__(37)),_path3=_interopRequireDefault(__webpack_require__(5)),_glyf2=_interopRequireDefault(__webpack_require__(19));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Glyph(options){this.bindConstructorValues(options)}Glyph.prototype.bindConstructorValues=function(options){var path,_path;this.index=options.index||0,this.name=options.name||null,this.unicode=options.unicode||void 0,this.unicodes=options.unicodes||void 0!==options.unicode?[options.unicode]:[],options.xMin&&(this.xMin=options.xMin),options.yMin&&(this.yMin=options.yMin),options.xMax&&(this.xMax=options.xMax),options.yMax&&(this.yMax=options.yMax),options.advanceWidth&&(this.advanceWidth=options.advanceWidth),Object.defineProperty(this,"path",(path=options.path,_path=path||{commands:[]},{configurable:!0,get:function(){return"function"==typeof _path&&(_path=_path()),_path},set:function(p){_path=p}}))},Glyph.prototype.addUnicode=function(unicode){0===this.unicodes.length&&(this.unicode=unicode),this.unicodes.push(unicode)},Glyph.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Glyph.prototype.getPath=function(x,y,fontSize,options,font){x=void 0!==x?x:0,y=void 0!==y?y:0,fontSize=void 0!==fontSize?fontSize:72;var commands=void 0,hPoints=void 0;options||(options={});var xScale=options.xScale,yScale=options.yScale;if(options.hinting&&font&&font.hinting&&(hPoints=this.path&&font.hinting.exec(this,fontSize)),hPoints)commands=_glyf2.default.getPath(hPoints).commands,x=Math.round(x),y=Math.round(y),xScale=yScale=1;else{commands=this.path.commands;var scale=1/this.path.unitsPerEm*fontSize;void 0===xScale&&(xScale=scale),void 0===yScale&&(yScale=scale)}for(var p=new _path3.default,i=0;i<commands.length;i+=1){var cmd=commands[i];"M"===cmd.type?p.moveTo(x+cmd.x*xScale,y+-cmd.y*yScale):"L"===cmd.type?p.lineTo(x+cmd.x*xScale,y+-cmd.y*yScale):"Q"===cmd.type?p.quadraticCurveTo(x+cmd.x1*xScale,y+-cmd.y1*yScale,x+cmd.x*xScale,y+-cmd.y*yScale):"C"===cmd.type?p.curveTo(x+cmd.x1*xScale,y+-cmd.y1*yScale,x+cmd.x2*xScale,y+-cmd.y2*yScale,x+cmd.x*xScale,y+-cmd.y*yScale):"Z"===cmd.type&&p.closePath()}return p},Glyph.prototype.getContours=function(){if(void 0===this.points)return[];for(var contours=[],currentContour=[],i=0;i<this.points.length;i+=1){var pt=this.points[i];currentContour.push(pt),pt.lastPointOfContour&&(contours.push(currentContour),currentContour=[])}return _check2.default.argument(0===currentContour.length,"There are still points left in the current contour."),contours},Glyph.prototype.getMetrics=function(){for(var commands=this.path.commands,xCoords=[],yCoords=[],i=0;i<commands.length;i+=1){var cmd=commands[i];"Z"!==cmd.type&&(xCoords.push(cmd.x),yCoords.push(cmd.y)),"Q"!==cmd.type&&"C"!==cmd.type||(xCoords.push(cmd.x1),yCoords.push(cmd.y1)),"C"===cmd.type&&(xCoords.push(cmd.x2),yCoords.push(cmd.y2))}var metrics={xMin:Math.min.apply(null,xCoords),yMin:Math.min.apply(null,yCoords),xMax:Math.max.apply(null,xCoords),yMax:Math.max.apply(null,yCoords),leftSideBearing:this.leftSideBearing};return isFinite(metrics.xMin)||(metrics.xMin=0),isFinite(metrics.xMax)||(metrics.xMax=this.advanceWidth),isFinite(metrics.yMin)||(metrics.yMin=0),isFinite(metrics.yMax)||(metrics.yMax=0),metrics.rightSideBearing=this.advanceWidth-metrics.leftSideBearing-(metrics.xMax-metrics.xMin),metrics},Glyph.prototype.draw=function(ctx,x,y,fontSize,options){this.getPath(x,y,fontSize,options).draw(ctx)},Glyph.prototype.drawPoints=function(ctx,x,y,fontSize){function drawCircles(l,x,y,scale){var PI_SQ=2*Math.PI;ctx.beginPath();for(var j=0;j<l.length;j+=1)ctx.moveTo(x+l[j].x*scale,y+l[j].y*scale),ctx.arc(x+l[j].x*scale,y+l[j].y*scale,2,0,PI_SQ,!1);ctx.closePath(),ctx.fill()}x=void 0!==x?x:0,y=void 0!==y?y:0,fontSize=void 0!==fontSize?fontSize:24;for(var scale=1/this.path.unitsPerEm*fontSize,blueCircles=[],redCircles=[],path=this.path,i=0;i<path.commands.length;i+=1){var cmd=path.commands[i];void 0!==cmd.x&&blueCircles.push({x:cmd.x,y:-cmd.y}),void 0!==cmd.x1&&redCircles.push({x:cmd.x1,y:-cmd.y1}),void 0!==cmd.x2&&redCircles.push({x:cmd.x2,y:-cmd.y2})}ctx.fillStyle="blue",drawCircles(blueCircles,x,y,scale),ctx.fillStyle="red",drawCircles(redCircles,x,y,scale)},Glyph.prototype.drawMetrics=function(ctx,x,y,fontSize){var scale;x=void 0!==x?x:0,y=void 0!==y?y:0,fontSize=void 0!==fontSize?fontSize:24,scale=1/this.path.unitsPerEm*fontSize,ctx.lineWidth=1,ctx.strokeStyle="black",_draw2.default.line(ctx,x,-1e4,x,1e4),_draw2.default.line(ctx,-1e4,y,1e4,y);var xMin=this.xMin||0,yMin=this.yMin||0,xMax=this.xMax||0,yMax=this.yMax||0,advanceWidth=this.advanceWidth||0;ctx.strokeStyle="blue",_draw2.default.line(ctx,x+xMin*scale,-1e4,x+xMin*scale,1e4),_draw2.default.line(ctx,x+xMax*scale,-1e4,x+xMax*scale,1e4),_draw2.default.line(ctx,-1e4,y+-yMin*scale,1e4,y+-yMin*scale),_draw2.default.line(ctx,-1e4,y+-yMax*scale,1e4,y+-yMax*scale),ctx.strokeStyle="green",_draw2.default.line(ctx,x+advanceWidth*scale,-1e4,x+advanceWidth*scale,1e4)},exports.default=Glyph},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_glyphset2=_interopRequireDefault(__webpack_require__(10)),_parse2=_interopRequireDefault(__webpack_require__(0)),_path2=_interopRequireDefault(__webpack_require__(5));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function parseGlyphCoordinate(p,flag,previousValue,shortVectorBitMask,sameBitMask){var v=void 0;return(flag&shortVectorBitMask)>0?(v=p.parseByte(),0==(flag&sameBitMask)&&(v=-v),v=previousValue+v):v=(flag&sameBitMask)>0?previousValue:previousValue+p.parseShort(),v}function parseGlyph(glyph,data,start){var p=new _parse2.default.Parser(data,start);glyph.numberOfContours=p.parseShort(),glyph._xMin=p.parseShort(),glyph._yMin=p.parseShort(),glyph._xMax=p.parseShort(),glyph._yMax=p.parseShort();var flags=void 0,flag=void 0;if(glyph.numberOfContours>0){for(var endPointIndices=glyph.endPointIndices=[],i=0;i<glyph.numberOfContours;i+=1)endPointIndices.push(p.parseUShort());glyph.instructionLength=p.parseUShort(),glyph.instructions=[];for(var _i=0;_i<glyph.instructionLength;_i+=1)glyph.instructions.push(p.parseByte());var numberOfCoordinates=endPointIndices[endPointIndices.length-1]+1;flags=[];for(var _i2=0;_i2<numberOfCoordinates;_i2+=1)if(flag=p.parseByte(),flags.push(flag),(8&flag)>0)for(var repeatCount=p.parseByte(),j=0;j<repeatCount;j+=1)flags.push(flag),_i2+=1;if(_check2.default.argument(flags.length===numberOfCoordinates,"Bad flags."),endPointIndices.length>0){var points=[],point=void 0;if(numberOfCoordinates>0){for(var _i3=0;_i3<numberOfCoordinates;_i3+=1)flag=flags[_i3],(point={}).onCurve=!!(1&flag),point.lastPointOfContour=endPointIndices.indexOf(_i3)>=0,points.push(point);for(var px=0,_i4=0;_i4<numberOfCoordinates;_i4+=1)flag=flags[_i4],(point=points[_i4]).x=parseGlyphCoordinate(p,flag,px,2,16),px=point.x;for(var py=0,_i5=0;_i5<numberOfCoordinates;_i5+=1)flag=flags[_i5],(point=points[_i5]).y=parseGlyphCoordinate(p,flag,py,4,32),py=point.y}glyph.points=points}else glyph.points=[]}else if(0===glyph.numberOfContours)glyph.points=[];else{glyph.isComposite=!0,glyph.points=[],glyph.components=[];for(var moreComponents=!0;moreComponents;){flags=p.parseUShort();var component={glyphIndex:p.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&flags)>0?(2&flags)>0?(component.dx=p.parseShort(),component.dy=p.parseShort()):component.matchedPoints=[p.parseUShort(),p.parseUShort()]:(2&flags)>0?(component.dx=p.parseChar(),component.dy=p.parseChar()):component.matchedPoints=[p.parseByte(),p.parseByte()],(8&flags)>0?component.xScale=component.yScale=p.parseF2Dot14():(64&flags)>0?(component.xScale=p.parseF2Dot14(),component.yScale=p.parseF2Dot14()):(128&flags)>0&&(component.xScale=p.parseF2Dot14(),component.scale01=p.parseF2Dot14(),component.scale10=p.parseF2Dot14(),component.yScale=p.parseF2Dot14()),glyph.components.push(component),moreComponents=!!(32&flags)}if(256&flags){glyph.instructionLength=p.parseUShort(),glyph.instructions=[];for(var _i6=0;_i6<glyph.instructionLength;_i6+=1)glyph.instructions.push(p.parseByte())}}}function transformPoints(points,transform){for(var newPoints=[],i=0;i<points.length;i+=1){var pt=points[i],newPt={x:transform.xScale*pt.x+transform.scale01*pt.y+transform.dx,y:transform.scale10*pt.x+transform.yScale*pt.y+transform.dy,onCurve:pt.onCurve,lastPointOfContour:pt.lastPointOfContour};newPoints.push(newPt)}return newPoints}function getPath(points){var p=new _path2.default;if(!points)return p;for(var contours=function(points){for(var contours=[],currentContour=[],i=0;i<points.length;i+=1){var pt=points[i];currentContour.push(pt),pt.lastPointOfContour&&(contours.push(currentContour),currentContour=[])}return _check2.default.argument(0===currentContour.length,"There are still points left in the current contour."),contours}(points),contourIndex=0;contourIndex<contours.length;++contourIndex){var contour=contours[contourIndex],prev=null,curr=contour[contour.length-1],next=contour[0];if(curr.onCurve)p.moveTo(curr.x,curr.y);else if(next.onCurve)p.moveTo(next.x,next.y);else{var start={x:.5*(curr.x+next.x),y:.5*(curr.y+next.y)};p.moveTo(start.x,start.y)}for(var i=0;i<contour.length;++i)if(prev=curr,curr=next,next=contour[(i+1)%contour.length],curr.onCurve)p.lineTo(curr.x,curr.y);else{var prev2=prev,next2=next;prev.onCurve||(prev2={x:.5*(curr.x+prev.x),y:.5*(curr.y+prev.y)},p.lineTo(prev2.x,prev2.y)),next.onCurve||(next2={x:.5*(curr.x+next.x),y:.5*(curr.y+next.y)}),p.lineTo(prev2.x,prev2.y),p.quadraticCurveTo(curr.x,curr.y,next2.x,next2.y)}p.closePath()}return p}function buildPath(glyphs,glyph){if(glyph.isComposite)for(var j=0;j<glyph.components.length;j+=1){var component=glyph.components[j],componentGlyph=glyphs.get(component.glyphIndex);if(componentGlyph.getPath(),componentGlyph.points){var transformedPoints=void 0;if(void 0===component.matchedPoints)transformedPoints=transformPoints(componentGlyph.points,component);else{if(component.matchedPoints[0]>glyph.points.length-1||component.matchedPoints[1]>componentGlyph.points.length-1)throw Error("Matched points out of range in "+glyph.name);var firstPt=glyph.points[component.matchedPoints[0]],secondPt=componentGlyph.points[component.matchedPoints[1]],transform={xScale:component.xScale,scale01:component.scale01,scale10:component.scale10,yScale:component.yScale,dx:0,dy:0};secondPt=transformPoints([secondPt],transform)[0],transform.dx=firstPt.x-secondPt.x,transform.dy=firstPt.y-secondPt.y,transformedPoints=transformPoints(componentGlyph.points,transform)}glyph.points=glyph.points.concat(transformedPoints)}}return getPath(glyph.points)}exports.default={getPath:getPath,parse:function(data,start,loca,font){for(var glyphs=new _glyphset2.default.GlyphSet(font),i=0;i<loca.length-1;i+=1){var offset=loca[i];offset!==loca[i+1]?glyphs.push(i,_glyphset2.default.ttfGlyphLoader(font,i,parseGlyph,data,start+offset,buildPath)):glyphs.push(i,_glyphset2.default.glyphLoader(font,i))}return glyphs}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={parse:function(data,start){var head={},p=new _parse2.default.Parser(data,start);return head.version=p.parseVersion(),head.fontRevision=Math.round(1e3*p.parseFixed())/1e3,head.checkSumAdjustment=p.parseULong(),head.magicNumber=p.parseULong(),_check2.default.argument(1594834165===head.magicNumber,"Font header has wrong magic number."),head.flags=p.parseUShort(),head.unitsPerEm=p.parseUShort(),head.created=p.parseLongDateTime(),head.modified=p.parseLongDateTime(),head.xMin=p.parseShort(),head.yMin=p.parseShort(),head.xMax=p.parseShort(),head.yMax=p.parseShort(),head.macStyle=p.parseUShort(),head.lowestRecPPEM=p.parseUShort(),head.fontDirectionHint=p.parseShort(),head.indexToLocFormat=p.parseShort(),head.glyphDataFormat=p.parseShort(),head},make:function(options){var timestamp=Math.round((new Date).getTime()/1e3)+2082844800,createdTimestamp=timestamp;return options.createdTimestamp&&(createdTimestamp=options.createdTimestamp+2082844800),new _table2.default.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:createdTimestamp},{name:"modified",type:"LONGDATETIME",value:timestamp},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],options)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={parse:function(data,start){var hhea={},p=new _parse2.default.Parser(data,start);return hhea.version=p.parseVersion(),hhea.ascender=p.parseShort(),hhea.descender=p.parseShort(),hhea.lineGap=p.parseShort(),hhea.advanceWidthMax=p.parseUShort(),hhea.minLeftSideBearing=p.parseShort(),hhea.minRightSideBearing=p.parseShort(),hhea.xMaxExtent=p.parseShort(),hhea.caretSlopeRise=p.parseShort(),hhea.caretSlopeRun=p.parseShort(),hhea.caretOffset=p.parseShort(),p.relativeOffset+=8,hhea.metricDataFormat=p.parseShort(),hhea.numberOfHMetrics=p.parseUShort(),hhea},make:function(options){return new _table2.default.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],options)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={parse:function(data,start,numMetrics,numGlyphs,glyphs){for(var advanceWidth=void 0,leftSideBearing=void 0,p=new _parse2.default.Parser(data,start),i=0;i<numGlyphs;i+=1){i<numMetrics&&(advanceWidth=p.parseUShort(),leftSideBearing=p.parseShort());var glyph=glyphs.get(i);glyph.advanceWidth=advanceWidth,glyph.leftSideBearing=leftSideBearing}},make:function(glyphs){for(var t=new _table2.default.Table("hmtx",[]),i=0;i<glyphs.length;i+=1){var glyph=glyphs.get(i),advanceWidth=glyph.advanceWidth||0,leftSideBearing=glyph.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+i,type:"USHORT",value:advanceWidth}),t.fields.push({name:"leftSideBearing_"+i,type:"SHORT",value:leftSideBearing})}return t}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={make:function(tags){for(var result=new _table2.default.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:tags.length}]),stringPool="",stringPoolOffset=12+4*tags.length,i=0;i<tags.length;++i){var pos=stringPool.indexOf(tags[i]);pos<0&&(pos=stringPool.length,stringPool+=tags[i]),result.fields.push({name:"offset "+i,type:"USHORT",value:stringPoolOffset+pos}),result.fields.push({name:"length "+i,type:"USHORT",value:tags[i].length})}return result.fields.push({name:"stringPool",type:"CHARARRAY",value:stringPool}),result},parse:function(data,start){var p=new _parse2.default.Parser(data,start),tableVersion=p.parseULong();_check2.default.argument(1===tableVersion,"Unsupported ltag table version."),p.skip("uLong",1);for(var numTags=p.parseULong(),tags=[],i=0;i<numTags;i++){for(var tag="",offset=start+p.parseUShort(),length=p.parseUShort(),j=offset;j<offset+length;++j)tag+=String.fromCharCode(data.getInt8(j));tags.push(tag)}return tags}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={parse:function(data,start){var maxp={},p=new _parse2.default.Parser(data,start);return maxp.version=p.parseVersion(),maxp.numGlyphs=p.parseUShort(),1===maxp.version&&(maxp.maxPoints=p.parseUShort(),maxp.maxContours=p.parseUShort(),maxp.maxCompositePoints=p.parseUShort(),maxp.maxCompositeContours=p.parseUShort(),maxp.maxZones=p.parseUShort(),maxp.maxTwilightPoints=p.parseUShort(),maxp.maxStorage=p.parseUShort(),maxp.maxFunctionDefs=p.parseUShort(),maxp.maxInstructionDefs=p.parseUShort(),maxp.maxStackElements=p.parseUShort(),maxp.maxSizeOfInstructions=p.parseUShort(),maxp.maxComponentElements=p.parseUShort(),maxp.maxComponentDepth=p.parseUShort()),maxp},make:function(numGlyphs){return new _table2.default.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:numGlyphs}])}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _types=__webpack_require__(9),_parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var nameTableNames=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],macLanguages={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},macLanguageToScript={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},windowsLanguages={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function getLanguageCode(platformID,languageID,ltag){switch(platformID){case 0:if(65535===languageID)return"und";if(ltag)return ltag[languageID];break;case 1:return macLanguages[languageID];case 3:return windowsLanguages[languageID]}}var utf16="utf-16",macScriptEncodings={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},macLanguageEncodings={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function getEncoding(platformID,encodingID,languageID){switch(platformID){case 0:return utf16;case 1:return macLanguageEncodings[languageID]||macScriptEncodings[encodingID];case 3:if(1===encodingID||10===encodingID)return utf16}}function reverseDict(dict){var result={};for(var key in dict)result[dict[key]]=parseInt(key);return result}function makeNameRecord(platformID,encodingID,languageID,nameID,length,offset){return new _table2.default.Record("NameRecord",[{name:"platformID",type:"USHORT",value:platformID},{name:"encodingID",type:"USHORT",value:encodingID},{name:"languageID",type:"USHORT",value:languageID},{name:"nameID",type:"USHORT",value:nameID},{name:"length",type:"USHORT",value:length},{name:"offset",type:"USHORT",value:offset}])}function addStringToPool(s,pool){var offset=function(needle,haystack){var needleLength=needle.length,limit=haystack.length-needleLength+1;loop:for(var pos=0;pos<limit;pos++)for(;pos<limit;pos++){for(var k=0;k<needleLength;k++)if(haystack[pos+k]!==needle[k])continue loop;return pos}return-1}(s,pool);if(offset<0){offset=pool.length;for(var i=0,len=s.length;i<len;++i)pool.push(s[i])}return offset}exports.default={parse:function(data,start,ltag){for(var name={},p=new _parse2.default.Parser(data,start),format=p.parseUShort(),count=p.parseUShort(),stringOffset=p.offset+p.parseUShort(),i=0;i<count;i++){var platformID=p.parseUShort(),encodingID=p.parseUShort(),languageID=p.parseUShort(),nameID=p.parseUShort(),property=nameTableNames[nameID]||nameID,byteLength=p.parseUShort(),offset=p.parseUShort(),language=getLanguageCode(platformID,languageID,ltag),encoding=getEncoding(platformID,encodingID,languageID);if(void 0!==encoding&&void 0!==language){var text=void 0;if(text=encoding===utf16?_types.decode.UTF16(data,stringOffset+offset,byteLength):_types.decode.MACSTRING(data,stringOffset+offset,byteLength,encoding)){var translations=name[property];void 0===translations&&(translations=name[property]={}),translations[language]=text}}}return 1===format&&p.parseUShort(),name},make:function(names,ltag){var nameID=void 0,nameIDs=[],namesWithNumericKeys={},nameTableIds=reverseDict(nameTableNames);for(var key in names){var id=nameTableIds[key];if(void 0===id&&(id=key),nameID=parseInt(id),isNaN(nameID))throw new Error('Name table entry "'+key+'" does not exist, see nameTableNames for complete list.');namesWithNumericKeys[nameID]=names[key],nameIDs.push(nameID)}for(var macLanguageIds=reverseDict(macLanguages),windowsLanguageIds=reverseDict(windowsLanguages),nameRecords=[],stringPool=[],i=0;i<nameIDs.length;i++){var translations=namesWithNumericKeys[nameID=nameIDs[i]];for(var lang in translations){var text=translations[lang],macPlatform=1,macLanguage=macLanguageIds[lang],macScript=macLanguageToScript[macLanguage],macEncoding=getEncoding(macPlatform,macScript,macLanguage),macName=_types.encode.MACSTRING(text,macEncoding);void 0===macName&&(macPlatform=0,(macLanguage=ltag.indexOf(lang))<0&&(macLanguage=ltag.length,ltag.push(lang)),macScript=4,macName=_types.encode.UTF16(text));var macNameOffset=addStringToPool(macName,stringPool);nameRecords.push(makeNameRecord(macPlatform,macScript,macLanguage,nameID,macName.length,macNameOffset));var winLanguage=windowsLanguageIds[lang];if(void 0!==winLanguage){var winName=_types.encode.UTF16(text),winNameOffset=addStringToPool(winName,stringPool);nameRecords.push(makeNameRecord(3,1,winLanguage,nameID,winName.length,winNameOffset))}}}nameRecords.sort(function(a,b){return a.platformID-b.platformID||a.encodingID-b.encodingID||a.languageID-b.languageID||a.nameID-b.nameID});for(var t=new _table2.default.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:nameRecords.length},{name:"stringOffset",type:"USHORT",value:6+12*nameRecords.length}]),r=0;r<nameRecords.length;r++)t.fields.push({name:"record_"+r,type:"RECORD",value:nameRecords[r]});return t.fields.push({name:"strings",type:"LITERAL",value:stringPool}),t}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var unicodeRanges=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];exports.default={parse:function(data,start){var os2={},p=new _parse2.default.Parser(data,start);os2.version=p.parseUShort(),os2.xAvgCharWidth=p.parseShort(),os2.usWeightClass=p.parseUShort(),os2.usWidthClass=p.parseUShort(),os2.fsType=p.parseUShort(),os2.ySubscriptXSize=p.parseShort(),os2.ySubscriptYSize=p.parseShort(),os2.ySubscriptXOffset=p.parseShort(),os2.ySubscriptYOffset=p.parseShort(),os2.ySuperscriptXSize=p.parseShort(),os2.ySuperscriptYSize=p.parseShort(),os2.ySuperscriptXOffset=p.parseShort(),os2.ySuperscriptYOffset=p.parseShort(),os2.yStrikeoutSize=p.parseShort(),os2.yStrikeoutPosition=p.parseShort(),os2.sFamilyClass=p.parseShort(),os2.panose=[];for(var i=0;i<10;i++)os2.panose[i]=p.parseByte();return os2.ulUnicodeRange1=p.parseULong(),os2.ulUnicodeRange2=p.parseULong(),os2.ulUnicodeRange3=p.parseULong(),os2.ulUnicodeRange4=p.parseULong(),os2.achVendID=String.fromCharCode(p.parseByte(),p.parseByte(),p.parseByte(),p.parseByte()),os2.fsSelection=p.parseUShort(),os2.usFirstCharIndex=p.parseUShort(),os2.usLastCharIndex=p.parseUShort(),os2.sTypoAscender=p.parseShort(),os2.sTypoDescender=p.parseShort(),os2.sTypoLineGap=p.parseShort(),os2.usWinAscent=p.parseUShort(),os2.usWinDescent=p.parseUShort(),os2.version>=1&&(os2.ulCodePageRange1=p.parseULong(),os2.ulCodePageRange2=p.parseULong()),os2.version>=2&&(os2.sxHeight=p.parseShort(),os2.sCapHeight=p.parseShort(),os2.usDefaultChar=p.parseUShort(),os2.usBreakChar=p.parseUShort(),os2.usMaxContent=p.parseUShort()),os2},make:function(options){return new _table2.default.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],options)},unicodeRanges:unicodeRanges,getUnicodeRange:function(unicode){for(var i=0;i<unicodeRanges.length;i+=1){var range=unicodeRanges[i];if(unicode>=range.begin&&unicode<range.end)return i}return-1}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _encoding=__webpack_require__(6),_parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={parse:function(data,start){var post={},p=new _parse2.default.Parser(data,start);switch(post.version=p.parseVersion(),post.italicAngle=p.parseFixed(),post.underlinePosition=p.parseShort(),post.underlineThickness=p.parseShort(),post.isFixedPitch=p.parseULong(),post.minMemType42=p.parseULong(),post.maxMemType42=p.parseULong(),post.minMemType1=p.parseULong(),post.maxMemType1=p.parseULong(),post.version){case 1:post.names=_encoding.standardNames.slice();break;case 2:post.numberOfGlyphs=p.parseUShort(),post.glyphNameIndex=new Array(post.numberOfGlyphs);for(var i=0;i<post.numberOfGlyphs;i++)post.glyphNameIndex[i]=p.parseUShort();post.names=[];for(var _i=0;_i<post.numberOfGlyphs;_i++)if(post.glyphNameIndex[_i]>=_encoding.standardNames.length){var nameLength=p.parseChar();post.names.push(p.parseString(nameLength))}break;case 2.5:post.numberOfGlyphs=p.parseUShort(),post.offset=new Array(post.numberOfGlyphs);for(var _i2=0;_i2<post.numberOfGlyphs;_i2++)post.offset[_i2]=p.parseChar()}return post},make:function(){return new _table2.default.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_parse=__webpack_require__(0),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var subtableParsers=new Array(9);subtableParsers[1]=function(){var start=this.offset+this.relativeOffset,substFormat=this.parseUShort();return 1===substFormat?{substFormat:1,coverage:this.parsePointer(_parse.Parser.coverage),deltaGlyphId:this.parseUShort()}:2===substFormat?{substFormat:2,coverage:this.parsePointer(_parse.Parser.coverage),substitute:this.parseOffset16List()}:void _check2.default.assert(!1,"0x"+start.toString(16)+": lookup type 1 format must be 1 or 2.")},subtableParsers[2]=function(){var substFormat=this.parseUShort();return _check2.default.argument(1===substFormat,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:substFormat,coverage:this.parsePointer(_parse.Parser.coverage),sequences:this.parseListOfLists()}},subtableParsers[3]=function(){var substFormat=this.parseUShort();return _check2.default.argument(1===substFormat,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:substFormat,coverage:this.parsePointer(_parse.Parser.coverage),alternateSets:this.parseListOfLists()}},subtableParsers[4]=function(){var substFormat=this.parseUShort();return _check2.default.argument(1===substFormat,"GSUB ligature table identifier-format must be 1"),{substFormat:substFormat,coverage:this.parsePointer(_parse.Parser.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var lookupRecordDesc={sequenceIndex:_parse.Parser.uShort,lookupListIndex:_parse.Parser.uShort};subtableParsers[5]=function(){var start=this.offset+this.relativeOffset,substFormat=this.parseUShort();if(1===substFormat)return{substFormat:substFormat,coverage:this.parsePointer(_parse.Parser.coverage),ruleSets:this.parseListOfLists(function(){var glyphCount=this.parseUShort(),substCount=this.parseUShort();return{input:this.parseUShortList(glyphCount-1),lookupRecords:this.parseRecordList(substCount,lookupRecordDesc)}})};if(2===substFormat)return{substFormat:substFormat,coverage:this.parsePointer(_parse.Parser.coverage),classDef:this.parsePointer(_parse.Parser.classDef),classSets:this.parseListOfLists(function(){var glyphCount=this.parseUShort(),substCount=this.parseUShort();return{classes:this.parseUShortList(glyphCount-1),lookupRecords:this.parseRecordList(substCount,lookupRecordDesc)}})};if(3===substFormat){var glyphCount=this.parseUShort(),substCount=this.parseUShort();return{substFormat:substFormat,coverages:this.parseList(glyphCount,_parse.Parser.pointer(_parse.Parser.coverage)),lookupRecords:this.parseRecordList(substCount,lookupRecordDesc)}}_check2.default.assert(!1,"0x"+start.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},subtableParsers[6]=function(){var start=this.offset+this.relativeOffset,substFormat=this.parseUShort();return 1===substFormat?{substFormat:1,coverage:this.parsePointer(_parse.Parser.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lookupRecordDesc)}})}:2===substFormat?{substFormat:2,coverage:this.parsePointer(_parse.Parser.coverage),backtrackClassDef:this.parsePointer(_parse.Parser.classDef),inputClassDef:this.parsePointer(_parse.Parser.classDef),lookaheadClassDef:this.parsePointer(_parse.Parser.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lookupRecordDesc)}})}:3===substFormat?{substFormat:3,backtrackCoverage:this.parseList(_parse.Parser.pointer(_parse.Parser.coverage)),inputCoverage:this.parseList(_parse.Parser.pointer(_parse.Parser.coverage)),lookaheadCoverage:this.parseList(_parse.Parser.pointer(_parse.Parser.coverage)),lookupRecords:this.parseRecordList(lookupRecordDesc)}:void _check2.default.assert(!1,"0x"+start.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},subtableParsers[7]=function(){var substFormat=this.parseUShort();_check2.default.argument(1===substFormat,"GSUB Extension Substitution subtable identifier-format must be 1");var extensionLookupType=this.parseUShort(),extensionParser=new _parse.Parser(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:extensionLookupType,extension:subtableParsers[extensionLookupType].call(extensionParser)}},subtableParsers[8]=function(){var substFormat=this.parseUShort();return _check2.default.argument(1===substFormat,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:substFormat,coverage:this.parsePointer(_parse.Parser.coverage),backtrackCoverage:this.parseList(_parse.Parser.pointer(_parse.Parser.coverage)),lookaheadCoverage:this.parseList(_parse.Parser.pointer(_parse.Parser.coverage)),substitutes:this.parseUShortList()}};var subtableMakers=new Array(9);subtableMakers[1]=function(subtable){return 1===subtable.substFormat?new _table2.default.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new _table2.default.Coverage(subtable.coverage)},{name:"deltaGlyphID",type:"USHORT",value:subtable.deltaGlyphId}]):new _table2.default.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new _table2.default.Coverage(subtable.coverage)}].concat(_table2.default.ushortList("substitute",subtable.substitute)))},subtableMakers[3]=function(subtable){return _check2.default.assert(1===subtable.substFormat,"Lookup type 3 substFormat must be 1."),new _table2.default.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new _table2.default.Coverage(subtable.coverage)}].concat(_table2.default.tableList("altSet",subtable.alternateSets,function(alternateSet){return new _table2.default.Table("alternateSetTable",_table2.default.ushortList("alternate",alternateSet))})))},subtableMakers[4]=function(subtable){return _check2.default.assert(1===subtable.substFormat,"Lookup type 4 substFormat must be 1."),new _table2.default.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new _table2.default.Coverage(subtable.coverage)}].concat(_table2.default.tableList("ligSet",subtable.ligatureSets,function(ligatureSet){return new _table2.default.Table("ligatureSetTable",_table2.default.tableList("ligature",ligatureSet,function(ligature){return new _table2.default.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:ligature.ligGlyph}].concat(_table2.default.ushortList("component",ligature.components,ligature.components.length+1)))}))})))},exports.default={parse:function(data,start){start=start||0;var p=new _parse.Parser(data,start),tableVersion=p.parseVersion();return _check2.default.argument(1===tableVersion,"Unsupported GSUB table version."),{version:tableVersion,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(subtableParsers)}},make:function(gsub){return new _table2.default.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new _table2.default.ScriptList(gsub.scripts)},{name:"features",type:"TABLE",value:new _table2.default.FeatureList(gsub.features)},{name:"lookups",type:"TABLE",value:new _table2.default.LookupList(gsub.lookups,subtableMakers)}])}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_types=__webpack_require__(9),_parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={parse:function(data,start){var p=new _parse2.default.Parser(data,start),tableVersion=p.parseULong();_check2.default.argument(1===tableVersion,"Unsupported META table version."),p.parseULong(),p.parseULong();for(var numDataMaps=p.parseULong(),tags={},i=0;i<numDataMaps;i++){var tag=p.parseTag(),dataOffset=p.parseULong(),dataLength=p.parseULong(),text=_types.decode.UTF8(data,start+dataOffset,dataLength);tags[tag]=text}return tags},make:function(tags){var numTags=Object.keys(tags).length,stringPool="",stringPoolOffset=16+12*numTags,result=new _table2.default.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:stringPoolOffset},{name:"numTags",type:"ULONG",value:numTags}]);for(var tag in tags){var pos=stringPool.length;stringPool+=tags[tag],result.fields.push({name:"tag "+tag,type:"TAG",value:tag}),result.fields.push({name:"offset "+tag,type:"ULONG",value:stringPoolOffset+pos}),result.fields.push({name:"length "+tag,type:"ULONG",value:tags[tag].length})}return result.fields.push({name:"stringPool",type:"CHARARRAY",value:stringPool}),result}}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBrowser=function(){return"undefined"!=typeof window},exports.isNode=function(){return"undefined"==typeof window},exports.nodeBufferToArrayBuffer=function(buffer){for(var ab=new ArrayBuffer(buffer.length),view=new Uint8Array(ab),i=0;i<buffer.length;++i)view[i]=buffer[i];return ab},exports.arrayBufferToNodeBuffer=function(ab){for(var buffer=new Buffer(ab.byteLength),view=new Uint8Array(ab),i=0;i<buffer.length;++i)buffer[i]=view[i];return buffer},exports.checkArgument=function(expression,message){if(!expression)throw message}}).call(exports,__webpack_require__(40).Buffer)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator=__webpack_require__(3);(obj=_autobindDecorator)&&obj.__esModule;var _width=new WeakMap,_height=new WeakMap,_x=new WeakMap,_y=new WeakMap,Phrase=function(){function Phrase(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Phrase),this.words=[],_width.set(this,0),_height.set(this,0),_x.set(this,0),_y.set(this,0)}return _createClass(Phrase,[{key:"x",get:function(){return _x.get(this)},set:function(value){_x.set(this,value)}},{key:"y",get:function(){return _y.get(this)},set:function(value){_y.set(this,value)}},{key:"width",get:function(){return _width.get(this)},set:function(value){_width.set(this,value)}},{key:"height",get:function(){return _height.get(this)},set:function(value){_height.set(this,value)}}]),Phrase}();exports.default=Phrase},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator=__webpack_require__(3),_autobindDecorator2=(obj=_autobindDecorator)&&obj.__esModule?obj:{default:obj};var _width=new WeakMap,_height=new WeakMap,_x=new WeakMap,_y=new WeakMap,Word=(0,_autobindDecorator2.default)(_class=function(){function Word(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Word),this.indexWord=null,this.chars=[],_width.set(this,0),_height.set(this,0),_x.set(this,0),_y.set(this,0)}return _createClass(Word,[{key:"x",get:function(){return _x.get(this)},set:function(value){_x.set(this,value)}},{key:"y",get:function(){return _y.get(this)},set:function(value){_y.set(this,value)}},{key:"width",get:function(){return _width.get(this)},set:function(value){_width.set(this,value)}},{key:"height",get:function(){return _height.get(this)},set:function(value){_height.set(this,value)}}]),Word}())||_class;exports.default=Word},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator2=_interopRequireDefault(__webpack_require__(3)),_Loader2=_interopRequireDefault(__webpack_require__(13)),_Metrics2=_interopRequireDefault(__webpack_require__(4)),_Char2=_interopRequireDefault(__webpack_require__(12)),_TextField2=_interopRequireDefault(__webpack_require__(7)),_TypeAlign2=_interopRequireDefault(__webpack_require__(55)),_Input2=_interopRequireDefault(__webpack_require__(56));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _instance=new WeakMap,type=(0,_autobindDecorator2.default)(_class=function(){function type(){if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,type),this.version="1.8.1",this.Loader=_Loader2.default,this.Metrics=_Metrics2.default,this.text={Char:_Char2.default,TextField:_TextField2.default,TypeAlign:_TypeAlign2.default,Input:_Input2.default},_instance.set(this,null),_instance.get(type))throw"type: esse objeto sÃ³ pode ser instanciado uma vez. Use a propriedade instance";_instance.set(type,this)}return _createClass(type,null,[{key:"instance",get:function(){return type._instance||new type,type._instance}}]),type}())||_class;exports.default=type,window.type=new type},function(module,exports){var TINF_OK=0,TINF_DATA_ERROR=-3;function Tree(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var sltree=new Tree,sdtree=new Tree,length_bits=new Uint8Array(30),length_base=new Uint16Array(30),dist_bits=new Uint8Array(30),dist_base=new Uint16Array(30),clcidx=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),code_tree=new Tree,lengths=new Uint8Array(320);function tinf_build_bits_base(bits,base,delta,first){var i,sum;for(i=0;i<delta;++i)bits[i]=0;for(i=0;i<30-delta;++i)bits[i+delta]=i/delta|0;for(sum=first,i=0;i<30;++i)base[i]=sum,sum+=1<<bits[i]}var offs=new Uint16Array(16);function tinf_build_tree(t,lengths,off,num){var i,sum;for(i=0;i<16;++i)t.table[i]=0;for(i=0;i<num;++i)t.table[lengths[off+i]]++;for(t.table[0]=0,sum=0,i=0;i<16;++i)offs[i]=sum,sum+=t.table[i];for(i=0;i<num;++i)lengths[off+i]&&(t.trans[offs[lengths[off+i]]++]=i)}function tinf_getbit(d){d.bitcount--||(d.tag=d.source[d.sourceIndex++],d.bitcount=7);var bit=1&d.tag;return d.tag>>>=1,bit}function tinf_read_bits(d,num,base){if(!num)return base;for(;d.bitcount<24;)d.tag|=d.source[d.sourceIndex++]<<d.bitcount,d.bitcount+=8;var val=d.tag&65535>>>16-num;return d.tag>>>=num,d.bitcount-=num,val+base}function tinf_decode_symbol(d,t){for(;d.bitcount<24;)d.tag|=d.source[d.sourceIndex++]<<d.bitcount,d.bitcount+=8;var sum=0,cur=0,len=0,tag=d.tag;do{cur=2*cur+(1&tag),tag>>>=1,++len,sum+=t.table[len],cur-=t.table[len]}while(cur>=0);return d.tag=tag,d.bitcount-=len,t.trans[sum+cur]}function tinf_decode_trees(d,lt,dt){var hlit,hdist,hclen,i,num,length;for(hlit=tinf_read_bits(d,5,257),hdist=tinf_read_bits(d,5,1),hclen=tinf_read_bits(d,4,4),i=0;i<19;++i)lengths[i]=0;for(i=0;i<hclen;++i){var clen=tinf_read_bits(d,3,0);lengths[clcidx[i]]=clen}for(tinf_build_tree(code_tree,lengths,0,19),num=0;num<hlit+hdist;){var sym=tinf_decode_symbol(d,code_tree);switch(sym){case 16:var prev=lengths[num-1];for(length=tinf_read_bits(d,2,3);length;--length)lengths[num++]=prev;break;case 17:for(length=tinf_read_bits(d,3,3);length;--length)lengths[num++]=0;break;case 18:for(length=tinf_read_bits(d,7,11);length;--length)lengths[num++]=0;break;default:lengths[num++]=sym}}tinf_build_tree(lt,lengths,0,hlit),tinf_build_tree(dt,lengths,hlit,hdist)}function tinf_inflate_block_data(d,lt,dt){for(;;){var length,dist,offs,i,sym=tinf_decode_symbol(d,lt);if(256===sym)return TINF_OK;if(sym<256)d.dest[d.destLen++]=sym;else for(length=tinf_read_bits(d,length_bits[sym-=257],length_base[sym]),dist=tinf_decode_symbol(d,dt),i=offs=d.destLen-tinf_read_bits(d,dist_bits[dist],dist_base[dist]);i<offs+length;++i)d.dest[d.destLen++]=d.dest[i]}}function tinf_inflate_uncompressed_block(d){for(var length,i;d.bitcount>8;)d.sourceIndex--,d.bitcount-=8;if((length=256*(length=d.source[d.sourceIndex+1])+d.source[d.sourceIndex])!==(65535&~(256*d.source[d.sourceIndex+3]+d.source[d.sourceIndex+2])))return TINF_DATA_ERROR;for(d.sourceIndex+=4,i=length;i;--i)d.dest[d.destLen++]=d.source[d.sourceIndex++];return d.bitcount=0,TINF_OK}!function(lt,dt){var i;for(i=0;i<7;++i)lt.table[i]=0;for(lt.table[7]=24,lt.table[8]=152,lt.table[9]=112,i=0;i<24;++i)lt.trans[i]=256+i;for(i=0;i<144;++i)lt.trans[24+i]=i;for(i=0;i<8;++i)lt.trans[168+i]=280+i;for(i=0;i<112;++i)lt.trans[176+i]=144+i;for(i=0;i<5;++i)dt.table[i]=0;for(dt.table[5]=32,i=0;i<32;++i)dt.trans[i]=i}(sltree,sdtree),tinf_build_bits_base(length_bits,length_base,4,3),tinf_build_bits_base(dist_bits,dist_base,2,1),length_bits[28]=0,length_base[28]=258,module.exports=function(source,dest){var bfinal,res,d=new function(source,dest){this.source=source,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=dest,this.destLen=0,this.ltree=new Tree,this.dtree=new Tree}(source,dest);do{switch(bfinal=tinf_getbit(d),tinf_read_bits(d,2,0)){case 0:res=tinf_inflate_uncompressed_block(d);break;case 1:res=tinf_inflate_block_data(d,sltree,sdtree);break;case 2:tinf_decode_trees(d,d.ltree,d.dtree),res=tinf_inflate_block_data(d,d.ltree,d.dtree);break;default:res=TINF_DATA_ERROR}if(res!==TINF_OK)throw new Error("Data error")}while(!bfinal);return d.destLen<d.dest.length?"function"==typeof d.dest.slice?d.dest.slice(0,d.destLen):d.dest.subarray(0,d.destLen):d.dest}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _path2=_interopRequireDefault(__webpack_require__(5)),_sfnt2=_interopRequireDefault(__webpack_require__(36)),_encoding=__webpack_require__(6),_glyphset2=_interopRequireDefault(__webpack_require__(10)),_substitution2=_interopRequireDefault(__webpack_require__(38)),_util=__webpack_require__(30),_hintingtt2=_interopRequireDefault(__webpack_require__(45));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Font(options){(options=options||{}).empty||((0,_util.checkArgument)(options.familyName,"When creating a new Font object, familyName is required."),(0,_util.checkArgument)(options.styleName,"When creating a new Font object, styleName is required."),(0,_util.checkArgument)(options.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),(0,_util.checkArgument)(options.ascender,"When creating a new Font object, ascender is required."),(0,_util.checkArgument)(options.descender,"When creating a new Font object, descender is required."),(0,_util.checkArgument)(options.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:options.familyName||" "},fontSubfamily:{en:options.styleName||" "},fullName:{en:options.fullName||options.familyName+" "+options.styleName},postScriptName:{en:options.postScriptName||options.familyName+options.styleName},designer:{en:options.designer||" "},designerURL:{en:options.designerURL||" "},manufacturer:{en:options.manufacturer||" "},manufacturerURL:{en:options.manufacturerURL||" "},license:{en:options.license||" "},licenseURL:{en:options.licenseURL||" "},version:{en:options.version||"Version 0.1"},description:{en:options.description||" "},copyright:{en:options.copyright||" "},trademark:{en:options.trademark||" "}},this.unitsPerEm=options.unitsPerEm||1e3,this.ascender=options.ascender,this.descender=options.descender,this.createdTimestamp=options.createdTimestamp,this.tables={os2:{usWeightClass:options.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:options.widthClass||this.usWidthClasses.MEDIUM,fsSelection:options.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new _glyphset2.default.GlyphSet(this,options.glyphs||[]),this.encoding=new _encoding.DefaultEncoding(this),this.substitution=new _substitution2.default(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new _hintingtt2.default(this):void 0}})}Font.prototype.hasChar=function(c){return null!==this.encoding.charToGlyphIndex(c)},Font.prototype.charToGlyphIndex=function(s){return this.encoding.charToGlyphIndex(s)},Font.prototype.charToGlyph=function(c){var glyphIndex=this.charToGlyphIndex(c),glyph=this.glyphs.get(glyphIndex);return glyph||(glyph=this.glyphs.get(0)),glyph},Font.prototype.stringToGlyphs=function(s,options){options=options||this.defaultRenderOptions;for(var indexes=[],i=0;i<s.length;i+=1){var c=s[i];indexes.push(this.charToGlyphIndex(c))}var length=indexes.length;if(options.features){var script=options.script||this.substitution.getDefaultScriptName(),manyToOne=[];options.features.liga&&(manyToOne=manyToOne.concat(this.substitution.getFeature("liga",script,options.language))),options.features.rlig&&(manyToOne=manyToOne.concat(this.substitution.getFeature("rlig",script,options.language)));for(var _i=0;_i<length;_i+=1)for(var j=0;j<manyToOne.length;j++){for(var ligature=manyToOne[j],components=ligature.sub,compCount=components.length,k=0;k<compCount&&components[k]===indexes[_i+k];)k++;k===compCount&&(indexes.splice(_i,compCount,ligature.by),length=length-compCount+1)}}for(var glyphs=new Array(length),notdef=this.glyphs.get(0),_i2=0;_i2<length;_i2+=1)glyphs[_i2]=this.glyphs.get(indexes[_i2])||notdef;return glyphs},Font.prototype.nameToGlyphIndex=function(name){return this.glyphNames.nameToGlyphIndex(name)},Font.prototype.nameToGlyph=function(name){var glyphIndex=this.nameToGlyphIndex(name),glyph=this.glyphs.get(glyphIndex);return glyph||(glyph=this.glyphs.get(0)),glyph},Font.prototype.glyphIndexToName=function(gid){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(gid):""},Font.prototype.getKerningValue=function(leftGlyph,rightGlyph){leftGlyph=leftGlyph.index||leftGlyph,rightGlyph=rightGlyph.index||rightGlyph;var gposKerning=this.getGposKerningValue;return gposKerning?gposKerning(leftGlyph,rightGlyph):this.kerningPairs[leftGlyph+","+rightGlyph]||0},Font.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Font.prototype.forEachGlyph=function(text,x,y,fontSize,options,callback){x=void 0!==x?x:0,y=void 0!==y?y:0,fontSize=void 0!==fontSize?fontSize:72,options=options||this.defaultRenderOptions;for(var fontScale=1/this.unitsPerEm*fontSize,glyphs=this.stringToGlyphs(text,options),i=0;i<glyphs.length;i+=1){var glyph=glyphs[i];if(callback.call(this,glyph,x,y,fontSize,options),glyph.advanceWidth&&(x+=glyph.advanceWidth*fontScale),options.kerning&&i<glyphs.length-1)x+=this.getKerningValue(glyph,glyphs[i+1])*fontScale;options.letterSpacing?x+=options.letterSpacing*fontSize:options.tracking&&(x+=options.tracking/1e3*fontSize)}return x},Font.prototype.getPath=function(text,x,y,fontSize,options){var fullPath=new _path2.default;return this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){var glyphPath=glyph.getPath(gX,gY,gFontSize,options,this);fullPath.extend(glyphPath)}),fullPath},Font.prototype.getPaths=function(text,x,y,fontSize,options){var glyphPaths=[];return this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){var glyphPath=glyph.getPath(gX,gY,gFontSize,options,this);glyphPaths.push(glyphPath)}),glyphPaths},Font.prototype.getAdvanceWidth=function(text,fontSize,options){return this.forEachGlyph(text,0,0,fontSize,options,function(){})},Font.prototype.draw=function(ctx,text,x,y,fontSize,options){this.getPath(text,x,y,fontSize,options).draw(ctx)},Font.prototype.drawPoints=function(ctx,text,x,y,fontSize,options){this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){glyph.drawPoints(ctx,gX,gY,gFontSize)})},Font.prototype.drawMetrics=function(ctx,text,x,y,fontSize,options){this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){glyph.drawMetrics(ctx,gX,gY,gFontSize)})},Font.prototype.getEnglishName=function(name){var translations=this.names[name];if(translations)return translations.en},Font.prototype.validate=function(){var warnings=[],_this=this;function assert(predicate,message){predicate||warnings.push(message)}function assertNamePresent(name){var englishName=_this.getEnglishName(name);assert(englishName&&englishName.trim().length>0,"No English "+name+" specified.")}assertNamePresent("fontFamily"),assertNamePresent("weightName"),assertNamePresent("manufacturer"),assertNamePresent("copyright"),assertNamePresent("version"),assert(this.unitsPerEm>0,"No unitsPerEm specified.")},Font.prototype.toTables=function(){return _sfnt2.default.fontToTable(this)},Font.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Font.prototype.toArrayBuffer=function(){for(var bytes=this.toTables().encode(),buffer=new ArrayBuffer(bytes.length),intArray=new Uint8Array(buffer),i=0;i<bytes.length;i++)intArray[i]=bytes[i];return buffer},Font.prototype.download=function(fileName){var familyName=this.getEnglishName("fontFamily"),styleName=this.getEnglishName("fontSubfamily");fileName=fileName||familyName.replace(/\s/g,"")+"-"+styleName+".otf";var arrayBuffer=this.toArrayBuffer();if((0,_util.isBrowser)())window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,arrayBuffer.byteLength,function(fs){fs.root.getFile(fileName,{create:!0},function(fileEntry){fileEntry.createWriter(function(writer){var dataView=new DataView(arrayBuffer),blob=new Blob([dataView],{type:"font/opentype"});writer.write(blob),writer.addEventListener("writeend",function(){location.href=fileEntry.toURL()},!1)})})},function(err){throw new Error(err.name+": "+err.message)});else{var fs=__webpack_require__(11),buffer=(0,_util.arrayBufferToNodeBuffer)(arrayBuffer);fs.writeFileSync(fileName,buffer)}},Font.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Font.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Font.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900},exports.default=Font},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_table2=_interopRequireDefault(__webpack_require__(2)),_cmap2=_interopRequireDefault(__webpack_require__(16)),_cff2=_interopRequireDefault(__webpack_require__(17)),_head2=_interopRequireDefault(__webpack_require__(20)),_hhea2=_interopRequireDefault(__webpack_require__(21)),_hmtx2=_interopRequireDefault(__webpack_require__(22)),_ltag2=_interopRequireDefault(__webpack_require__(23)),_maxp2=_interopRequireDefault(__webpack_require__(24)),_name3=_interopRequireDefault(__webpack_require__(25)),_os2=_interopRequireDefault(__webpack_require__(26)),_post2=_interopRequireDefault(__webpack_require__(27)),_gsub2=_interopRequireDefault(__webpack_require__(28)),_meta2=_interopRequireDefault(__webpack_require__(29));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function log2(v){return Math.log(v)/Math.log(2)|0}function computeCheckSum(bytes){for(;bytes.length%4!=0;)bytes.push(0);for(var sum=0,i=0;i<bytes.length;i+=4)sum+=(bytes[i]<<24)+(bytes[i+1]<<16)+(bytes[i+2]<<8)+bytes[i+3];return sum%=Math.pow(2,32)}function makeTableRecord(tag,checkSum,offset,length){return new _table2.default.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==tag?tag:""},{name:"checkSum",type:"ULONG",value:void 0!==checkSum?checkSum:0},{name:"offset",type:"ULONG",value:void 0!==offset?offset:0},{name:"length",type:"ULONG",value:void 0!==length?length:0}])}function makeSfntTable(tables){var sfnt=new _table2.default.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);sfnt.tables=tables,sfnt.numTables=tables.length;var highestPowerOf2=Math.pow(2,log2(sfnt.numTables));sfnt.searchRange=16*highestPowerOf2,sfnt.entrySelector=log2(highestPowerOf2),sfnt.rangeShift=16*sfnt.numTables-sfnt.searchRange;for(var recordFields=[],tableFields=[],offset=sfnt.sizeOf()+makeTableRecord().sizeOf()*sfnt.numTables;offset%4!=0;)offset+=1,tableFields.push({name:"padding",type:"BYTE",value:0});for(var i=0;i<tables.length;i+=1){var t=tables[i];_check2.default.argument(4===t.tableName.length,"Table name"+t.tableName+" is invalid.");var tableLength=t.sizeOf(),tableRecord=makeTableRecord(t.tableName,computeCheckSum(t.encode()),offset,tableLength);for(recordFields.push({name:tableRecord.tag+" Table Record",type:"RECORD",value:tableRecord}),tableFields.push({name:t.tableName+" table",type:"RECORD",value:t}),offset+=tableLength,_check2.default.argument(!isNaN(offset),"Something went wrong calculating the offset.");offset%4!=0;)offset+=1,tableFields.push({name:"padding",type:"BYTE",value:0})}return recordFields.sort(function(r1,r2){return r1.value.tag>r2.value.tag?1:-1}),sfnt.fields=sfnt.fields.concat(recordFields),sfnt.fields=sfnt.fields.concat(tableFields),sfnt}function metricsForChar(font,chars,notFoundMetrics){for(var i=0;i<chars.length;i+=1){var glyphIndex=font.charToGlyphIndex(chars[i]);if(glyphIndex>0)return font.glyphs.get(glyphIndex).getMetrics()}return notFoundMetrics}exports.default={make:makeSfntTable,fontToTable:function(font){for(var xMins=[],yMins=[],xMaxs=[],yMaxs=[],advanceWidths=[],leftSideBearings=[],rightSideBearings=[],firstCharIndex=void 0,lastCharIndex=0,ulUnicodeRange1=0,ulUnicodeRange2=0,ulUnicodeRange3=0,ulUnicodeRange4=0,i=0;i<font.glyphs.length;i+=1){var glyph=font.glyphs.get(i),unicode=0|glyph.unicode;if(isNaN(glyph.advanceWidth))throw new Error("Glyph "+glyph.name+" ("+i+"): advanceWidth is not a number.");(firstCharIndex>unicode||void 0===firstCharIndex)&&unicode>0&&(firstCharIndex=unicode),lastCharIndex<unicode&&(lastCharIndex=unicode);var position=_os2.default.getUnicodeRange(unicode);if(position<32)ulUnicodeRange1|=1<<position;else if(position<64)ulUnicodeRange2|=1<<position-32;else if(position<96)ulUnicodeRange3|=1<<position-64;else{if(!(position<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");ulUnicodeRange4|=1<<position-96}if(".notdef"!==glyph.name){var metrics=glyph.getMetrics();xMins.push(metrics.xMin),yMins.push(metrics.yMin),xMaxs.push(metrics.xMax),yMaxs.push(metrics.yMax),leftSideBearings.push(metrics.leftSideBearing),rightSideBearings.push(metrics.rightSideBearing),advanceWidths.push(glyph.advanceWidth)}}var globals={xMin:Math.min.apply(null,xMins),yMin:Math.min.apply(null,yMins),xMax:Math.max.apply(null,xMaxs),yMax:Math.max.apply(null,yMaxs),advanceWidthMax:Math.max.apply(null,advanceWidths),advanceWidthAvg:function(vs){for(var sum=0,i=0;i<vs.length;i+=1)sum+=vs[i];return sum/vs.length}(advanceWidths),minLeftSideBearing:Math.min.apply(null,leftSideBearings),maxLeftSideBearing:Math.max.apply(null,leftSideBearings),minRightSideBearing:Math.min.apply(null,rightSideBearings)};globals.ascender=font.ascender,globals.descender=font.descender;var headTable=_head2.default.make({flags:3,unitsPerEm:font.unitsPerEm,xMin:globals.xMin,yMin:globals.yMin,xMax:globals.xMax,yMax:globals.yMax,lowestRecPPEM:3,createdTimestamp:font.createdTimestamp}),hheaTable=_hhea2.default.make({ascender:globals.ascender,descender:globals.descender,advanceWidthMax:globals.advanceWidthMax,minLeftSideBearing:globals.minLeftSideBearing,minRightSideBearing:globals.minRightSideBearing,xMaxExtent:globals.maxLeftSideBearing+(globals.xMax-globals.xMin),numberOfHMetrics:font.glyphs.length}),maxpTable=_maxp2.default.make(font.glyphs.length),os2Table=_os2.default.make({xAvgCharWidth:Math.round(globals.advanceWidthAvg),usWeightClass:font.tables.os2.usWeightClass,usWidthClass:font.tables.os2.usWidthClass,usFirstCharIndex:firstCharIndex,usLastCharIndex:lastCharIndex,ulUnicodeRange1:ulUnicodeRange1,ulUnicodeRange2:ulUnicodeRange2,ulUnicodeRange3:ulUnicodeRange3,ulUnicodeRange4:ulUnicodeRange4,fsSelection:font.tables.os2.fsSelection,sTypoAscender:globals.ascender,sTypoDescender:globals.descender,sTypoLineGap:0,usWinAscent:globals.yMax,usWinDescent:Math.abs(globals.yMin),ulCodePageRange1:1,sxHeight:metricsForChar(font,"xyvw",{yMax:Math.round(globals.ascender/2)}).yMax,sCapHeight:metricsForChar(font,"HIKLEFJMNTZBDPRAGOQSUVWXY",globals).yMax,usDefaultChar:font.hasChar(" ")?32:0,usBreakChar:font.hasChar(" ")?32:0}),hmtxTable=_hmtx2.default.make(font.glyphs),cmapTable=_cmap2.default.make(font.glyphs),englishFamilyName=font.getEnglishName("fontFamily"),englishStyleName=font.getEnglishName("fontSubfamily"),englishFullName=englishFamilyName+" "+englishStyleName,postScriptName=font.getEnglishName("postScriptName");postScriptName||(postScriptName=englishFamilyName.replace(/\s/g,"")+"-"+englishStyleName);var names={};for(var n in font.names)names[n]=font.names[n];names.uniqueID||(names.uniqueID={en:font.getEnglishName("manufacturer")+":"+englishFullName}),names.postScriptName||(names.postScriptName={en:postScriptName}),names.preferredFamily||(names.preferredFamily=font.names.fontFamily),names.preferredSubfamily||(names.preferredSubfamily=font.names.fontSubfamily);var languageTags=[],nameTable=_name3.default.make(names,languageTags),ltagTable=languageTags.length>0?_ltag2.default.make(languageTags):void 0,postTable=_post2.default.make(),cffTable=_cff2.default.make(font.glyphs,{version:font.getEnglishName("version"),fullName:englishFullName,familyName:englishFamilyName,weightName:englishStyleName,postScriptName:postScriptName,unitsPerEm:font.unitsPerEm,fontBBox:[0,globals.yMin,globals.ascender,globals.advanceWidthMax]}),metaTable=font.metas&&Object.keys(font.metas).length>0?_meta2.default.make(font.metas):void 0,tables=[headTable,hheaTable,maxpTable,os2Table,nameTable,cmapTable,postTable,cffTable,hmtxTable];ltagTable&&tables.push(ltagTable),font.tables.gsub&&tables.push(_gsub2.default.make(font.tables.gsub)),metaTable&&tables.push(metaTable);for(var sfntTable=makeSfntTable(tables),checkSum=computeCheckSum(sfntTable.encode()),tableFields=sfntTable.fields,checkSumAdjusted=!1,_i=0;_i<tableFields.length;_i+=1)if("head table"===tableFields[_i].name){tableFields[_i].value.checkSumAdjustment=2981146554-checkSum,checkSumAdjusted=!0;break}if(!checkSumAdjusted)throw new Error("Could not find head table with checkSum to adjust.");return sfntTable},computeCheckSum:computeCheckSum}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={line:function(ctx,x1,y1,x2,y2){ctx.beginPath(),ctx.moveTo(x1,y1),ctx.lineTo(x2,y2),ctx.stroke()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_layout2=_interopRequireDefault(__webpack_require__(39));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Substitution(font){_layout2.default.call(this,font,"gsub")}function arraysEqual(ar1,ar2){var n=ar1.length;if(n!==ar2.length)return!1;for(var i=0;i<n;i++)if(ar1[i]!==ar2[i])return!1;return!0}function getSubstFormat(lookupTable,format,defaultSubtable){for(var subtables=lookupTable.subtables,i=0;i<subtables.length;i++){var subtable=subtables[i];if(subtable.substFormat===format)return subtable}if(defaultSubtable)return subtables.push(defaultSubtable),defaultSubtable}Substitution.prototype=_layout2.default.prototype,Substitution.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Substitution.prototype.getSingle=function(feature,script,language){for(var substitutions=[],lookupTables=this.getLookupTables(script,language,feature,1),idx=0;idx<lookupTables.length;idx++)for(var subtables=lookupTables[idx].subtables,i=0;i<subtables.length;i++){var subtable=subtables[i],glyphs=this.expandCoverage(subtable.coverage),j=void 0;if(1===subtable.substFormat){var delta=subtable.deltaGlyphId;for(j=0;j<glyphs.length;j++){var glyph=glyphs[j];substitutions.push({sub:glyph,by:glyph+delta})}}else{var substitute=subtable.substitute;for(j=0;j<glyphs.length;j++)substitutions.push({sub:glyphs[j],by:substitute[j]})}}return substitutions},Substitution.prototype.getAlternates=function(feature,script,language){for(var alternates=[],lookupTables=this.getLookupTables(script,language,feature,3),idx=0;idx<lookupTables.length;idx++)for(var subtables=lookupTables[idx].subtables,i=0;i<subtables.length;i++)for(var subtable=subtables[i],glyphs=this.expandCoverage(subtable.coverage),alternateSets=subtable.alternateSets,j=0;j<glyphs.length;j++)alternates.push({sub:glyphs[j],by:alternateSets[j]});return alternates},Substitution.prototype.getLigatures=function(feature,script,language){for(var ligatures=[],lookupTables=this.getLookupTables(script,language,feature,4),idx=0;idx<lookupTables.length;idx++)for(var subtables=lookupTables[idx].subtables,i=0;i<subtables.length;i++)for(var subtable=subtables[i],glyphs=this.expandCoverage(subtable.coverage),ligatureSets=subtable.ligatureSets,j=0;j<glyphs.length;j++)for(var startGlyph=glyphs[j],ligSet=ligatureSets[j],k=0;k<ligSet.length;k++){var lig=ligSet[k];ligatures.push({sub:[startGlyph].concat(lig.components),by:lig.ligGlyph})}return ligatures},Substitution.prototype.addSingle=function(feature,substitution,script,language){var subtable=getSubstFormat(this.getLookupTables(script,language,feature,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});_check2.default.assert(1===subtable.coverage.format,"Ligature: unable to modify coverage table format "+subtable.coverage.format);var coverageGlyph=substitution.sub,pos=this.binSearch(subtable.coverage.glyphs,coverageGlyph);pos<0&&(pos=-1-pos,subtable.coverage.glyphs.splice(pos,0,coverageGlyph),subtable.substitute.splice(pos,0,0)),subtable.substitute[pos]=substitution.by},Substitution.prototype.addAlternate=function(feature,substitution,script,language){var subtable=getSubstFormat(this.getLookupTables(script,language,feature,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});_check2.default.assert(1===subtable.coverage.format,"Ligature: unable to modify coverage table format "+subtable.coverage.format);var coverageGlyph=substitution.sub,pos=this.binSearch(subtable.coverage.glyphs,coverageGlyph);pos<0&&(pos=-1-pos,subtable.coverage.glyphs.splice(pos,0,coverageGlyph),subtable.alternateSets.splice(pos,0,0)),subtable.alternateSets[pos]=substitution.by},Substitution.prototype.addLigature=function(feature,ligature,script,language){var lookupTable=this.getLookupTables(script,language,feature,4,!0)[0],subtable=lookupTable.subtables[0];subtable||(subtable={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},lookupTable.subtables[0]=subtable),_check2.default.assert(1===subtable.coverage.format,"Ligature: unable to modify coverage table format "+subtable.coverage.format);var coverageGlyph=ligature.sub[0],ligComponents=ligature.sub.slice(1),ligatureTable={ligGlyph:ligature.by,components:ligComponents},pos=this.binSearch(subtable.coverage.glyphs,coverageGlyph);if(pos>=0){for(var ligatureSet=subtable.ligatureSets[pos],i=0;i<ligatureSet.length;i++)if(arraysEqual(ligatureSet[i].components,ligComponents))return;ligatureSet.push(ligatureTable)}else pos=-1-pos,subtable.coverage.glyphs.splice(pos,0,coverageGlyph),subtable.ligatureSets.splice(pos,0,[ligatureTable])},Substitution.prototype.getFeature=function(feature,script,language){if(/ss\d\d/.test(feature))return this.getSingle(feature,script,language);switch(feature){case"aalt":case"salt":return this.getSingle(feature,script,language).concat(this.getAlternates(feature,script,language));case"dlig":case"liga":case"rlig":return this.getLigatures(feature,script,language)}},Substitution.prototype.add=function(feature,sub,script,language){if(/ss\d\d/.test(feature))return this.addSingle(feature,sub,script,language);switch(feature){case"aalt":case"salt":return"number"==typeof sub.by?this.addSingle(feature,sub,script,language):this.addAlternate(feature,sub,script,language);case"dlig":case"liga":case"rlig":return this.addLigature(feature,sub,script,language)}},exports.default=Substitution},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_check=__webpack_require__(1),_check2=(obj=_check)&&obj.__esModule?obj:{default:obj};function searchTag(arr,tag){for(var imin=0,imax=arr.length-1;imin<=imax;){var imid=imin+imax>>>1,val=arr[imid].tag;if(val===tag)return imid;val<tag?imin=imid+1:imax=imid-1}return-imin-1}function Layout(font,tableName){this.font=font,this.tableName=tableName}Layout.prototype={searchTag:searchTag,binSearch:function(arr,value){for(var imin=0,imax=arr.length-1;imin<=imax;){var imid=imin+imax>>>1,val=arr[imid];if(val===value)return imid;val<value?imin=imid+1:imax=imid-1}return-imin-1},getTable:function(create){var layout=this.font.tables[this.tableName];return!layout&&create&&(layout=this.font.tables[this.tableName]=this.createDefaultTable()),layout},getScriptNames:function(){var layout=this.getTable();return layout?layout.scripts.map(function(script){return script.tag}):[]},getDefaultScriptName:function(){var layout=this.getTable();if(layout){for(var hasLatn=!1,i=0;i<layout.scripts.length;i++){var name=layout.scripts[i].tag;if("DFLT"===name)return name;"latn"===name&&(hasLatn=!0)}return hasLatn?"latn":void 0}},getScriptTable:function(script,create){var layout=this.getTable(create);if(layout){script=script||"DFLT";var scripts=layout.scripts,pos=searchTag(layout.scripts,script);if(pos>=0)return scripts[pos].script;if(create){var scr={tag:script,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return scripts.splice(-1-pos,0,scr),scr.script}}},getLangSysTable:function(script,language,create){var scriptTable=this.getScriptTable(script,create);if(scriptTable){if(!language||"dflt"===language||"DFLT"===language)return scriptTable.defaultLangSys;var pos=searchTag(scriptTable.langSysRecords,language);if(pos>=0)return scriptTable.langSysRecords[pos].langSys;if(create){var langSysRecord={tag:language,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return scriptTable.langSysRecords.splice(-1-pos,0,langSysRecord),langSysRecord.langSys}}},getFeatureTable:function(script,language,feature,create){var langSysTable=this.getLangSysTable(script,language,create);if(langSysTable){for(var featureRecord=void 0,featIndexes=langSysTable.featureIndexes,allFeatures=this.font.tables[this.tableName].features,i=0;i<featIndexes.length;i++)if((featureRecord=allFeatures[featIndexes[i]]).tag===feature)return featureRecord.feature;if(create){var index=allFeatures.length;return _check2.default.assert(0===index||feature>=allFeatures[index-1].tag,"Features must be added in alphabetical order."),featureRecord={tag:feature,feature:{params:0,lookupListIndexes:[]}},allFeatures.push(featureRecord),featIndexes.push(index),featureRecord.feature}}},getLookupTables:function(script,language,feature,lookupType,create){var featureTable=this.getFeatureTable(script,language,feature,create),tables=[];if(featureTable){for(var lookupTable=void 0,lookupListIndexes=featureTable.lookupListIndexes,allLookups=this.font.tables[this.tableName].lookups,i=0;i<lookupListIndexes.length;i++)(lookupTable=allLookups[lookupListIndexes[i]]).lookupType===lookupType&&tables.push(lookupTable);if(0===tables.length&&create){lookupTable={lookupType:lookupType,lookupFlag:0,subtables:[],markFilteringSet:void 0};var index=allLookups.length;return allLookups.push(lookupTable),lookupListIndexes.push(index),[lookupTable]}}return tables},expandCoverage:function(coverageTable){if(1===coverageTable.format)return coverageTable.glyphs;for(var glyphs=[],ranges=coverageTable.ranges,i=0;i<ranges.length;i++)for(var range=ranges[i],start=range.start,end=range.end,j=start;j<=end;j++)glyphs.push(j);return glyphs}},exports.default=Layout},function(module,exports,__webpack_require__){"use strict";(function(global){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var base64=__webpack_require__(42),ieee754=__webpack_require__(43),isArray=__webpack_require__(44);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array);return that}(that,value,encodingOrOffset,length):"string"==typeof value?function(that,string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");if(!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);actual!==length&&(that=that.slice(0,actual));return that}(that,value,encodingOrOffset):function(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||(val=obj.length)!=val?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}var val;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):function(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){var newBuf,len=this.length;if(start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}(str).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(exports,__webpack_require__(41))},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";exports.byteLength=function(b64){return 3*b64.length/4-placeHoldersCount(b64)},exports.toByteArray=function(b64){var i,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0;i<l;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="=");return parts.push(output),parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var instructionTable=void 0,exec=void 0,execGlyph=void 0,execComponent=void 0;function Hinting(font){this.font=font,this._fpgmState=this._prepState=void 0,this._errorState=0}function roundOff(v){return v}function roundToGrid(v){return Math.sign(v)*Math.round(Math.abs(v))}function roundToDoubleGrid(v){return Math.sign(v)*Math.round(Math.abs(2*v))/2}function roundToHalfGrid(v){return Math.sign(v)*(Math.round(Math.abs(v)+.5)-.5)}function roundUpToGrid(v){return Math.sign(v)*Math.ceil(Math.abs(v))}function roundDownToGrid(v){return Math.sign(v)*Math.floor(Math.abs(v))}var roundSuper=function(v){var period=this.srPeriod,phase=this.srPhase,threshold=this.srThreshold,sign=1;return v<0&&(v=-v,sign=-1),v+=threshold-phase,v=Math.trunc(v/period)*period,v+=phase,sign>0&&v<0?phase:sign<0&&v>0?-phase:v*sign},xUnitVector={x:1,y:0,axis:"x",distance:function(p1,p2,o1,o2){return(o1?p1.xo:p1.x)-(o2?p2.xo:p2.x)},interpolate:function(p,rp1,rp2,pv){var do1=void 0,do2=void 0,doa1=void 0,doa2=void 0,dm1=void 0,dm2=void 0,dt=void 0;if(!pv||pv===this)return do1=p.xo-rp1.xo,do2=p.xo-rp2.xo,dm1=rp1.x-rp1.xo,dm2=rp2.x-rp2.xo,0===(dt=(doa1=Math.abs(do1))+(doa2=Math.abs(do2)))?void(p.x=p.xo+(dm1+dm2)/2):void(p.x=p.xo+(dm1*doa2+dm2*doa1)/dt);do1=pv.distance(p,rp1,!0,!0),do2=pv.distance(p,rp2,!0,!0),dm1=pv.distance(rp1,rp1,!1,!0),dm2=pv.distance(rp2,rp2,!1,!0),0!==(dt=(doa1=Math.abs(do1))+(doa2=Math.abs(do2)))?xUnitVector.setRelative(p,p,(dm1*doa2+dm2*doa1)/dt,pv,!0):xUnitVector.setRelative(p,p,(dm1+dm2)/2,pv,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(p,rp,d,pv,org){if(pv&&pv!==this){var rpx=org?rp.xo:rp.x,rpy=org?rp.yo:rp.y,rpdx=rpx+d*pv.x,rpdy=rpy+d*pv.y;p.x=rpdx+(p.y-rpdy)/pv.normalSlope}else p.x=(org?rp.xo:rp.x)+d},slope:0,touch:function(p){p.xTouched=!0},touched:function(p){return p.xTouched},untouch:function(p){p.xTouched=!1}},yUnitVector={x:0,y:1,axis:"y",distance:function(p1,p2,o1,o2){return(o1?p1.yo:p1.y)-(o2?p2.yo:p2.y)},interpolate:function(p,rp1,rp2,pv){var do1=void 0,do2=void 0,doa1=void 0,doa2=void 0,dm1=void 0,dm2=void 0,dt=void 0;if(!pv||pv===this)return do1=p.yo-rp1.yo,do2=p.yo-rp2.yo,dm1=rp1.y-rp1.yo,dm2=rp2.y-rp2.yo,0===(dt=(doa1=Math.abs(do1))+(doa2=Math.abs(do2)))?void(p.y=p.yo+(dm1+dm2)/2):void(p.y=p.yo+(dm1*doa2+dm2*doa1)/dt);do1=pv.distance(p,rp1,!0,!0),do2=pv.distance(p,rp2,!0,!0),dm1=pv.distance(rp1,rp1,!1,!0),dm2=pv.distance(rp2,rp2,!1,!0),0!==(dt=(doa1=Math.abs(do1))+(doa2=Math.abs(do2)))?yUnitVector.setRelative(p,p,(dm1*doa2+dm2*doa1)/dt,pv,!0):yUnitVector.setRelative(p,p,(dm1+dm2)/2,pv,!0)},normalSlope:0,setRelative:function(p,rp,d,pv,org){if(pv&&pv!==this){var rpx=org?rp.xo:rp.x,rpy=org?rp.yo:rp.y,rpdx=rpx+d*pv.x,rpdy=rpy+d*pv.y;p.y=rpdy+pv.normalSlope*(p.x-rpdx)}else p.y=(org?rp.yo:rp.y)+d},slope:Number.POSITIVE_INFINITY,touch:function(p){p.yTouched=!0},touched:function(p){return p.yTouched},untouch:function(p){p.yTouched=!1}};function UnitVector(x,y){this.x=x,this.y=y,this.axis=void 0,this.slope=y/x,this.normalSlope=-x/y,Object.freeze(this)}function getUnitVector(x,y){var d=Math.sqrt(x*x+y*y);return y/=d,1===(x/=d)&&0===y?xUnitVector:0===x&&1===y?yUnitVector:new UnitVector(x,y)}function HPoint(x,y,lastPointOfContour,onCurve){this.x=this.xo=Math.round(64*x)/64,this.y=this.yo=Math.round(64*y)/64,this.lastPointOfContour=lastPointOfContour,this.onCurve=onCurve,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(xUnitVector),Object.freeze(yUnitVector),UnitVector.prototype.distance=function(p1,p2,o1,o2){return this.x*xUnitVector.distance(p1,p2,o1,o2)+this.y*yUnitVector.distance(p1,p2,o1,o2)},UnitVector.prototype.interpolate=function(p,rp1,rp2,pv){var dm1,dm2,do1,do2,doa1,doa2,dt;do1=pv.distance(p,rp1,!0,!0),do2=pv.distance(p,rp2,!0,!0),dm1=pv.distance(rp1,rp1,!1,!0),dm2=pv.distance(rp2,rp2,!1,!0),0!==(dt=(doa1=Math.abs(do1))+(doa2=Math.abs(do2)))?this.setRelative(p,p,(dm1*doa2+dm2*doa1)/dt,pv,!0):this.setRelative(p,p,(dm1+dm2)/2,pv,!0)},UnitVector.prototype.setRelative=function(p,rp,d,pv,org){pv=pv||this;var rpx=org?rp.xo:rp.x,rpy=org?rp.yo:rp.y,rpdx=rpx+d*pv.x,rpdy=rpy+d*pv.y,pvns=pv.normalSlope,fvs=this.slope,px=p.x,py=p.y;p.x=(fvs*px-pvns*rpdx+rpdy-py)/(fvs-pvns),p.y=fvs*(p.x-px)+py},UnitVector.prototype.touch=function(p){p.xTouched=!0,p.yTouched=!0},HPoint.prototype.nextTouched=function(v){for(var p=this.nextPointOnContour;!v.touched(p)&&p!==this;)p=p.nextPointOnContour;return p},HPoint.prototype.prevTouched=function(v){for(var p=this.prevPointOnContour;!v.touched(p)&&p!==this;)p=p.prevPointOnContour;return p};var HPZero=Object.freeze(new HPoint(0,0)),defaultState={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function State(env,prog){switch(this.env=env,this.stack=[],this.prog=prog,env){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=xUnitVector,this.round=roundToGrid}}function initTZone(state){for(var tZone=state.tZone=new Array(state.gZone.length),i=0;i<tZone.length;i++)tZone[i]=new HPoint(0,0)}function skip(state,handleElse){var prog=state.prog,ip=state.ip,nesting=1,ins=void 0;do{if(88===(ins=prog[++ip]))nesting++;else if(89===ins)nesting--;else if(64===ins)ip+=prog[ip+1]+1;else if(65===ins)ip+=2*prog[ip+1]+1;else if(ins>=176&&ins<=183)ip+=ins-176+1;else if(ins>=184&&ins<=191)ip+=2*(ins-184+1);else if(handleElse&&1===nesting&&27===ins)break}while(nesting>0);state.ip=ip}function SVTCA(v,state){exports.DEBUG&&console.log(state.step,"SVTCA["+v.axis+"]"),state.fv=state.pv=state.dpv=v}function SPVTCA(v,state){exports.DEBUG&&console.log(state.step,"SPVTCA["+v.axis+"]"),state.pv=state.dpv=v}function SFVTCA(v,state){exports.DEBUG&&console.log(state.step,"SFVTCA["+v.axis+"]"),state.fv=v}function SPVTL(a,state){var stack=state.stack,p2i=stack.pop(),p1i=stack.pop(),p2=state.z2[p2i],p1=state.z1[p1i];exports.DEBUG&&console.log("SPVTL["+a+"]",p2i,p1i);var dx=void 0,dy=void 0;a?(dx=p2.y-p1.y,dy=p1.x-p2.x):(dx=p1.x-p2.x,dy=p1.y-p2.y),state.pv=state.dpv=getUnitVector(dx,dy)}function SFVTL(a,state){var stack=state.stack,p2i=stack.pop(),p1i=stack.pop(),p2=state.z2[p2i],p1=state.z1[p1i];exports.DEBUG&&console.log("SFVTL["+a+"]",p2i,p1i);var dx=void 0,dy=void 0;a?(dx=p2.y-p1.y,dy=p1.x-p2.x):(dx=p1.x-p2.x,dy=p1.y-p2.y),state.fv=getUnitVector(dx,dy)}function POP(state){exports.DEBUG&&console.log(state.step,"POP[]"),state.stack.pop()}function MDAP(round,state){var pi=state.stack.pop(),p=state.z0[pi],fv=state.fv,pv=state.pv;exports.DEBUG&&console.log(state.step,"MDAP["+round+"]",pi);var d=pv.distance(p,HPZero);round&&(d=state.round(d)),fv.setRelative(p,HPZero,d,pv),fv.touch(p),state.rp0=state.rp1=pi}function IUP(v,state){var z2=state.z2,pLen=z2.length-2,cp=void 0,pp=void 0,np=void 0;exports.DEBUG&&console.log(state.step,"IUP["+v.axis+"]");for(var i=0;i<pLen;i++)cp=z2[i],v.touched(cp)||(pp=cp.prevTouched(v))!==cp&&(pp===(np=cp.nextTouched(v))&&v.setRelative(cp,cp,v.distance(pp,pp,!1,!0),v,!0),v.interpolate(cp,pp,np,v))}function SHP(a,state){for(var stack=state.stack,rpi=a?state.rp1:state.rp2,rp=(a?state.z0:state.z1)[rpi],fv=state.fv,pv=state.pv,loop=state.loop,z2=state.z2;loop--;){var pi=stack.pop(),p=z2[pi],d=pv.distance(rp,rp,!1,!0);fv.setRelative(p,p,d,pv),fv.touch(p),exports.DEBUG&&console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"SHP["+(a?"rp1":"rp2")+"]",pi)}state.loop=1}function SHC(a,state){var stack=state.stack,rpi=a?state.rp1:state.rp2,rp=(a?state.z0:state.z1)[rpi],fv=state.fv,pv=state.pv,ci=stack.pop(),sp=state.z2[state.contours[ci]],p=sp;exports.DEBUG&&console.log(state.step,"SHC["+a+"]",ci);var d=pv.distance(rp,rp,!1,!0);do{p!==rp&&fv.setRelative(p,p,d,pv),p=p.nextPointOnContour}while(p!==sp)}function SHZ(a,state){var stack=state.stack,rpi=a?state.rp1:state.rp2,rp=(a?state.z0:state.z1)[rpi],fv=state.fv,pv=state.pv,e=stack.pop();exports.DEBUG&&console.log(state.step,"SHZ["+a+"]",e);var z=void 0;switch(e){case 0:z=state.tZone;break;case 1:z=state.gZone;break;default:throw new Error("Invalid zone")}for(var p=void 0,d=pv.distance(rp,rp,!1,!0),pLen=z.length-2,i=0;i<pLen;i++)(p=z[i])!==rp&&fv.setRelative(p,p,d,pv)}function MSIRP(a,state){var stack=state.stack,d=stack.pop()/64,pi=stack.pop(),p=state.z1[pi],rp0=state.z0[state.rp0],fv=state.fv,pv=state.pv;fv.setRelative(p,rp0,d,pv),fv.touch(p),exports.DEBUG&&console.log(state.step,"MSIRP["+a+"]",d,pi),state.rp1=state.rp0,state.rp2=pi,a&&(state.rp0=pi)}function MIAP(round,state){var stack=state.stack,n=stack.pop(),pi=stack.pop(),p=state.z0[pi],fv=state.fv,pv=state.pv,cv=state.cvt[n];round&&(cv=state.round(cv)),exports.DEBUG&&console.log(state.step,"MIAP["+round+"]",n,"(",cv,")",pi),fv.setRelative(p,HPZero,cv,pv),0===state.zp0&&(p.xo=p.x,p.yo=p.y),fv.touch(p),state.rp0=state.rp1=pi}function GC(a,state){var stack=state.stack,pi=stack.pop(),p=state.z2[pi];exports.DEBUG&&console.log(state.step,"GC["+a+"]",pi),stack.push(64*state.dpv.distance(p,HPZero,a,!1))}function MD(a,state){var stack=state.stack,pi2=stack.pop(),pi1=stack.pop(),p2=state.z1[pi2],p1=state.z0[pi1],d=state.dpv.distance(p1,p2,a,a);exports.DEBUG&&console.log(state.step,"MD["+a+"]",pi2,pi1,"->",d),state.stack.push(Math.round(64*d))}function DELTAP123(b,state){var stack=state.stack,n=stack.pop(),fv=state.fv,pv=state.pv,ppem=state.ppem,base=state.deltaBase+16*(b-1),ds=state.deltaShift,z0=state.z0;exports.DEBUG&&console.log(state.step,"DELTAP["+b+"]",n,stack);for(var i=0;i<n;i++){var pi=stack.pop(),arg=stack.pop();if(base+((240&arg)>>4)===ppem){var mag=(15&arg)-8;mag>=0&&mag++,exports.DEBUG&&console.log(state.step,"DELTAPFIX",pi,"by",mag*ds);var p=z0[pi];fv.setRelative(p,p,mag*ds,pv)}}}function ROUND(dt,state){var stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"ROUND[]"),stack.push(64*state.round(n/64))}function DELTAC123(b,state){var stack=state.stack,n=stack.pop(),ppem=state.ppem,base=state.deltaBase+16*(b-1),ds=state.deltaShift;exports.DEBUG&&console.log(state.step,"DELTAC["+b+"]",n,stack);for(var i=0;i<n;i++){var c=stack.pop(),arg=stack.pop();if(base+((240&arg)>>4)===ppem){var mag=(15&arg)-8;mag>=0&&mag++;var delta=mag*ds;exports.DEBUG&&console.log(state.step,"DELTACFIX",c,"by",delta),state.cvt[c]+=delta}}}function SDPVTL(a,state){var stack=state.stack,p2i=stack.pop(),p1i=stack.pop(),p2=state.z2[p2i],p1=state.z1[p1i];exports.DEBUG&&console.log("SDPVTL["+a+"]",p2i,p1i);var dx=void 0,dy=void 0;a?(dx=p2.y-p1.y,dy=p1.x-p2.x):(dx=p1.x-p2.x,dy=p1.y-p2.y),state.dpv=getUnitVector(dx,dy)}function PUSHB(n,state){var stack=state.stack,prog=state.prog,ip=state.ip;exports.DEBUG&&console.log(state.step,"PUSHB["+n+"]");for(var i=0;i<n;i++)stack.push(prog[++ip]);state.ip=ip}function PUSHW(n,state){var ip=state.ip,prog=state.prog,stack=state.stack;exports.DEBUG&&console.log(state.ip,"PUSHW["+n+"]");for(var i=0;i<n;i++){var w=prog[++ip]<<8|prog[++ip];32768&w&&(w=-(1+(65535^w))),stack.push(w)}state.ip=ip}function MDRP_MIRP(indirect,setRp0,keepD,ro,dt,state){var od,sign,stack=state.stack,cvte=indirect&&stack.pop(),pi=stack.pop(),rp0i=state.rp0,rp=state.z0[rp0i],p=state.z1[pi],md=state.minDis,fv=state.fv,pv=state.dpv,d=void 0,cv=void 0;sign=(d=od=pv.distance(p,rp,!0,!0))>=0?1:-1,d=Math.abs(d),indirect&&(cv=state.cvt[cvte],ro&&Math.abs(d-cv)<state.cvCutIn&&(d=cv)),keepD&&d<md&&(d=md),ro&&(d=state.round(d)),fv.setRelative(p,rp,sign*d,pv),fv.touch(p),exports.DEBUG&&console.log(state.step,(indirect?"MIRP[":"MDRP[")+(setRp0?"M":"m")+(keepD?">":"_")+(ro?"R":"_")+(0===dt?"Gr":1===dt?"Bl":2===dt?"Wh":"")+"]",indirect?cvte+"("+state.cvt[cvte]+","+cv+")":"",pi,"(d =",od,"->",sign*d,")"),state.rp1=state.rp0,state.rp2=pi,setRp0&&(state.rp0=pi)}Hinting.prototype.exec=function(glyph,ppem){if("number"!=typeof ppem)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var font=this.font,prepState=this._prepState;if(!prepState||prepState.ppem!==ppem){var fpgmState=this._fpgmState;if(!fpgmState){State.prototype=defaultState,(fpgmState=this._fpgmState=new State("fpgm",font.tables.fpgm)).funcs=[],fpgmState.font=font,exports.DEBUG&&(console.log("---EXEC FPGM---"),fpgmState.step=-1);try{exec(fpgmState)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}State.prototype=fpgmState,(prepState=this._prepState=new State("prep",font.tables.prep)).ppem=ppem;var oCvt=font.tables.cvt;if(oCvt)for(var cvt=prepState.cvt=new Array(oCvt.length),scale=ppem/font.unitsPerEm,c=0;c<oCvt.length;c++)cvt[c]=oCvt[c]*scale;else prepState.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),prepState.step=-1);try{exec(prepState)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(this._errorState>1))try{return execGlyph(glyph,prepState)}catch(e){return this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},execGlyph=function(glyph,prepState){var xScale=prepState.ppem/prepState.font.unitsPerEm,yScale=xScale,components=glyph.components,contours=void 0,gZone=void 0,state=void 0;if(State.prototype=prepState,components){var font=prepState.font;gZone=[],contours=[];for(var i=0;i<components.length;i++){var c=components[i],cg=font.glyphs.get(c.glyphIndex);state=new State("glyf",cg.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+i+"---"),state.step=-1),execComponent(cg,state,xScale,yScale);for(var dx=Math.round(c.dx*xScale),dy=Math.round(c.dy*yScale),gz=state.gZone,cc=state.contours,pi=0;pi<gz.length;pi++){var p=gz[pi];p.xTouched=p.yTouched=!1,p.xo=p.x=p.x+dx,p.yo=p.y=p.y+dy}var gLen=gZone.length;gZone.push.apply(gZone,gz);for(var j=0;j<cc.length;j++)contours.push(cc[j]+gLen)}glyph.instructions&&!state.inhibitGridFit&&((state=new State("glyf",glyph.instructions)).gZone=state.z0=state.z1=state.z2=gZone,state.contours=contours,gZone.push(new HPoint(0,0),new HPoint(Math.round(glyph.advanceWidth*xScale),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),state.step=-1),exec(state),gZone.length-=2)}else state=new State("glyf",glyph.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),state.step=-1),execComponent(glyph,state,xScale,yScale),gZone=state.gZone;return gZone},execComponent=function(glyph,state,xScale,yScale){for(var points=glyph.points||[],pLen=points.length,gZone=state.gZone=state.z0=state.z1=state.z2=[],contours=state.contours=[],cp=void 0,i=0;i<pLen;i++)cp=points[i],gZone[i]=new HPoint(cp.x*xScale,cp.y*yScale,cp.lastPointOfContour,cp.onCurve);for(var sp=void 0,np=void 0,_i=0;_i<pLen;_i++)cp=gZone[_i],sp||(sp=cp,contours.push(_i)),cp.lastPointOfContour?(cp.nextPointOnContour=sp,sp.prevPointOnContour=cp,sp=void 0):(np=gZone[_i+1],cp.nextPointOnContour=np,np.prevPointOnContour=cp);if(!state.inhibitGridFit&&(gZone.push(new HPoint(0,0),new HPoint(Math.round(glyph.advanceWidth*xScale),0)),exec(state),gZone.length-=2,exports.DEBUG)){console.log("FINISHED GLYPH",state.stack);for(var _i2=0;_i2<pLen;_i2++)console.log(_i2,gZone[_i2].x,gZone[_i2].y)}},exec=function(state){var prog=state.prog;if(prog){var pLen=prog.length,ins=void 0;for(state.ip=0;state.ip<pLen;state.ip++){if(exports.DEBUG&&state.step++,!(ins=instructionTable[prog[state.ip]]))throw new Error("unknown instruction: 0x"+Number(prog[state.ip]).toString(16));ins(state)}}},instructionTable=[SVTCA.bind(void 0,yUnitVector),SVTCA.bind(void 0,xUnitVector),SPVTCA.bind(void 0,yUnitVector),SPVTCA.bind(void 0,xUnitVector),SFVTCA.bind(void 0,yUnitVector),SFVTCA.bind(void 0,xUnitVector),SPVTL.bind(void 0,0),SPVTL.bind(void 0,1),SFVTL.bind(void 0,0),SFVTL.bind(void 0,1),function(state){var stack=state.stack,y=stack.pop(),x=stack.pop();exports.DEBUG&&console.log(state.step,"SPVFS[]",y,x),state.pv=state.dpv=getUnitVector(x,y)},function(state){var stack=state.stack,y=stack.pop(),x=stack.pop();exports.DEBUG&&console.log(state.step,"SPVFS[]",y,x),state.fv=getUnitVector(x,y)},function(state){var stack=state.stack,pv=state.pv;exports.DEBUG&&console.log(state.step,"GPV[]"),stack.push(16384*pv.x),stack.push(16384*pv.y)},function(state){var stack=state.stack,fv=state.fv;exports.DEBUG&&console.log(state.step,"GFV[]"),stack.push(16384*fv.x),stack.push(16384*fv.y)},function(state){state.fv=state.pv,exports.DEBUG&&console.log(state.step,"SFVTPV[]")},function(state){var stack=state.stack,pa0i=stack.pop(),pa1i=stack.pop(),pb0i=stack.pop(),pb1i=stack.pop(),pi=stack.pop(),z0=state.z0,z1=state.z1,pa0=z0[pa0i],pa1=z0[pa1i],pb0=z1[pb0i],pb1=z1[pb1i],p=state.z2[pi];exports.DEBUG&&console.log("ISECT[], ",pa0i,pa1i,pb0i,pb1i,pi);var x1=pa0.x,y1=pa0.y,x2=pa1.x,y2=pa1.y,x3=pb0.x,y3=pb0.y,x4=pb1.x,y4=pb1.y,div=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4),f1=x1*y2-y1*x2,f2=x3*y4-y3*x4;p.x=(f1*(x3-x4)-f2*(x1-x2))/div,p.y=(f1*(y3-y4)-f2*(y1-y2))/div},function(state){state.rp0=state.stack.pop(),exports.DEBUG&&console.log(state.step,"SRP0[]",state.rp0)},function(state){state.rp1=state.stack.pop(),exports.DEBUG&&console.log(state.step,"SRP1[]",state.rp1)},function(state){state.rp2=state.stack.pop(),exports.DEBUG&&console.log(state.step,"SRP2[]",state.rp2)},function(state){var n=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"SZP0[]",n),state.zp0=n,n){case 0:state.tZone||initTZone(state),state.z0=state.tZone;break;case 1:state.z0=state.gZone;break;default:throw new Error("Invalid zone pointer")}},function(state){var n=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"SZP1[]",n),state.zp1=n,n){case 0:state.tZone||initTZone(state),state.z1=state.tZone;break;case 1:state.z1=state.gZone;break;default:throw new Error("Invalid zone pointer")}},function(state){var n=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"SZP2[]",n),state.zp2=n,n){case 0:state.tZone||initTZone(state),state.z2=state.tZone;break;case 1:state.z2=state.gZone;break;default:throw new Error("Invalid zone pointer")}},function(state){var n=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"SZPS[]",n),state.zp0=state.zp1=state.zp2=n,n){case 0:state.tZone||initTZone(state),state.z0=state.z1=state.z2=state.tZone;break;case 1:state.z0=state.z1=state.z2=state.gZone;break;default:throw new Error("Invalid zone pointer")}},function(state){state.loop=state.stack.pop(),exports.DEBUG&&console.log(state.step,"SLOOP[]",state.loop)},function(state){exports.DEBUG&&console.log(state.step,"RTG[]"),state.round=roundToGrid},function(state){exports.DEBUG&&console.log(state.step,"RTHG[]"),state.round=roundToHalfGrid},function(state){var d=state.stack.pop();exports.DEBUG&&console.log(state.step,"SMD[]",d),state.minDis=d/64},function(state){exports.DEBUG&&console.log(state.step,"ELSE[]"),skip(state,!1)},function(state){var o=state.stack.pop();exports.DEBUG&&console.log(state.step,"JMPR[]",o),state.ip+=o-1},function(state){var n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SCVTCI[]",n),state.cvCutIn=n/64},void 0,void 0,function(state){var stack=state.stack;exports.DEBUG&&console.log(state.step,"DUP[]"),stack.push(stack[stack.length-1])},POP,function(state){exports.DEBUG&&console.log(state.step,"CLEAR[]"),state.stack.length=0},function(state){var stack=state.stack,a=stack.pop(),b=stack.pop();exports.DEBUG&&console.log(state.step,"SWAP[]"),stack.push(a),stack.push(b)},function(state){var stack=state.stack;exports.DEBUG&&console.log(state.step,"DEPTH[]"),stack.push(stack.length)},function(state){var stack=state.stack,k=stack.pop();exports.DEBUG&&console.log(state.step,"CINDEX[]",k),stack.push(stack[stack.length-k])},function(state){var stack=state.stack,k=stack.pop();exports.DEBUG&&console.log(state.step,"MINDEX[]",k),stack.push(stack.splice(stack.length-k,1)[0])},void 0,void 0,void 0,function(state){var stack=state.stack,fn=stack.pop(),c=stack.pop();exports.DEBUG&&console.log(state.step,"LOOPCALL[]",fn,c);var cip=state.ip,cprog=state.prog;state.prog=state.funcs[fn];for(var i=0;i<c;i++)exec(state),exports.DEBUG&&console.log(++state.step,i+1<c?"next loopcall":"done loopcall",i);state.ip=cip,state.prog=cprog},function(state){var fn=state.stack.pop();exports.DEBUG&&console.log(state.step,"CALL[]",fn);var cip=state.ip,cprog=state.prog;state.prog=state.funcs[fn],exec(state),state.ip=cip,state.prog=cprog,exports.DEBUG&&console.log(++state.step,"returning from",fn)},function(state){if("fpgm"!==state.env)throw new Error("FDEF not allowed here");var stack=state.stack,prog=state.prog,ip=state.ip,fn=stack.pop(),ipBegin=ip;for(exports.DEBUG&&console.log(state.step,"FDEF[]",fn);45!==prog[++ip];);state.ip=ip,state.funcs[fn]=prog.slice(ipBegin+1,ip)},void 0,MDAP.bind(void 0,0),MDAP.bind(void 0,1),IUP.bind(void 0,yUnitVector),IUP.bind(void 0,xUnitVector),SHP.bind(void 0,0),SHP.bind(void 0,1),SHC.bind(void 0,0),SHC.bind(void 0,1),SHZ.bind(void 0,0),SHZ.bind(void 0,1),function(state){for(var stack=state.stack,loop=state.loop,fv=state.fv,d=stack.pop()/64,z2=state.z2;loop--;){var pi=stack.pop(),p=z2[pi];exports.DEBUG&&console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"SHPIX[]",pi,d),fv.setRelative(p,p,d),fv.touch(p)}state.loop=1},function(state){for(var stack=state.stack,rp1i=state.rp1,rp2i=state.rp2,loop=state.loop,rp1=state.z0[rp1i],rp2=state.z1[rp2i],fv=state.fv,pv=state.dpv,z2=state.z2;loop--;){var pi=stack.pop(),p=z2[pi];exports.DEBUG&&console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"IP[]",pi,rp1i,"<->",rp2i),fv.interpolate(p,rp1,rp2,pv),fv.touch(p)}state.loop=1},MSIRP.bind(void 0,0),MSIRP.bind(void 0,1),function(state){for(var stack=state.stack,rp0i=state.rp0,rp0=state.z0[rp0i],loop=state.loop,fv=state.fv,pv=state.pv,z1=state.z1;loop--;){var pi=stack.pop(),p=z1[pi];exports.DEBUG&&console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"ALIGNRP[]",pi),fv.setRelative(p,rp0,0,pv),fv.touch(p)}state.loop=1},function(state){exports.DEBUG&&console.log(state.step,"RTDG[]"),state.round=roundToDoubleGrid},MIAP.bind(void 0,0),MIAP.bind(void 0,1),function(state){var prog=state.prog,ip=state.ip,stack=state.stack,n=prog[++ip];exports.DEBUG&&console.log(state.step,"NPUSHB[]",n);for(var i=0;i<n;i++)stack.push(prog[++ip]);state.ip=ip},function(state){var ip=state.ip,prog=state.prog,stack=state.stack,n=prog[++ip];exports.DEBUG&&console.log(state.step,"NPUSHW[]",n);for(var i=0;i<n;i++){var w=prog[++ip]<<8|prog[++ip];32768&w&&(w=-(1+(65535^w))),stack.push(w)}state.ip=ip},function(state){var stack=state.stack,store=state.store;store||(store=state.store=[]);var v=stack.pop(),l=stack.pop();exports.DEBUG&&console.log(state.step,"WS",v,l),store[l]=v},function(state){var stack=state.stack,store=state.store,l=stack.pop();exports.DEBUG&&console.log(state.step,"RS",l);var v=store&&store[l]||0;stack.push(v)},function(state){var stack=state.stack,v=stack.pop(),l=stack.pop();exports.DEBUG&&console.log(state.step,"WCVTP",v,l),state.cvt[l]=v/64},function(state){var stack=state.stack,cvte=stack.pop();exports.DEBUG&&console.log(state.step,"RCVT",cvte),stack.push(64*state.cvt[cvte])},GC.bind(void 0,0),GC.bind(void 0,1),void 0,MD.bind(void 0,0),MD.bind(void 0,1),function(state){exports.DEBUG&&console.log(state.step,"MPPEM[]"),state.stack.push(state.ppem)},void 0,function(state){exports.DEBUG&&console.log(state.step,"FLIPON[]"),state.autoFlip=!0},void 0,void 0,function(state){var stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"LT[]",e2,e1),stack.push(e1<e2?1:0)},function(state){var stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"LTEQ[]",e2,e1),stack.push(e1<=e2?1:0)},function(state){var stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"GT[]",e2,e1),stack.push(e1>e2?1:0)},function(state){var stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"GTEQ[]",e2,e1),stack.push(e1>=e2?1:0)},function(state){var stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"EQ[]",e2,e1),stack.push(e2===e1?1:0)},function(state){var stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"NEQ[]",e2,e1),stack.push(e2!==e1?1:0)},function(state){var stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"ODD[]",n),stack.push(Math.trunc(n)%2?1:0)},function(state){var stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"EVEN[]",n),stack.push(Math.trunc(n)%2?0:1)},function(state){var test=state.stack.pop();exports.DEBUG&&console.log(state.step,"IF[]",test),test||(skip(state,!0),exports.DEBUG&&console.log(state.step,"EIF[]"))},function(state){exports.DEBUG&&console.log(state.step,"EIF[]")},function(state){var stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"AND[]",e2,e1),stack.push(e2&&e1?1:0)},function(state){var stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"OR[]",e2,e1),stack.push(e2||e1?1:0)},function(state){var stack=state.stack,e=stack.pop();exports.DEBUG&&console.log(state.step,"NOT[]",e),stack.push(e?0:1)},DELTAP123.bind(void 0,1),function(state){var n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SDB[]",n),state.deltaBase=n},function(state){var n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SDS[]",n),state.deltaShift=Math.pow(.5,n)},function(state){var stack=state.stack,n2=stack.pop(),n1=stack.pop();exports.DEBUG&&console.log(state.step,"ADD[]",n2,n1),stack.push(n1+n2)},function(state){var stack=state.stack,n2=stack.pop(),n1=stack.pop();exports.DEBUG&&console.log(state.step,"SUB[]",n2,n1),stack.push(n1-n2)},function(state){var stack=state.stack,n2=stack.pop(),n1=stack.pop();exports.DEBUG&&console.log(state.step,"DIV[]",n2,n1),stack.push(64*n1/n2)},function(state){var stack=state.stack,n2=stack.pop(),n1=stack.pop();exports.DEBUG&&console.log(state.step,"MUL[]",n2,n1),stack.push(n1*n2/64)},function(state){var stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"ABS[]",n),stack.push(Math.abs(n))},function(state){var stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"NEG[]",n),stack.push(-n)},function(state){var stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"FLOOR[]",n),stack.push(64*Math.floor(n/64))},function(state){var stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"CEILING[]",n),stack.push(64*Math.ceil(n/64))},ROUND.bind(void 0,0),ROUND.bind(void 0,1),ROUND.bind(void 0,2),ROUND.bind(void 0,3),void 0,void 0,void 0,void 0,function(state){var stack=state.stack,v=stack.pop(),l=stack.pop();exports.DEBUG&&console.log(state.step,"WCVTF[]",v,l),state.cvt[l]=v*state.ppem/state.font.unitsPerEm},DELTAP123.bind(void 0,2),DELTAP123.bind(void 0,3),DELTAC123.bind(void 0,1),DELTAC123.bind(void 0,2),DELTAC123.bind(void 0,3),function(state){var n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SROUND[]",n),state.round=roundSuper;var period=void 0;switch(192&n){case 0:period=.5;break;case 64:period=1;break;case 128:period=2;break;default:throw new Error("invalid SROUND value")}switch(state.srPeriod=period,48&n){case 0:state.srPhase=0;break;case 16:state.srPhase=.25*period;break;case 32:state.srPhase=.5*period;break;case 48:state.srPhase=.75*period;break;default:throw new Error("invalid SROUND value")}n&=15,state.srThreshold=0===n?0:(n/8-.5)*period},function(state){var n=state.stack.pop();exports.DEBUG&&console.log(state.step,"S45ROUND[]",n),state.round=roundSuper;var period=void 0;switch(192&n){case 0:period=Math.sqrt(2)/2;break;case 64:period=Math.sqrt(2);break;case 128:period=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(state.srPeriod=period,48&n){case 0:state.srPhase=0;break;case 16:state.srPhase=.25*period;break;case 32:state.srPhase=.5*period;break;case 48:state.srPhase=.75*period;break;default:throw new Error("invalid S45ROUND value")}n&=15,state.srThreshold=0===n?0:(n/8-.5)*period},void 0,void 0,function(state){exports.DEBUG&&console.log(state.step,"ROFF[]"),state.round=roundOff},void 0,function(state){exports.DEBUG&&console.log(state.step,"RUTG[]"),state.round=roundUpToGrid},function(state){exports.DEBUG&&console.log(state.step,"RDTG[]"),state.round=roundDownToGrid},POP,POP,void 0,void 0,void 0,void 0,void 0,function(state){var n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SCANCTRL[]",n)},SDPVTL.bind(void 0,0),SDPVTL.bind(void 0,1),function(state){var stack=state.stack,sel=stack.pop(),r=0;exports.DEBUG&&console.log(state.step,"GETINFO[]",sel),1&sel&&(r=35),32&sel&&(r|=4096),stack.push(r)},void 0,function(state){var stack=state.stack,a=stack.pop(),b=stack.pop(),c=stack.pop();exports.DEBUG&&console.log(state.step,"ROLL[]"),stack.push(b),stack.push(a),stack.push(c)},function(state){var stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"MAX[]",e2,e1),stack.push(Math.max(e1,e2))},function(state){var stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"MIN[]",e2,e1),stack.push(Math.min(e1,e2))},function(state){var n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SCANTYPE[]",n)},function(state){var s=state.stack.pop(),v=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"INSTCTRL[]",s,v),s){case 1:return void(state.inhibitGridFit=!!v);case 2:return void(state.ignoreCvt=!!v);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,PUSHB.bind(void 0,1),PUSHB.bind(void 0,2),PUSHB.bind(void 0,3),PUSHB.bind(void 0,4),PUSHB.bind(void 0,5),PUSHB.bind(void 0,6),PUSHB.bind(void 0,7),PUSHB.bind(void 0,8),PUSHW.bind(void 0,1),PUSHW.bind(void 0,2),PUSHW.bind(void 0,3),PUSHW.bind(void 0,4),PUSHW.bind(void 0,5),PUSHW.bind(void 0,6),PUSHW.bind(void 0,7),PUSHW.bind(void 0,8),MDRP_MIRP.bind(void 0,0,0,0,0,0),MDRP_MIRP.bind(void 0,0,0,0,0,1),MDRP_MIRP.bind(void 0,0,0,0,0,2),MDRP_MIRP.bind(void 0,0,0,0,0,3),MDRP_MIRP.bind(void 0,0,0,0,1,0),MDRP_MIRP.bind(void 0,0,0,0,1,1),MDRP_MIRP.bind(void 0,0,0,0,1,2),MDRP_MIRP.bind(void 0,0,0,0,1,3),MDRP_MIRP.bind(void 0,0,0,1,0,0),MDRP_MIRP.bind(void 0,0,0,1,0,1),MDRP_MIRP.bind(void 0,0,0,1,0,2),MDRP_MIRP.bind(void 0,0,0,1,0,3),MDRP_MIRP.bind(void 0,0,0,1,1,0),MDRP_MIRP.bind(void 0,0,0,1,1,1),MDRP_MIRP.bind(void 0,0,0,1,1,2),MDRP_MIRP.bind(void 0,0,0,1,1,3),MDRP_MIRP.bind(void 0,0,1,0,0,0),MDRP_MIRP.bind(void 0,0,1,0,0,1),MDRP_MIRP.bind(void 0,0,1,0,0,2),MDRP_MIRP.bind(void 0,0,1,0,0,3),MDRP_MIRP.bind(void 0,0,1,0,1,0),MDRP_MIRP.bind(void 0,0,1,0,1,1),MDRP_MIRP.bind(void 0,0,1,0,1,2),MDRP_MIRP.bind(void 0,0,1,0,1,3),MDRP_MIRP.bind(void 0,0,1,1,0,0),MDRP_MIRP.bind(void 0,0,1,1,0,1),MDRP_MIRP.bind(void 0,0,1,1,0,2),MDRP_MIRP.bind(void 0,0,1,1,0,3),MDRP_MIRP.bind(void 0,0,1,1,1,0),MDRP_MIRP.bind(void 0,0,1,1,1,1),MDRP_MIRP.bind(void 0,0,1,1,1,2),MDRP_MIRP.bind(void 0,0,1,1,1,3),MDRP_MIRP.bind(void 0,1,0,0,0,0),MDRP_MIRP.bind(void 0,1,0,0,0,1),MDRP_MIRP.bind(void 0,1,0,0,0,2),MDRP_MIRP.bind(void 0,1,0,0,0,3),MDRP_MIRP.bind(void 0,1,0,0,1,0),MDRP_MIRP.bind(void 0,1,0,0,1,1),MDRP_MIRP.bind(void 0,1,0,0,1,2),MDRP_MIRP.bind(void 0,1,0,0,1,3),MDRP_MIRP.bind(void 0,1,0,1,0,0),MDRP_MIRP.bind(void 0,1,0,1,0,1),MDRP_MIRP.bind(void 0,1,0,1,0,2),MDRP_MIRP.bind(void 0,1,0,1,0,3),MDRP_MIRP.bind(void 0,1,0,1,1,0),MDRP_MIRP.bind(void 0,1,0,1,1,1),MDRP_MIRP.bind(void 0,1,0,1,1,2),MDRP_MIRP.bind(void 0,1,0,1,1,3),MDRP_MIRP.bind(void 0,1,1,0,0,0),MDRP_MIRP.bind(void 0,1,1,0,0,1),MDRP_MIRP.bind(void 0,1,1,0,0,2),MDRP_MIRP.bind(void 0,1,1,0,0,3),MDRP_MIRP.bind(void 0,1,1,0,1,0),MDRP_MIRP.bind(void 0,1,1,0,1,1),MDRP_MIRP.bind(void 0,1,1,0,1,2),MDRP_MIRP.bind(void 0,1,1,0,1,3),MDRP_MIRP.bind(void 0,1,1,1,0,0),MDRP_MIRP.bind(void 0,1,1,1,0,1),MDRP_MIRP.bind(void 0,1,1,1,0,2),MDRP_MIRP.bind(void 0,1,1,1,0,3),MDRP_MIRP.bind(void 0,1,1,1,1,0),MDRP_MIRP.bind(void 0,1,1,1,1,1),MDRP_MIRP.bind(void 0,1,1,1,1,2),MDRP_MIRP.bind(void 0,1,1,1,1,3)],exports.default=Hinting},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_parse2=_interopRequireDefault(__webpack_require__(0)),_table2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function addName(name,names){var nameString=JSON.stringify(name),nameID=256;for(var nameKey in names){var n=parseInt(nameKey);if(n&&!(n<256)){if(JSON.stringify(names[nameKey])===nameString)return n;nameID<=n&&(nameID=n+1)}}return names[nameID]=name,nameID}function makeFvarAxis(n,axis,names){var nameID=addName(axis.name,names);return[{name:"tag_"+n,type:"TAG",value:axis.tag},{name:"minValue_"+n,type:"FIXED",value:axis.minValue<<16},{name:"defaultValue_"+n,type:"FIXED",value:axis.defaultValue<<16},{name:"maxValue_"+n,type:"FIXED",value:axis.maxValue<<16},{name:"flags_"+n,type:"USHORT",value:0},{name:"nameID_"+n,type:"USHORT",value:nameID}]}function parseFvarAxis(data,start,names){var axis={},p=new _parse2.default.Parser(data,start);return axis.tag=p.parseTag(),axis.minValue=p.parseFixed(),axis.defaultValue=p.parseFixed(),axis.maxValue=p.parseFixed(),p.skip("uShort",1),axis.name=names[p.parseUShort()]||{},axis}function makeFvarInstance(n,inst,axes,names){for(var fields=[{name:"nameID_"+n,type:"USHORT",value:addName(inst.name,names)},{name:"flags_"+n,type:"USHORT",value:0}],i=0;i<axes.length;++i){var axisTag=axes[i].tag;fields.push({name:"axis_"+n+" "+axisTag,type:"FIXED",value:inst.coordinates[axisTag]<<16})}return fields}function parseFvarInstance(data,start,axes,names){var inst={},p=new _parse2.default.Parser(data,start);inst.name=names[p.parseUShort()]||{},p.skip("uShort",1),inst.coordinates={};for(var i=0;i<axes.length;++i)inst.coordinates[axes[i].tag]=p.parseFixed();return inst}exports.default={make:function(fvar,names){var result=new _table2.default.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:fvar.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:fvar.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*fvar.axes.length}]);result.offsetToData=result.sizeOf();for(var i=0;i<fvar.axes.length;i++)result.fields=result.fields.concat(makeFvarAxis(i,fvar.axes[i],names));for(var j=0;j<fvar.instances.length;j++)result.fields=result.fields.concat(makeFvarInstance(j,fvar.instances[j],fvar.axes,names));return result},parse:function(data,start,names){var p=new _parse2.default.Parser(data,start),tableVersion=p.parseULong();_check2.default.argument(65536===tableVersion,"Unsupported fvar table version.");var offsetToData=p.parseOffset16();p.skip("uShort",1);for(var axisCount=p.parseUShort(),axisSize=p.parseUShort(),instanceCount=p.parseUShort(),instanceSize=p.parseUShort(),axes=[],i=0;i<axisCount;i++)axes.push(parseFvarAxis(data,start+offsetToData+i*axisSize,names));for(var instances=[],instanceStart=start+offsetToData+axisCount*axisSize,j=0;j<instanceCount;j++)instances.push(parseFvarInstance(data,instanceStart+j*instanceSize,axes,names));return{axes:axes,instances:instances}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_parse2=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function parseTaggedListTable(data,start){for(var p=new _parse2.default.Parser(data,start),n=p.parseUShort(),list=[],i=0;i<n;i++)list[p.parseTag()]={offset:p.parseUShort()};return list}function parseClassDefTable(data,start){var p=new _parse2.default.Parser(data,start),format=p.parseUShort();if(1===format){var startGlyph=p.parseUShort(),glyphCount=p.parseUShort(),classes=p.parseUShortList(glyphCount);return function(glyphID){return classes[glyphID-startGlyph]||0}}if(2===format){for(var rangeCount=p.parseUShort(),startGlyphs=[],endGlyphs=[],classValues=[],i=0;i<rangeCount;i++)startGlyphs[i]=p.parseUShort(),endGlyphs[i]=p.parseUShort(),classValues[i]=p.parseUShort();return function(glyphID){for(var l=0,r=startGlyphs.length-1;l<r;){var c=l+r+1>>1;glyphID<startGlyphs[c]?r=c-1:l=c}return startGlyphs[l]<=glyphID&&glyphID<=endGlyphs[l]&&classValues[l]||0}}}function parsePairPosSubTable(data,start){var p=new _parse2.default.Parser(data,start),format=p.parseUShort(),coverage=function(data,start){var p=new _parse2.default.Parser(data,start),format=p.parseUShort(),count=p.parseUShort();if(1===format)return p.parseUShortList(count);if(2===format){for(var coverage=[];count--;)for(var begin=p.parseUShort(),end=p.parseUShort(),index=p.parseUShort(),i=begin;i<=end;i++)coverage[index++]=i;return coverage}}(data,start+p.parseUShort()),valueFormat1=p.parseUShort(),valueFormat2=p.parseUShort(),value1=void 0;if(4===valueFormat1&&0===valueFormat2){var sharedPairSets={};if(1===format){for(var pairSetCount=p.parseUShort(),pairSet=[],pairSetOffsets=p.parseOffset16List(pairSetCount),firstGlyph=0;firstGlyph<pairSetCount;firstGlyph++){var pairSetOffset=pairSetOffsets[firstGlyph],sharedPairSet=sharedPairSets[pairSetOffset];if(!sharedPairSet){sharedPairSet={},p.relativeOffset=pairSetOffset;for(var pairValueCount=p.parseUShort();pairValueCount--;){var secondGlyph=p.parseUShort();valueFormat1&&(value1=p.parseShort()),valueFormat2&&p.parseShort(),sharedPairSet[secondGlyph]=value1}}pairSet[coverage[firstGlyph]]=sharedPairSet}return function(leftGlyph,rightGlyph){var pairs=pairSet[leftGlyph];if(pairs)return pairs[rightGlyph]}}if(2===format){for(var classDef1Offset=p.parseUShort(),classDef2Offset=p.parseUShort(),class1Count=p.parseUShort(),class2Count=p.parseUShort(),getClass1=parseClassDefTable(data,start+classDef1Offset),getClass2=parseClassDefTable(data,start+classDef2Offset),kerningMatrix=[],i=0;i<class1Count;i++)for(var kerningRow=kerningMatrix[i]=[],j=0;j<class2Count;j++)valueFormat1&&(value1=p.parseShort()),valueFormat2&&p.parseShort(),kerningRow[j]=value1;for(var covered={},_i=0;_i<coverage.length;_i++)covered[coverage[_i]]=1;return function(leftGlyph,rightGlyph){if(covered[leftGlyph]){var class1=getClass1(leftGlyph),class2=getClass2(rightGlyph),kerningRow=kerningMatrix[class1];return kerningRow?kerningRow[class2]:void 0}}}}}function parseLookupTable(data,start){var p=new _parse2.default.Parser(data,start),lookupType=p.parseUShort(),lookupFlag=p.parseUShort(),useMarkFilteringSet=16&lookupFlag,subTableCount=p.parseUShort(),subTableOffsets=p.parseOffset16List(subTableCount),table={lookupType:lookupType,lookupFlag:lookupFlag,markFilteringSet:useMarkFilteringSet?p.parseUShort():-1};if(2===lookupType){for(var subtables=[],i=0;i<subTableCount;i++){var pairPosSubTable=parsePairPosSubTable(data,start+subTableOffsets[i]);pairPosSubTable&&subtables.push(pairPosSubTable)}table.getKerningValue=function(leftGlyph,rightGlyph){for(var _i2=subtables.length;_i2--;){var value=subtables[_i2](leftGlyph,rightGlyph);if(void 0!==value)return value}return 0}}return table}exports.default={parse:function(data,start,font){var p=new _parse2.default.Parser(data,start),tableVersion=p.parseFixed();_check2.default.argument(1===tableVersion,"Unsupported GPOS table version."),parseTaggedListTable(data,start+p.parseUShort()),parseTaggedListTable(data,start+p.parseUShort());var lookupListOffset=p.parseUShort();p.relativeOffset=lookupListOffset;for(var lookupCount=p.parseUShort(),lookupTableOffsets=p.parseOffset16List(lookupCount),lookupListAbsoluteOffset=start+lookupListOffset,i=0;i<lookupCount;i++){var table=parseLookupTable(data,lookupListAbsoluteOffset+lookupTableOffsets[i]);2!==table.lookupType||font.getGposKerningValue||(font.getGposKerningValue=table.getKerningValue)}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check2=_interopRequireDefault(__webpack_require__(1)),_parse2=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={parse:function(data,start){var p=new _parse2.default.Parser(data,start),tableVersion=p.parseUShort();if(0===tableVersion)return function(p){var pairs={};p.skip("uShort");var subtableVersion=p.parseUShort();_check2.default.argument(0===subtableVersion,"Unsupported kern sub-table version."),p.skip("uShort",2);var nPairs=p.parseUShort();p.skip("uShort",3);for(var i=0;i<nPairs;i+=1){var leftIndex=p.parseUShort(),rightIndex=p.parseUShort(),value=p.parseShort();pairs[leftIndex+","+rightIndex]=value}return pairs}(p);if(1===tableVersion)return function(p){var pairs={};p.skip("uShort"),p.parseULong()>1&&console.warn("Only the first kern subtable is supported."),p.skip("uLong");var subtableVersion=255&p.parseUShort();if(p.skip("uShort"),0===subtableVersion){var nPairs=p.parseUShort();p.skip("uShort",3);for(var i=0;i<nPairs;i+=1){var leftIndex=p.parseUShort(),rightIndex=p.parseUShort(),value=p.parseShort();pairs[leftIndex+","+rightIndex]=value}}return pairs}(p);throw new Error("Unsupported kern table version ("+tableVersion+").")}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_parse=__webpack_require__(0),_parse2=(obj=_parse)&&obj.__esModule?obj:{default:obj};exports.default={parse:function(data,start,numGlyphs,shortVersion){for(var p=new _parse2.default.Parser(data,start),parseFn=shortVersion?p.parseUShort:p.parseULong,glyphOffsets=[],i=0;i<numGlyphs+1;i+=1){var glyphOffset=parseFn.call(p);shortVersion&&(glyphOffset*=2),glyphOffsets.push(glyphOffset)}return glyphOffsets}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator2=_interopRequireDefault(__webpack_require__(3)),_Phrase2=_interopRequireDefault(__webpack_require__(31)),_Word2=_interopRequireDefault(__webpack_require__(32)),_Metrics2=_interopRequireDefault(__webpack_require__(4));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _width=new WeakMap,_height=new WeakMap,_lines=new WeakMap,_arrangeLines=new WeakMap,_alignLines=new WeakMap,_leftAlignLRUD=new WeakMap,_stackedAlignLRUD=new WeakMap,_centerAlignLRUD=new WeakMap,_rightAlignLRUD=new WeakMap,_justifyAlignLRUD=new WeakMap,_leftAlignRLUD=new WeakMap,_centerAlignRLUD=new WeakMap,_rightAlignRLUD=new WeakMap,_justifyAlignRLUD=new WeakMap,_leftAlignLRDU=new WeakMap,_rightAlignLRDU=new WeakMap,_centerAlignLRDU=new WeakMap,_justifyAlignLRDU=new WeakMap,_leftAlignRLDU=new WeakMap,_centerAlignRLDU=new WeakMap,_rightAlignRLDU=new WeakMap,_justifyAlignRLDU=new WeakMap,HorizontalModule=(0,_autobindDecorator2.default)(_class=function(){function HorizontalModule(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,HorizontalModule),this._textLeftToRight=!0,this._textTopToBottom=!0,this._spaceBetweenLines=0,this._spaceBetweenWords=-1,this._textAlign="left",_width.set(this,0),_height.set(this,0),_lines.set(this,[]),_arrangeLines.set(this,function(line,charWidth){if(1==line.words.length){if(line.width+charWidth>_width.get(this)){_lines.get(this).push(new _Phrase2.default);var novaWord=new _Word2.default;novaWord.indexWord=0,_lines.get(this)[_lines.get(this).length-1].words.push(novaWord)}}else if(_width.get(this)<line.width+charWidth){_lines.get(this).push(new _Phrase2.default);for(var widthTotal=0,i=0;i<line.words.length;i++)if(widthTotal+=line.words[i].width,_width.get(this)<widthTotal+charWidth){var wordAntiga=line.words[line.words.length-1];line.width-=wordAntiga.width,line.words[line.words.length-2].chars[line.words[line.words.length-2].chars.length-1].width=0;var word=line.words.pop();word.indexWord=0,_lines.get(this)[_lines.get(this).length-1].words.push(word);var linhaNova=_lines.get(this)[_lines.get(this).length-1];linhaNova.width=wordAntiga.width,linhaNova.height=wordAntiga.height;break}}return _lines.get(this)[_lines.get(this).length-1].words[_lines.get(this)[_lines.get(this).length-1].words.length-1]}.bind(this)),_alignLines.set(this,function(lines){if(this._textTopToBottom)if(this._textLeftToRight)switch(this._textAlign){case"center":_centerAlignLRUD.get(this)(lines);break;case"right":_rightAlignLRUD.get(this)(lines);break;case"justify":_justifyAlignLRUD.get(this)(lines);break;case"stacked":_leftAlignLRUD.get(this)(lines),_stackedAlignLRUD.get(this)(lines);break;default:_leftAlignLRUD.get(this)(lines)}else switch(this._textAlign){case"center":_centerAlignRLUD.get(this)(lines);break;case"right":_rightAlignRLUD.get(this)(lines);break;case"justify":_justifyAlignRLUD.get(this)(lines);break;default:_leftAlignRLUD.get(this)(lines)}else if(this._textLeftToRight)switch(this._textAlign){case"center":_centerAlignLRDU.get(this)(lines);break;case"right":_rightAlignLRDU.get(this)(lines);break;case"justify":_justifyAlignLRDU.get(this)(lines);break;default:_leftAlignLRDU.get(this)(lines)}else switch(this._textAlign){case"center":_centerAlignRLDU.get(this)(lines);break;case"right":_rightAlignRLDU.get(this)(lines);break;case"justify":_justifyAlignRLDU.get(this)(lines);break;default:_leftAlignRLDU.get(this)(lines)}}.bind(this)),_leftAlignLRUD.set(this,function(lines){for(var y=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y+=lines[i-1].height),line.y=y;for(var j=0;j<line.words.length;j++)for(var k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x+line.words[j].chars[k-1].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x+line.words[j-1].chars[line.words[j-1].chars.length-1].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=0,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height));y+=this._spaceBetweenLines}}.bind(this)),_stackedAlignLRUD.set(this,function(lines){var mxWidth=0;console.log(lines),lines.map(function(el){el.width>mxWidth&&(mxWidth=el.width)});for(var y=0,i=0;i<lines.length;i++){var el=lines[i],scale=mxWidth/el.width,lineHeight=0;0!==i&&(y+=lines[i-1].height);for(var j=0;j<el.words.length;j++){for(var w=el.words[j],wY=2048,wHeight=0,k=0;k<w.chars.length;k++){var c=w.chars[k];c.x=c.x*scale,c.y=(c.y-el.y)*scale,c.setStyle({fontSize:c.style.fontSize*scale}),c.y<wY&&(wY=c.y),c.y+c.height>wHeight&&(wHeight=c.y+c.height),c.y+=y}var firstChar=w.chars[0],lastChar=w.chars[w.chars.length-1];w.x=firstChar.x,w.width=lastChar.x+lastChar.width,w.height=wHeight,w.height>lineHeight&&(lineHeight=w.height)}el.width=mxWidth,el.height=lineHeight,el.y=y,y+=this._spaceBetweenLines}}.bind(this)),_centerAlignLRUD.set(this,function(lines){for(var y=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y+=lines[i-1].height),line.y=y;for(var j=0;j<lines[i].words.length;j++)for(var k=0;k<lines[i].words[j].chars.length;k++)0!==k||0!==j?0!==k?(lines[i].words[j].chars[k].x=lines[i].words[j].chars[k-1].x+lines[i].words[j].chars[k-1].vwidth,lines[i].words[j].chars[k].y=y+.8*(line.height-lines[i].words[j].chars[k].height)):(lines[i].words[j].chars[k].x=lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].x+lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].vwidth,lines[i].words[j].chars[k].y=y+.8*(line.height-lines[i].words[j].chars[k].height)):(lines[i].words[j].chars[k].x=_width.get(this)/2-lines[i].width/2,lines[i].words[j].chars[k].y=y+.8*(line.height-lines[i].words[j].chars[k].height));y+=this._spaceBetweenLines}}.bind(this)),_rightAlignLRUD.set(this,function(lines){for(var y=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y+=lines[i-1].height),line.y=y;for(var j=line.words.length-1;j>=0;j--)for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1||j!=line.words.length-1?k!=line.words[j].chars.length-1?(line.words[j].chars[k].x=line.words[j].chars[k+1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j+1].chars[0].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=_width.get(this)-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height));y+=this._spaceBetweenLines}}.bind(this)),_justifyAlignLRUD.set(this,function(lines){var y=0;if(lines.length>1){for(var i=0;i<lines.length-1;i++){var line=lines[i];0!==i&&(y+=lines[i-1].height),line.y=y;for(var difEspacoLinha=(_width.get(this)-line.width)/(line.words.length-1),j=0;j<line.words.length;j++){if(1!=line.words.length&&j==line.words.length-1){for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1?(line.words[j].chars[k].x=line.words[j].chars[k+1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=_width.get(this)-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height));break}for(k=0;k<line.words[j].chars.length;k++)0!==k||0!==j?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x+line.words[j].chars[k-1].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x+line.words[j-1].chars[line.words[j-1].chars.length-1].vwidth+difEspacoLinha,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=0,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height))}y+=this._spaceBetweenLines}y+=lines[lines.length-2].height}for(line=lines[lines.length-1],j=0;j<line.words.length;j++)for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x+line.words[j].chars[k-1].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x+line.words[j-1].chars[line.words[j-1].chars.length-1].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=0,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height))}.bind(this)),_leftAlignRLUD.set(this,function(lines){for(var y=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y+=lines[i-1].height),line.y=y;for(var j=line.words.length-1;j>=0;j--)for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1||j!=line.words.length-1?k!=line.words[j].chars.length-1?(line.words[j].chars[k].x=line.words[j].chars[k+1].x+line.words[j].chars[k+1].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j+1].chars[0].x+line.words[j+1].chars[0].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=0,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height));y+=this._spaceBetweenLines}}.bind(this)),_centerAlignRLUD.set(this,function(lines){for(var y=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y+=lines[i-1].height),line.y=y;for(var j=0;j<lines[i].words.length;j++)for(var k=0;k<lines[i].words[j].chars.length;k++)0!==k||0!==j?0!==k?(lines[i].words[j].chars[k].x=lines[i].words[j].chars[k-1].x-lines[i].words[j].chars[k].vwidth,lines[i].words[j].chars[k].y=y+.8*(line.height-lines[i].words[j].chars[k].height)):(lines[i].words[j].chars[k].x=lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].x-lines[i].words[j].chars[k].vwidth,lines[i].words[j].chars[k].y=y+.8*(line.height-lines[i].words[j].chars[k].height)):(lines[i].words[j].chars[k].x=_width.get(this)/2+lines[i].width/2-lines[i].words[j].chars[k].width,lines[i].words[j].chars[k].y=y+.8*(line.height-lines[i].words[j].chars[k].height));y+=this._spaceBetweenLines}}.bind(this)),_rightAlignRLUD.set(this,function(lines){for(var y=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y+=lines[i-1].height),line.y=y;for(var j=0;j<line.words.length;j++)for(var k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=_width.get(this)-line.words[j].chars[k].width,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height));y+=this._spaceBetweenLines}}.bind(this)),_justifyAlignRLUD.set(this,function(lines){var y=0;if(lines.length>1){for(var i=0;i<lines.length-1;i++){var line=lines[i];0!==i&&(y+=lines[i-1].height),line.y=y;for(var difEspacoLinha=(_width.get(this)-line.width)/(line.words.length-1),j=0;j<line.words.length;j++){if(1!=line.words.length&&j==line.words.length-1){for(var k=line.words[j].chars.length-1;k>=0;k--)k!==line.words[j].chars.length-1?(line.words[j].chars[k].x=line.words[j].chars[k+1].x+line.words[j].chars[k+1].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=0,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height));break}for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x-line.words[j].chars[k].vwidth-difEspacoLinha,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=_width.get(this)-line.words[j].chars[k].width,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height))}y+=this._spaceBetweenLines}y+=lines[lines.length-2].height}for(line=lines[lines.length-1],j=0;j<line.words.length;j++)for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=_width.get(this)-line.words[j].chars[k].width,line.words[j].chars[k].y=y+.8*(line.height-line.words[j].chars[k].height))}.bind(this)),_leftAlignLRDU.set(this,function(lines){for(var y=_height.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y-=lines[i-1].height),line.y=y;for(var j=0;j<line.words.length;j++)for(var k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x+line.words[j].chars[k-1].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x+line.words[j-1].chars[line.words[j-1].chars.length-1].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=0,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height));y-=this._spaceBetweenLines}}.bind(this)),_rightAlignLRDU.set(this,function(lines){for(var y=_height.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y-=lines[i-1].height),line.y=y;for(var j=line.words.length-1;j>=0;j--)for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1||j!=line.words.length-1?k!=line.words[j].chars.length-1?(line.words[j].chars[k].x=line.words[j].chars[k+1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j+1].chars[0].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=_width.get(this)-line.words[j].chars[k].width,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height));y-=this._spaceBetweenLines}}.bind(this)),_centerAlignLRDU.set(this,function(lines){for(var y=_height.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y-=lines[i-1].height),line.y=y;for(var j=0;j<lines[i].words.length;j++)for(var k=0;k<lines[i].words[j].chars.length;k++)0!==k||0!==j?0!==k?(lines[i].words[j].chars[k].x=lines[i].words[j].chars[k-1].x+lines[i].words[j].chars[k-1].vwidth,lines[i].words[j].chars[k].y=y-line.height+.8*(line.height-lines[i].words[j].chars[k].height)):(lines[i].words[j].chars[k].x=lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].x+lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].vwidth,lines[i].words[j].chars[k].y=y-line.height+.8*(line.height-lines[i].words[j].chars[k].height)):(lines[i].words[j].chars[k].x=_width.get(this)/2-lines[i].width/2,lines[i].words[j].chars[k].y=y-line.height+.8*(line.height-lines[i].words[j].chars[k].height));y-=this._spaceBetweenLines}}.bind(this)),_justifyAlignLRDU.set(this,function(lines){var y=_height.get(this);if(lines.length>1){for(var i=0;i<lines.length-1;i++){var line=lines[i];0!==i&&(y-=lines[i-1].height),line.y=y;for(var difEspacoLinha=(_width.get(this)-line.width)/(line.words.length-1),j=0;j<line.words.length;j++){if(1!=line.words.length&&j==line.words.length-1){for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1?(line.words[j].chars[k].x=line.words[j].chars[k+1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=_width.get(this)-line.words[j].chars[k].width,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height));break}for(k=0;k<line.words[j].chars.length;k++)0!==k||0!==j?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x+line.words[j].chars[k-1].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x+line.words[j-1].chars[line.words[j-1].chars.length-1].vwidth+difEspacoLinha,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=0,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height))}y-=this._spaceBetweenLines}y-=lines[lines.length-2].height}for(line=lines[lines.length-1],j=0;j<line.words.length;j++)for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x+line.words[j].chars[k-1].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x+line.words[j-1].chars[line.words[j-1].chars.length-1].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=0,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height))}.bind(this)),_leftAlignRLDU.set(this,function(lines){for(var y=_height.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y-=lines[i-1].height),line.y=y;for(var j=line.words.length-1;j>=0;j--)for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1||j!=line.words.length-1?k!=line.words[j].chars.length-1?(line.words[j].chars[k].x=line.words[j].chars[k+1].x+line.words[j].chars[k+1].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j+1].chars[0].x+line.words[j+1].chars[0].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=0,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height));y-=this._spaceBetweenLines}}.bind(this)),_centerAlignRLDU.set(this,function(lines){for(var y=_height.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y-=lines[i-1].height),line.y=y;for(var j=0;j<lines[i].words.length;j++)for(var k=0;k<lines[i].words[j].chars.length;k++)0!==k||0!==j?0!==k?(lines[i].words[j].chars[k].x=lines[i].words[j].chars[k-1].x-lines[i].words[j].chars[k].vwidth,lines[i].words[j].chars[k].y=y-line.height+.8*(line.height-lines[i].words[j].chars[k].height)):(lines[i].words[j].chars[k].x=lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].x-lines[i].words[j].chars[k].vwidth,lines[i].words[j].chars[k].y=y-line.height+.8*(line.height-lines[i].words[j].chars[k].height)):(lines[i].words[j].chars[k].x=_width.get(this)/2+lines[i].width/2-lines[i].words[j].chars[k].width,lines[i].words[j].chars[k].y=y-line.height+.8*(line.height-lines[i].words[j].chars[k].height));y-=this._spaceBetweenLines}}.bind(this)),_rightAlignRLDU.set(this,function(lines){for(var y=_height.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(y-=lines[i-1].height),line.y=y;for(var j=0;j<line.words.length;j++)for(var k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=_width.get(this)-line.words[j].chars[k].width,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height));y-=this._spaceBetweenLines}}.bind(this)),_justifyAlignRLDU.set(this,function(lines){var y=_height.get(this);if(lines.length>1){for(var i=0;i<lines.length-1;i++){var line=lines[i];0!==i&&(y-=lines[i-1].height),line.y=y;for(var difEspacoLinha=(_width.get(this)-line.width)/(line.words.length-1),j=0;j<line.words.length;j++){if(1!=line.words.length&&j==line.words.length-1){for(var k=line.words[j].chars.length-1;k>=0;k--)k!==line.words[j].chars.length-1?(line.words[j].chars[k].x=line.words[j].chars[k+1].x+line.words[j].chars[k+1].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=0,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height));break}for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x-line.words[j].chars[k].vwidth-difEspacoLinha,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=_width.get(this)-line.words[j].chars[k].width,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height))}y-=this._spaceBetweenLines}y-=lines[lines.length-2].height}for(line=lines[lines.length-1],j=0;j<line.words.length;j++)for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].x=line.words[j].chars[k-1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=line.words[j-1].chars[line.words[j-1].chars.length-1].x-line.words[j].chars[k].vwidth,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height)):(line.words[j].chars[k].x=_width.get(this)-line.words[j].chars[k].width,line.words[j].chars[k].y=y-line.height+.8*(line.height-line.words[j].chars[k].height))}.bind(this))}return _createClass(HorizontalModule,[{key:"relocate",value:function(defaultText,chars,width,height){_width.set(this,width),_height.set(this,height),_lines.set(this,[]);var d_words=defaultText.match(/\S+(?=\s?)/g),d_spaces=defaultText.match(/\s+(?=[^\n])/g),__words=[];if(null!==d_words)for(var i=0;i<d_words.length;i++){var w="";w=null!==d_spaces&&d_spaces[i]?d_words[i]+d_spaces[i]:d_words[i],__words.push(w)}var count=0;for(i=0;i<__words.length;i++){w=__words[i];for(var ff=[],fs=[],objectChar=[],j=0;j<w.length;j++){var c=chars[count];ff.push(c.style.fontFamily),fs.push(c.style.fontSize),objectChar.push(c),count++}_Metrics2.default.getMetrics(w,ff,fs,{},function(icount,glyphs,gx,gy){var c=objectChar[icount];c.vx=gx,c.vheight=c.height,icount>0&&(objectChar[icount-1].vwidth=c.vx-objectChar[icount-1].vx),icount==objectChar.length-1&&(c.vwidth="last")})}_lines.get(this).push(new _Phrase2.default),_lines.get(this)[0].words.push(new _Word2.default),_lines.get(this)[0].words[0].indexWord=0;var isSpace=!1,breakMultiControl=!1;for(i=0;i<chars.length;i++){var line=_lines.get(this)[_lines.get(this).length-1],word=line.words[line.words.length-1];if("\n"!=(c=chars[i]).text)if(breakMultiControl=!1," "==c.text&&(isSpace=!0,-1!=this._spaceBetweenWords&&(c.vwidth+=this._spaceBetweenWords)),isSpace&&" "!=c.text){isSpace=!1;var wordAtual=_arrangeLines.get(this)(line,c.vwidth);line=_lines.get(this)[_lines.get(this).length-1];w=null;if(0!==_lines.get(this)[_lines.get(this).length-1].words[_lines.get(this)[_lines.get(this).length-1].words.length-1].chars.length){var index=word.indexWord;(w=new _Word2.default).indexWord=index+1,line.words.push(w)}else w=wordAtual;w.chars.push(c),w.width=c.vwidth,w.height=c.height,line.width+=c.vwidth,c.height>line.height&&(line.height=c.height)}else{word=_arrangeLines.get(this)(line,c.vwidth);line=_lines.get(this)[_lines.get(this).length-1],word.width+=c.vwidth,line.width+=c.vwidth,c.height>word.height&&(word.height=c.height),c.height>line.height&&(line.height=c.height),word.chars.push(c)}else _lines.get(this).push(new _Phrase2.default),line=_lines.get(this)[_lines.get(this).length-1],(w=new _Word2.default).indexWord=0,line.words.push(w),0==_lines.get(this)[_lines.get(this).length-2].height&&(_lines.get(this)[_lines.get(this).length-2].height=c.style.fontSize),breakMultiControl||(c.height=0),c.width=0,c.vwidth=0,w.chars.push(c),breakMultiControl=!0,isSpace=!1}_alignLines.get(this)(_lines.get(this))}},{key:"lines",get:function(){return _lines.get(this)}}]),HorizontalModule}())||_class;exports.default=HorizontalModule},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator2=_interopRequireDefault(__webpack_require__(3)),_Phrase2=_interopRequireDefault(__webpack_require__(31)),_Word2=_interopRequireDefault(__webpack_require__(32)),_Metrics2=_interopRequireDefault(__webpack_require__(4));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _width=new WeakMap,_height=new WeakMap,_lines=new WeakMap,_arrangeLinesVertical=new WeakMap,_alignLines=new WeakMap,_topAlignUDLR=new WeakMap,_bottomAlignUDLR=new WeakMap,_centerAlignUDLR=new WeakMap,_justifyAlignUDLR=new WeakMap,_topAlignDULR=new WeakMap,_centerAlignDULR=new WeakMap,_bottomAlignDULR=new WeakMap,_justifyAlignDULR=new WeakMap,_topAlignUDRL=new WeakMap,_bottomAlignUDRL=new WeakMap,_centerAlignUDRL=new WeakMap,_justifyAlignUDRL=new WeakMap,_topAlignDURL=new WeakMap,_centerAlignDURL=new WeakMap,_bottomAlignDURL=new WeakMap,_justifyAlignDURL=new WeakMap,VerticalModule=(0,_autobindDecorator2.default)(_class=function(){function VerticalModule(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerticalModule),this._textLeftToRight=!0,this._textTopToBottom=!0,this._spaceBetweenLines=0,this._spaceBetweenWords=-1,this._textAlign="left",_width.set(this,0),_height.set(this,0),_lines.set(this,[]),_arrangeLinesVertical.set(this,function(line,charHeight){if(1==line.words.length){if(line.height+charHeight>_height.get(this)){_lines.get(this).push(new _Phrase2.default);var novaWord=new _Word2.default;novaWord.indexWord=0,_lines.get(this)[_lines.get(this).length-1].words.push(novaWord)}}else if(line.height+charHeight>_height.get(this)){_lines.get(this).push(new _Phrase2.default);for(var heightTotal=0,i=0;i<line.words.length;i++)if(heightTotal+=line.words[i].height,_height.get(this)<heightTotal+charHeight){var wordAntiga=line.words[line.words.length-1];line.height-=wordAntiga.height,line.words[line.words.length-2].chars[line.words[line.words.length-2].chars.length-1].height=0;var word=line.words.pop();word.indexWord=0,_lines.get(this)[_lines.get(this).length-1].words.push(word);var linhaNova=_lines.get(this)[_lines.get(this).length-1];linhaNova.width=wordAntiga.width,linhaNova.height=wordAntiga.height;break}}return _lines.get(this)[_lines.get(this).length-1].words[_lines.get(this)[_lines.get(this).length-1].words.length-1]}.bind(this)),_alignLines.set(this,function(lines){return this._textTopToBottom?this._textLeftToRight?"center"==this._textAlign?void _centerAlignUDLR.get(this)(lines):"bottom"==this._textAlign?void _bottomAlignUDLR.get(this)(lines):"justify"==this._textAlign?void _justifyAlignUDLR.get(this)(lines):void _topAlignUDLR.get(this)(lines):"center"==this._textAlign?void _centerAlignUDRL.get(this)(lines):"bottom"==this._textAlign?void _bottomAlignUDRL.get(this)(lines):"justify"==this._textAlign?void _justifyAlignUDRL.get(this)(lines):void _topAlignUDRL.get(this)(lines):this._textLeftToRight?"center"==this._textAlign?void _centerAlignDULR.get(this)(lines):"bottom"==this._textAlign?void _bottomAlignDULR.get(this)(lines):"justify"==this._textAlign?void _justifyAlignDULR.get(this)(lines):void _topAlignDULR.get(this)(lines):"center"==this._textAlign?void _centerAlignDURL.get(this)(lines):"bottom"==this._textAlign?void _bottomAlignDURL.get(this)(lines):"justify"==this._textAlign?void _justifyAlignDURL.get(this)(lines):void _topAlignDURL.get(this)(lines)}.bind(this)),_topAlignUDLR.set(this,function(lines){for(var x=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x+=lines[i-1].width),line.x=x;for(var j=0;j<line.words.length;j++)for(var k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y+line.words[j].chars[k-1].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y+line.words[j-1].chars[line.words[j-1].chars.length-1].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=0,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width));x+=this._spaceBetweenLines}}.bind(this)),_bottomAlignUDLR.set(this,function(lines){for(var x=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x+=lines[i-1].width),line.x=x;for(var j=line.words.length-1;j>=0;j--)for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1||j!=line.words.length-1?k!=line.words[j].chars.length-1?(line.words[j].chars[k].y=line.words[j].chars[k+1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j+1].chars[0].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=_height.get(this)-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width));x+=this._spaceBetweenLines}}.bind(this)),_centerAlignUDLR.set(this,function(lines){for(var x=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x+=lines[i-1].width),line.x=x;for(var j=0;j<lines[i].words.length;j++)for(var k=0;k<lines[i].words[j].chars.length;k++)0!==k||0!==j?0!==k?(lines[i].words[j].chars[k].y=lines[i].words[j].chars[k-1].y+lines[i].words[j].chars[k-1].height,lines[i].words[j].chars[k].x=x+.5*(line.width-lines[i].words[j].chars[k].width)):(lines[i].words[j].chars[k].y=lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].y+lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].height,lines[i].words[j].chars[k].x=x+.5*(line.width-lines[i].words[j].chars[k].width)):(lines[i].words[j].chars[k].y=_height.get(this)/2-lines[i].height/2,lines[i].words[j].chars[k].x=x+.5*(line.width-lines[i].words[j].chars[k].width));x+=this._spaceBetweenLines}}.bind(this)),_justifyAlignUDLR.set(this,function(lines){var x=0;if(lines.length>1){for(var i=0;i<lines.length-1;i++){var line=lines[i];0!==i&&(x+=lines[i-1].width),line.x=x;for(var difEspacoLinha=(_height.get(this)-line.height)/(line.words.length-1),j=0;j<line.words.length;j++){if(1!=line.words.length&&j==line.words.length-1){for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1?(line.words[j].chars[k].y=line.words[j].chars[k+1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=_height.get(this)-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width));break}for(k=0;k<line.words[j].chars.length;k++)0!==k||0!==j?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y+line.words[j].chars[k-1].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y+line.words[j-1].chars[line.words[j-1].chars.length-1].height+difEspacoLinha,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=0,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width))}x+=this._spaceBetweenLines}x+=lines[lines.length-2].height}for(line=lines[lines.length-1],j=0;j<line.words.length;j++)for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y+line.words[j].chars[k-1].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y+line.words[j-1].chars[line.words[j-1].chars.length-1].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=0,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width))}.bind(this)),_topAlignDULR.set(this,function(lines){for(var x=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x+=lines[i-1].width),line.x=x;for(var j=line.words.length-1;j>=0;j--)for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1||j!=line.words.length-1?k!=line.words[j].chars.length-1?(line.words[j].chars[k].y=line.words[j].chars[k+1].y+line.words[j].chars[k+1].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j+1].chars[0].y+line.words[j+1].chars[0].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=0,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width));x+=this._spaceBetweenLines}}.bind(this)),_centerAlignDULR.set(this,function(lines){for(var x=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x+=lines[i-1].width),line.x=x;for(var j=0;j<lines[i].words.length;j++)for(var k=0;k<lines[i].words[j].chars.length;k++)0!==k||0!==j?0!==k?(lines[i].words[j].chars[k].y=lines[i].words[j].chars[k-1].y-lines[i].words[j].chars[k].height,lines[i].words[j].chars[k].x=x+.5*(line.width-lines[i].words[j].chars[k].width)):(lines[i].words[j].chars[k].y=lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].y-lines[i].words[j].chars[k].height,lines[i].words[j].chars[k].x=x+.5*(line.width-lines[i].words[j].chars[k].width)):(lines[i].words[j].chars[k].y=_height.get(this)/2+lines[i].height/2-lines[i].words[j].chars[k].height,lines[i].words[j].chars[k].x=x+.5*(line.width-lines[i].words[j].chars[k].width));x+=this._spaceBetweenLines}}.bind(this)),_bottomAlignDULR.set(this,function(lines){for(var x=0,i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x+=lines[i-1].width),line.x=x;for(var j=0;j<line.words.length;j++)for(var k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=_height.get(this)-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width));x+=this._spaceBetweenLines}}.bind(this)),_justifyAlignDULR.set(this,function(lines){var x=0;if(lines.length>1){for(var i=0;i<lines.length-1;i++){var line=lines[i];0!==i&&(x+=lines[i-1].width),line.x=x;for(var difEspacoLinha=(_height.get(this)-line.height)/(line.words.length-1),j=0;j<line.words.length;j++){if(1!=line.words.length&&j==line.words.length-1){for(var k=line.words[j].chars.length-1;k>=0;k--)k!==line.words[j].chars.length-1?(line.words[j].chars[k].y=line.words[j].chars[k+1].y+line.words[j].chars[k+1].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=0,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width));break}for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y-line.words[j].chars[k].height-difEspacoLinha,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=_height.get(this)-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width))}x+=this._spaceBetweenLines}x+=lines[lines.length-2].height}for(line=lines[lines.length-1],j=0;j<line.words.length;j++)for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=_height.get(this)-line.words[j].chars[k].height,line.words[j].chars[k].x=x+.5*(line.width-line.words[j].chars[k].width))}.bind(this)),_topAlignUDRL.set(this,function(lines){for(var x=_width.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x-=lines[i-1].width),line.x=x;for(var j=0;j<line.words.length;j++)for(var k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y+line.words[j].chars[k-1].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y+line.words[j-1].chars[line.words[j-1].chars.length-1].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=0,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width));x-=this._spaceBetweenLines}}.bind(this)),_bottomAlignUDRL.set(this,function(lines){for(var x=_width.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x-=lines[i-1].width),line.x=x;for(var j=line.words.length-1;j>=0;j--)for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1||j!=line.words.length-1?k!=line.words[j].chars.length-1?(line.words[j].chars[k].y=line.words[j].chars[k+1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j+1].chars[0].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=_height.get(this)-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width));x-=this._spaceBetweenLines}}.bind(this)),_centerAlignUDRL.set(this,function(lines){for(var x=_width.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x-=lines[i-1].width),line.x=x;for(var j=0;j<lines[i].words.length;j++)for(var k=0;k<lines[i].words[j].chars.length;k++)0!==k||0!==j?0!==k?(lines[i].words[j].chars[k].y=lines[i].words[j].chars[k-1].y+lines[i].words[j].chars[k-1].height,lines[i].words[j].chars[k].x=x-line.width+.5*(line.width-lines[i].words[j].chars[k].width)):(lines[i].words[j].chars[k].y=lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].y+lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].height,lines[i].words[j].chars[k].x=x-line.width+.5*(line.width-lines[i].words[j].chars[k].width)):(lines[i].words[j].chars[k].y=_height.get(this)/2-lines[i].height/2,lines[i].words[j].chars[k].x=x-line.width+.5*(line.width-lines[i].words[j].chars[k].width));x-=this._spaceBetweenLines}}.bind(this)),_justifyAlignUDRL.set(this,function(lines){var x=_width.get(this);if(lines.length>1){for(var i=0;i<lines.length-1;i++){var line=lines[i];0!==i&&(x-=lines[i-1].width),line.x=x;for(var difEspacoLinha=(_height.get(this)-line.height)/(line.words.length-1),j=0;j<line.words.length;j++){if(1!=line.words.length&&j==line.words.length-1){for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1?(line.words[j].chars[k].y=line.words[j].chars[k+1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=_height.get(this)-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width));break}for(k=0;k<line.words[j].chars.length;k++)0!==k||0!==j?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y+line.words[j].chars[k-1].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y+line.words[j-1].chars[line.words[j-1].chars.length-1].height+difEspacoLinha,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=0,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width))}x-=this._spaceBetweenLines}x-=lines[lines.length-2].height}for(line=lines[lines.length-1],j=0;j<line.words.length;j++)for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y+line.words[j].chars[k-1].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y+line.words[j-1].chars[line.words[j-1].chars.length-1].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=0,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width))}.bind(this)),_topAlignDURL.set(this,function(lines){for(var x=_width.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x-=lines[i-1].width),line.x=x;for(var j=line.words.length-1;j>=0;j--)for(var k=line.words[j].chars.length-1;k>=0;k--)k!=line.words[j].chars.length-1||j!=line.words.length-1?k!=line.words[j].chars.length-1?(line.words[j].chars[k].y=line.words[j].chars[k+1].y+line.words[j].chars[k+1].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j+1].chars[0].y+line.words[j+1].chars[0].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=0,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width));x-=this._spaceBetweenLines}}.bind(this)),_centerAlignDURL.set(this,function(lines){for(var x=_width.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x-=lines[i-1].width),line.x=x;for(var j=0;j<lines[i].words.length;j++)for(var k=0;k<lines[i].words[j].chars.length;k++)0!==k||0!==j?0!==k?(lines[i].words[j].chars[k].y=lines[i].words[j].chars[k-1].y-lines[i].words[j].chars[k].height,lines[i].words[j].chars[k].x=x-line.width+.5*(line.width-lines[i].words[j].chars[k].width)):(lines[i].words[j].chars[k].y=lines[i].words[j-1].chars[lines[i].words[j-1].chars.length-1].y-lines[i].words[j].chars[k].height,lines[i].words[j].chars[k].x=x-line.width+.5*(line.width-lines[i].words[j].chars[k].width)):(lines[i].words[j].chars[k].y=_height.get(this)/2+lines[i].height/2-lines[i].words[j].chars[k].height,lines[i].words[j].chars[k].x=x-line.width+.5*(line.width-lines[i].words[j].chars[k].width));x-=this._spaceBetweenLines}}.bind(this)),_bottomAlignDURL.set(this,function(lines){for(var x=_width.get(this),i=0;i<lines.length;i++){var line=lines[i];0!==i&&(x-=lines[i-1].width),line.x=x;for(var j=0;j<line.words.length;j++)for(var k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=_height.get(this)-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width));x-=this._spaceBetweenLines}}.bind(this)),_justifyAlignDURL.set(this,function(lines){var x=_width.get(this);if(lines.length>1){for(var i=0;i<lines.length-1;i++){var line=lines[i];0!==i&&(x-=lines[i-1].width),line.x=x;for(var difEspacoLinha=(_height.get(this)-line.height)/(line.words.length-1),j=0;j<line.words.length;j++){if(1!=line.words.length&&j==line.words.length-1){for(var k=line.words[j].chars.length-1;k>=0;k--)k!==line.words[j].chars.length-1?(line.words[j].chars[k].y=line.words[j].chars[k+1].y+line.words[j].chars[k+1].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=0,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width));break}for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y-line.words[j].chars[k].height-difEspacoLinha,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=_height.get(this)-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width))}x-=this._spaceBetweenLines}x-=lines[lines.length-2].width}for(line=lines[lines.length-1],j=0;j<line.words.length;j++)for(k=0;k<line.words[j].chars.length;k++)0!==j||0!==k?0!==k?(line.words[j].chars[k].y=line.words[j].chars[k-1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=line.words[j-1].chars[line.words[j-1].chars.length-1].y-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width)):(line.words[j].chars[k].y=_height.get(this)-line.words[j].chars[k].height,line.words[j].chars[k].x=x-line.width+.5*(line.width-line.words[j].chars[k].width))}.bind(this))}return _createClass(VerticalModule,[{key:"relocate",value:function(defaultText,chars,width,height){_width.set(this,width),_height.set(this,height),_lines.set(this,[]);for(var d_words=defaultText.match(/\S+(?=\s?)/g),d_spaces=defaultText.match(/\s+(?=[^\n])/g),__words=[],i=0;i<d_words.length;i++){var w="";w=null!==d_spaces&&d_spaces[i]?d_words[i]+d_spaces[i]:d_words[i],__words.push(w)}var count=0;for(i=0;i<__words.length;i++){w=__words[i];for(var ff=[],fs=[],objectChar=[],j=0;j<w.length;j++){var c=chars[count];ff.push(c.style.fontFamily),fs.push(c.style.fontSize),objectChar.push(c),count++}_Metrics2.default.getMetrics(w,ff,fs,{},function(icount,glyphs,gx,gy){var c=objectChar[icount];c.vx=gx,c.vheight=c.height,icount>0&&(objectChar[icount-1].vwidth=c.vx-objectChar[icount-1].vx),icount==objectChar.length-1&&(c.vwidth="last")})}_lines.get(this).push(new _Phrase2.default),_lines.get(this)[0].words.push(new _Word2.default),_lines.get(this)[0].words[0].indexWord=0;var isSpace=!1,breakMultiControl=!1;for(i=0;i<chars.length;i++){var line=_lines.get(this)[_lines.get(this).length-1],word=line.words[line.words.length-1];if("\n"!=(c=chars[i]).text)if(breakMultiControl=!1," "==c.text&&(isSpace=!0,-1!=this._spaceBetweenWords&&-1!=this._spaceBetweenWords&&(c.height=this._spaceBetweenWords)),isSpace&&" "!=c.text){isSpace=!1;var wordAtual=_arrangeLinesVertical.get(this)(line,c.height);line=_lines.get(this)[_lines.get(this).length-1];w=null;if(0!==_lines.get(this)[_lines.get(this).length-1].words[_lines.get(this)[_lines.get(this).length-1].words.length-1].chars.length){var index=word.indexWord;(w=new _Word2.default).indexWord=index+1,line.words.push(w)}else w=wordAtual;w.chars.push(c),w.width=c.width,w.height=c.height,line.height+=c.height,c.width>line.width&&(line.width=c.width)}else{word=_arrangeLinesVertical.get(this)(line,c.height);line=_lines.get(this)[_lines.get(this).length-1],word.height+=c.height,line.height+=c.height,c.width>word.width&&(word.width=c.width),c.width>line.width&&(line.width=c.width),word.chars.push(c)}else _lines.get(this).push(new _Phrase2.default),line=_lines.get(this)[_lines.get(this).length-1],(w=new _Word2.default).indexWord=0,line.words.push(w),breakMultiControl?(line.width=c.width,w.width=c.width):c.width=0,c.height=0,w.chars.push(c),breakMultiControl=!0,isSpace=!1}_alignLines.get(this)(_lines.get(this))}}]),VerticalModule}())||_class;exports.default=VerticalModule},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator2=_interopRequireDefault(__webpack_require__(3));_interopRequireDefault(__webpack_require__(4));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _typeAlign=new WeakMap,_useRotation=new WeakMap,CustomModule=(0,_autobindDecorator2.default)(_class=function(){function CustomModule(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CustomModule),_typeAlign.set(this,null),_useRotation.set(this,!1)}return _createClass(CustomModule,[{key:"align",value:function(chars){chars[0].x=_typeAlign.get(this).startingX,chars[0].y=_typeAlign.get(this).startingY;for(var stepCount=0,i=1;i<chars.length;i++)stepCount==_typeAlign.get(this).steps.length&&(stepCount=0),chars[i].x=chars[i-1].x+_typeAlign.get(this).steps[stepCount].x,chars[i].y=chars[i-1].y+_typeAlign.get(this).steps[stepCount].y,void 0!==_typeAlign.get(this).steps[stepCount].rotation&&(chars[i].rotation=Math.PI/180*_typeAlign.get(this).steps[stepCount].rotation),stepCount++}},{key:"typeAlign",get:function(){return _typeAlign.get(this)},set:function(value){_typeAlign.set(this,value)}}]),CustomModule}())||_class;exports.default=CustomModule},function(module,exports,__webpack_require__){
/*!

 diff v3.4.0

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
var factory;factory=function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.canonicalize=exports.convertChangesToXML=exports.convertChangesToDMP=exports.merge=exports.parsePatch=exports.applyPatches=exports.applyPatch=exports.createPatch=exports.createTwoFilesPatch=exports.structuredPatch=exports.diffArrays=exports.diffJson=exports.diffCss=exports.diffSentences=exports.diffTrimmedLines=exports.diffLines=exports.diffWordsWithSpace=exports.diffWords=exports.diffChars=exports.Diff=void 0;var obj,_base=__webpack_require__(1),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj},_character=__webpack_require__(2),_word=__webpack_require__(3),_line=__webpack_require__(5),_sentence=__webpack_require__(6),_css=__webpack_require__(7),_json=__webpack_require__(8),_array=__webpack_require__(9),_apply=__webpack_require__(10),_parse=__webpack_require__(11),_merge=__webpack_require__(13),_create=__webpack_require__(14),_dmp=__webpack_require__(16),_xml=__webpack_require__(17);exports.Diff=_base2.default,exports.diffChars=_character.diffChars,exports.diffWords=_word.diffWords,exports.diffWordsWithSpace=_word.diffWordsWithSpace,exports.diffLines=_line.diffLines,exports.diffTrimmedLines=_line.diffTrimmedLines,exports.diffSentences=_sentence.diffSentences,exports.diffCss=_css.diffCss,exports.diffJson=_json.diffJson,exports.diffArrays=_array.diffArrays,exports.structuredPatch=_create.structuredPatch,exports.createTwoFilesPatch=_create.createTwoFilesPatch,exports.createPatch=_create.createPatch,exports.applyPatch=_apply.applyPatch,exports.applyPatches=_apply.applyPatches,exports.parsePatch=_parse.parsePatch,exports.merge=_merge.merge,exports.convertChangesToDMP=_dmp.convertChangesToDMP,exports.convertChangesToXML=_xml.convertChangesToXML,exports.canonicalize=_json.canonicalize},function(module,exports){"use strict";function Diff(){}function buildValues(diff,components,newString,oldString,useLongestToken){for(var componentPos=0,componentLen=components.length,newPos=0,oldPos=0;componentPos<componentLen;componentPos++){var component=components[componentPos];if(component.removed){if(component.value=diff.join(oldString.slice(oldPos,oldPos+component.count)),oldPos+=component.count,componentPos&&components[componentPos-1].added){var tmp=components[componentPos-1];components[componentPos-1]=components[componentPos],components[componentPos]=tmp}}else{if(!component.added&&useLongestToken){var value=newString.slice(newPos,newPos+component.count);value=value.map(function(value,i){var oldValue=oldString[oldPos+i];return oldValue.length>value.length?oldValue:value}),component.value=diff.join(value)}else component.value=diff.join(newString.slice(newPos,newPos+component.count));newPos+=component.count,component.added||(oldPos+=component.count)}}var lastComponent=components[componentLen-1];return componentLen>1&&"string"==typeof lastComponent.value&&(lastComponent.added||lastComponent.removed)&&diff.equals("",lastComponent.value)&&(components[componentLen-2].value+=lastComponent.value,components.pop()),components}exports.__esModule=!0,exports.default=Diff,Diff.prototype={diff:function(oldString,newString){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},callback=options.callback;"function"==typeof options&&(callback=options,options={}),this.options=options;var self=this;function done(value){return callback?(setTimeout(function(){callback(void 0,value)},0),!0):value}oldString=this.castInput(oldString),newString=this.castInput(newString),oldString=this.removeEmpty(this.tokenize(oldString));var newLen=(newString=this.removeEmpty(this.tokenize(newString))).length,oldLen=oldString.length,editLength=1,maxEditLength=newLen+oldLen,bestPath=[{newPos:-1,components:[]}],oldPos=this.extractCommon(bestPath[0],newString,oldString,0);if(bestPath[0].newPos+1>=newLen&&oldPos+1>=oldLen)return done([{value:this.join(newString),count:newString.length}]);function execEditLength(){for(var diagonalPath=-1*editLength;diagonalPath<=editLength;diagonalPath+=2){var basePath=void 0,addPath=bestPath[diagonalPath-1],removePath=bestPath[diagonalPath+1],_oldPos=(removePath?removePath.newPos:0)-diagonalPath;addPath&&(bestPath[diagonalPath-1]=void 0);var canAdd=addPath&&addPath.newPos+1<newLen,canRemove=removePath&&0<=_oldPos&&_oldPos<oldLen;if(canAdd||canRemove){if(!canAdd||canRemove&&addPath.newPos<removePath.newPos?(basePath={newPos:(path=removePath).newPos,components:path.components.slice(0)},self.pushComponent(basePath.components,void 0,!0)):((basePath=addPath).newPos++,self.pushComponent(basePath.components,!0,void 0)),_oldPos=self.extractCommon(basePath,newString,oldString,diagonalPath),basePath.newPos+1>=newLen&&_oldPos+1>=oldLen)return done(buildValues(self,basePath.components,newString,oldString,self.useLongestToken));bestPath[diagonalPath]=basePath}else bestPath[diagonalPath]=void 0}var path;editLength++}if(callback)!function exec(){setTimeout(function(){if(editLength>maxEditLength)return callback();execEditLength()||exec()},0)}();else for(;editLength<=maxEditLength;){var ret=execEditLength();if(ret)return ret}},pushComponent:function(components,added,removed){var last=components[components.length-1];last&&last.added===added&&last.removed===removed?components[components.length-1]={count:last.count+1,added:added,removed:removed}:components.push({count:1,added:added,removed:removed})},extractCommon:function(basePath,newString,oldString,diagonalPath){for(var newLen=newString.length,oldLen=oldString.length,newPos=basePath.newPos,oldPos=newPos-diagonalPath,commonCount=0;newPos+1<newLen&&oldPos+1<oldLen&&this.equals(newString[newPos+1],oldString[oldPos+1]);)newPos++,oldPos++,commonCount++;return commonCount&&basePath.components.push({count:commonCount}),basePath.newPos=newPos,oldPos},equals:function(left,right){return this.options.comparator?this.options.comparator(left,right):left===right||this.options.ignoreCase&&left.toLowerCase()===right.toLowerCase()},removeEmpty:function(array){for(var ret=[],i=0;i<array.length;i++)array[i]&&ret.push(array[i]);return ret},castInput:function(value){return value},tokenize:function(value){return value.split("")},join:function(chars){return chars.join("")}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.characterDiff=void 0,exports.diffChars=function(oldStr,newStr,options){return characterDiff.diff(oldStr,newStr,options)};var obj,_base=__webpack_require__(1),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj};var characterDiff=exports.characterDiff=new _base2.default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.wordDiff=void 0,exports.diffWords=function(oldStr,newStr,options){return options=(0,_params.generateOptions)(options,{ignoreWhitespace:!0}),wordDiff.diff(oldStr,newStr,options)},exports.diffWordsWithSpace=function(oldStr,newStr,options){return wordDiff.diff(oldStr,newStr,options)};var obj,_base=__webpack_require__(1),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj},_params=__webpack_require__(4);var extendedWordChars=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,reWhitespace=/\S/,wordDiff=exports.wordDiff=new _base2.default;wordDiff.equals=function(left,right){return this.options.ignoreCase&&(left=left.toLowerCase(),right=right.toLowerCase()),left===right||this.options.ignoreWhitespace&&!reWhitespace.test(left)&&!reWhitespace.test(right)},wordDiff.tokenize=function(value){for(var tokens=value.split(/(\s+|\b)/),i=0;i<tokens.length-1;i++)!tokens[i+1]&&tokens[i+2]&&extendedWordChars.test(tokens[i])&&extendedWordChars.test(tokens[i+2])&&(tokens[i]+=tokens[i+2],tokens.splice(i+1,2),i--);return tokens}},function(module,exports){"use strict";exports.__esModule=!0,exports.generateOptions=function(options,defaults){if("function"==typeof options)defaults.callback=options;else if(options)for(var name in options)options.hasOwnProperty(name)&&(defaults[name]=options[name]);return defaults}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.lineDiff=void 0,exports.diffLines=function(oldStr,newStr,callback){return lineDiff.diff(oldStr,newStr,callback)},exports.diffTrimmedLines=function(oldStr,newStr,callback){var options=(0,_params.generateOptions)(callback,{ignoreWhitespace:!0});return lineDiff.diff(oldStr,newStr,options)};var obj,_base=__webpack_require__(1),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj},_params=__webpack_require__(4);var lineDiff=exports.lineDiff=new _base2.default;lineDiff.tokenize=function(value){var retLines=[],linesAndNewlines=value.split(/(\n|\r\n)/);linesAndNewlines[linesAndNewlines.length-1]||linesAndNewlines.pop();for(var i=0;i<linesAndNewlines.length;i++){var line=linesAndNewlines[i];i%2&&!this.options.newlineIsToken?retLines[retLines.length-1]+=line:(this.options.ignoreWhitespace&&(line=line.trim()),retLines.push(line))}return retLines}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.sentenceDiff=void 0,exports.diffSentences=function(oldStr,newStr,callback){return sentenceDiff.diff(oldStr,newStr,callback)};var obj,_base=__webpack_require__(1),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj};var sentenceDiff=exports.sentenceDiff=new _base2.default;sentenceDiff.tokenize=function(value){return value.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.cssDiff=void 0,exports.diffCss=function(oldStr,newStr,callback){return cssDiff.diff(oldStr,newStr,callback)};var obj,_base=__webpack_require__(1),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj};var cssDiff=exports.cssDiff=new _base2.default;cssDiff.tokenize=function(value){return value.split(/([{}:;,]|\s+)/)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.jsonDiff=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.diffJson=function(oldObj,newObj,options){return jsonDiff.diff(oldObj,newObj,options)},exports.canonicalize=canonicalize;var obj,_base=__webpack_require__(1),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj},_line=__webpack_require__(5);var objectPrototypeToString=Object.prototype.toString,jsonDiff=exports.jsonDiff=new _base2.default;function canonicalize(obj,stack,replacementStack){stack=stack||[],replacementStack=replacementStack||[];var i=void 0;for(i=0;i<stack.length;i+=1)if(stack[i]===obj)return replacementStack[i];var canonicalizedObj=void 0;if("[object Array]"===objectPrototypeToString.call(obj)){for(stack.push(obj),canonicalizedObj=new Array(obj.length),replacementStack.push(canonicalizedObj),i=0;i<obj.length;i+=1)canonicalizedObj[i]=canonicalize(obj[i],stack,replacementStack);return stack.pop(),replacementStack.pop(),canonicalizedObj}if(obj&&obj.toJSON&&(obj=obj.toJSON()),"object"===(void 0===obj?"undefined":_typeof(obj))&&null!==obj){stack.push(obj),canonicalizedObj={},replacementStack.push(canonicalizedObj);var sortedKeys=[],key=void 0;for(key in obj)obj.hasOwnProperty(key)&&sortedKeys.push(key);for(sortedKeys.sort(),i=0;i<sortedKeys.length;i+=1)canonicalizedObj[key=sortedKeys[i]]=canonicalize(obj[key],stack,replacementStack);stack.pop(),replacementStack.pop()}else canonicalizedObj=obj;return canonicalizedObj}jsonDiff.useLongestToken=!0,jsonDiff.tokenize=_line.lineDiff.tokenize,jsonDiff.castInput=function(value){var undefinedReplacement=this.options.undefinedReplacement;return"string"==typeof value?value:JSON.stringify(canonicalize(value),function(k,v){return void 0===v?undefinedReplacement:v},"  ")},jsonDiff.equals=function(left,right){return _base2.default.prototype.equals.call(jsonDiff,left.replace(/,([\r\n])/g,"$1"),right.replace(/,([\r\n])/g,"$1"))}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.arrayDiff=void 0,exports.diffArrays=function(oldArr,newArr,callback){return arrayDiff.diff(oldArr,newArr,callback)};var obj,_base=__webpack_require__(1),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj};var arrayDiff=exports.arrayDiff=new _base2.default;arrayDiff.tokenize=arrayDiff.join=function(value){return value.slice()},arrayDiff.removeEmpty=function(value){return value}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.applyPatch=applyPatch,exports.applyPatches=function(uniDiff,options){"string"==typeof uniDiff&&(uniDiff=(0,_parse.parsePatch)(uniDiff));var currentIndex=0;!function processIndex(){var index=uniDiff[currentIndex++];if(!index)return options.complete();options.loadFile(index,function(err,data){if(err)return options.complete(err);var updatedContent=applyPatch(data,index,options);options.patched(index,updatedContent,function(err){if(err)return options.complete(err);processIndex()})})}()};var obj,_parse=__webpack_require__(11),_distanceIterator=__webpack_require__(12),_distanceIterator2=(obj=_distanceIterator)&&obj.__esModule?obj:{default:obj};function applyPatch(source,uniDiff){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof uniDiff&&(uniDiff=(0,_parse.parsePatch)(uniDiff)),Array.isArray(uniDiff)){if(uniDiff.length>1)throw new Error("applyPatch only works with a single input.");uniDiff=uniDiff[0]}var lines=source.split(/\r\n|[\n\v\f\r\x85]/),delimiters=source.match(/\r\n|[\n\v\f\r\x85]/g)||[],hunks=uniDiff.hunks,compareLine=options.compareLine||function(lineNumber,line,operation,patchContent){return line===patchContent},errorCount=0,fuzzFactor=options.fuzzFactor||0,minLine=0,offset=0,removeEOFNL=void 0,addEOFNL=void 0;function hunkFits(hunk,toPos){for(var j=0;j<hunk.lines.length;j++){var line=hunk.lines[j],operation=line[0],content=line.substr(1);if(" "===operation||"-"===operation){if(!compareLine(toPos+1,lines[toPos],operation,content)&&++errorCount>fuzzFactor)return!1;toPos++}}return!0}for(var i=0;i<hunks.length;i++){for(var hunk=hunks[i],maxLine=lines.length-hunk.oldLines,localOffset=0,toPos=offset+hunk.oldStart-1,iterator=(0,_distanceIterator2.default)(toPos,minLine,maxLine);void 0!==localOffset;localOffset=iterator())if(hunkFits(hunk,toPos+localOffset)){hunk.offset=offset+=localOffset;break}if(void 0===localOffset)return!1;minLine=hunk.offset+hunk.oldStart+hunk.oldLines}for(var diffOffset=0,_i=0;_i<hunks.length;_i++){var _hunk=hunks[_i],_toPos=_hunk.oldStart+_hunk.offset+diffOffset-1;diffOffset+=_hunk.newLines-_hunk.oldLines,_toPos<0&&(_toPos=0);for(var j=0;j<_hunk.lines.length;j++){var line=_hunk.lines[j],operation=line[0],content=line.substr(1),delimiter=_hunk.linedelimiters[j];if(" "===operation)_toPos++;else if("-"===operation)lines.splice(_toPos,1),delimiters.splice(_toPos,1);else if("+"===operation)lines.splice(_toPos,0,content),delimiters.splice(_toPos,0,delimiter),_toPos++;else if("\\"===operation){var previousOperation=_hunk.lines[j-1]?_hunk.lines[j-1][0]:null;"+"===previousOperation?removeEOFNL=!0:"-"===previousOperation&&(addEOFNL=!0)}}}if(removeEOFNL)for(;!lines[lines.length-1];)lines.pop(),delimiters.pop();else addEOFNL&&(lines.push(""),delimiters.push("\n"));for(var _k=0;_k<lines.length-1;_k++)lines[_k]=lines[_k]+delimiters[_k];return lines.join("")}},function(module,exports){"use strict";exports.__esModule=!0,exports.parsePatch=function(uniDiff){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},diffstr=uniDiff.split(/\r\n|[\n\v\f\r\x85]/),delimiters=uniDiff.match(/\r\n|[\n\v\f\r\x85]/g)||[],list=[],i=0;function parseIndex(){var index={};for(list.push(index);i<diffstr.length;){var line=diffstr[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(line))break;var header=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(line);header&&(index.index=header[1]),i++}for(parseFileHeader(index),parseFileHeader(index),index.hunks=[];i<diffstr.length;){var _line=diffstr[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(_line))break;if(/^@@/.test(_line))index.hunks.push(parseHunk());else{if(_line&&options.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(_line));i++}}}function parseFileHeader(index){var fileHeader=/^(---|\+\+\+)\s+([\S ]*)(?:\t(.*?)\s*)?$/.exec(diffstr[i]);if(fileHeader){var keyPrefix="---"===fileHeader[1]?"old":"new",fileName=fileHeader[2].replace(/\\\\/g,"\\");/^".*"$/.test(fileName)&&(fileName=fileName.substr(1,fileName.length-2)),index[keyPrefix+"FileName"]=fileName,index[keyPrefix+"Header"]=fileHeader[3],i++}}function parseHunk(){for(var chunkHeaderIndex=i,chunkHeaderLine=diffstr[i++],chunkHeader=chunkHeaderLine.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),hunk={oldStart:+chunkHeader[1],oldLines:+chunkHeader[2]||1,newStart:+chunkHeader[3],newLines:+chunkHeader[4]||1,lines:[],linedelimiters:[]},addCount=0,removeCount=0;i<diffstr.length&&!(0===diffstr[i].indexOf("--- ")&&i+2<diffstr.length&&0===diffstr[i+1].indexOf("+++ ")&&0===diffstr[i+2].indexOf("@@"));i++){var operation=diffstr[i][0];if("+"!==operation&&"-"!==operation&&" "!==operation&&"\\"!==operation)break;hunk.lines.push(diffstr[i]),hunk.linedelimiters.push(delimiters[i]||"\n"),"+"===operation?addCount++:"-"===operation?removeCount++:" "===operation&&(addCount++,removeCount++)}if(addCount||1!==hunk.newLines||(hunk.newLines=0),removeCount||1!==hunk.oldLines||(hunk.oldLines=0),options.strict){if(addCount!==hunk.newLines)throw new Error("Added line count did not match for hunk at line "+(chunkHeaderIndex+1));if(removeCount!==hunk.oldLines)throw new Error("Removed line count did not match for hunk at line "+(chunkHeaderIndex+1))}return hunk}for(;i<diffstr.length;)parseIndex();return list}},function(module,exports){"use strict";exports.__esModule=!0,exports.default=function(start,minLine,maxLine){var wantForward=!0,backwardExhausted=!1,forwardExhausted=!1,localOffset=1;return function iterator(){if(wantForward&&!forwardExhausted){if(backwardExhausted?localOffset++:wantForward=!1,start+localOffset<=maxLine)return localOffset;forwardExhausted=!0}if(!backwardExhausted)return forwardExhausted||(wantForward=!0),minLine<=start-localOffset?-localOffset++:(backwardExhausted=!0,iterator())}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.calcLineCount=calcLineCount,exports.merge=function(mine,theirs,base){mine=loadPatch(mine,base),theirs=loadPatch(theirs,base);var ret={};(mine.index||theirs.index)&&(ret.index=mine.index||theirs.index);(mine.newFileName||theirs.newFileName)&&(fileNameChanged(mine)?fileNameChanged(theirs)?(ret.oldFileName=selectField(ret,mine.oldFileName,theirs.oldFileName),ret.newFileName=selectField(ret,mine.newFileName,theirs.newFileName),ret.oldHeader=selectField(ret,mine.oldHeader,theirs.oldHeader),ret.newHeader=selectField(ret,mine.newHeader,theirs.newHeader)):(ret.oldFileName=mine.oldFileName,ret.newFileName=mine.newFileName,ret.oldHeader=mine.oldHeader,ret.newHeader=mine.newHeader):(ret.oldFileName=theirs.oldFileName||mine.oldFileName,ret.newFileName=theirs.newFileName||mine.newFileName,ret.oldHeader=theirs.oldHeader||mine.oldHeader,ret.newHeader=theirs.newHeader||mine.newHeader));ret.hunks=[];var mineIndex=0,theirsIndex=0,mineOffset=0,theirsOffset=0;for(;mineIndex<mine.hunks.length||theirsIndex<theirs.hunks.length;){var mineCurrent=mine.hunks[mineIndex]||{oldStart:1/0},theirsCurrent=theirs.hunks[theirsIndex]||{oldStart:1/0};if(hunkBefore(mineCurrent,theirsCurrent))ret.hunks.push(cloneHunk(mineCurrent,mineOffset)),mineIndex++,theirsOffset+=mineCurrent.newLines-mineCurrent.oldLines;else if(hunkBefore(theirsCurrent,mineCurrent))ret.hunks.push(cloneHunk(theirsCurrent,theirsOffset)),theirsIndex++,mineOffset+=theirsCurrent.newLines-theirsCurrent.oldLines;else{var mergedHunk={oldStart:Math.min(mineCurrent.oldStart,theirsCurrent.oldStart),oldLines:0,newStart:Math.min(mineCurrent.newStart+mineOffset,theirsCurrent.oldStart+theirsOffset),newLines:0,lines:[]};mergeLines(mergedHunk,mineCurrent.oldStart,mineCurrent.lines,theirsCurrent.oldStart,theirsCurrent.lines),theirsIndex++,mineIndex++,ret.hunks.push(mergedHunk)}}return ret};var _create=__webpack_require__(14),_parse=__webpack_require__(11),_array=__webpack_require__(15);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function calcLineCount(hunk){var _calcOldNewLineCount=function calcOldNewLineCount(lines){var oldLines=0;var newLines=0;lines.forEach(function(line){if("string"!=typeof line){var myCount=calcOldNewLineCount(line.mine),theirCount=calcOldNewLineCount(line.theirs);void 0!==oldLines&&(myCount.oldLines===theirCount.oldLines?oldLines+=myCount.oldLines:oldLines=void 0),void 0!==newLines&&(myCount.newLines===theirCount.newLines?newLines+=myCount.newLines:newLines=void 0)}else void 0===newLines||"+"!==line[0]&&" "!==line[0]||newLines++,void 0===oldLines||"-"!==line[0]&&" "!==line[0]||oldLines++});return{oldLines:oldLines,newLines:newLines}}(hunk.lines),oldLines=_calcOldNewLineCount.oldLines,newLines=_calcOldNewLineCount.newLines;void 0!==oldLines?hunk.oldLines=oldLines:delete hunk.oldLines,void 0!==newLines?hunk.newLines=newLines:delete hunk.newLines}function loadPatch(param,base){if("string"==typeof param){if(/^@@/m.test(param)||/^Index:/m.test(param))return(0,_parse.parsePatch)(param)[0];if(!base)throw new Error("Must provide a base reference or pass in a patch");return(0,_create.structuredPatch)(void 0,void 0,base,param)}return param}function fileNameChanged(patch){return patch.newFileName&&patch.newFileName!==patch.oldFileName}function selectField(index,mine,theirs){return mine===theirs?mine:(index.conflict=!0,{mine:mine,theirs:theirs})}function hunkBefore(test,check){return test.oldStart<check.oldStart&&test.oldStart+test.oldLines<check.oldStart}function cloneHunk(hunk,offset){return{oldStart:hunk.oldStart,oldLines:hunk.oldLines,newStart:hunk.newStart+offset,newLines:hunk.newLines,lines:hunk.lines}}function mergeLines(hunk,mineOffset,mineLines,theirOffset,theirLines){var mine={offset:mineOffset,lines:mineLines,index:0},their={offset:theirOffset,lines:theirLines,index:0};for(insertLeading(hunk,mine,their),insertLeading(hunk,their,mine);mine.index<mine.lines.length&&their.index<their.lines.length;){var mineCurrent=mine.lines[mine.index],theirCurrent=their.lines[their.index];if("-"!==mineCurrent[0]&&"+"!==mineCurrent[0]||"-"!==theirCurrent[0]&&"+"!==theirCurrent[0])if("+"===mineCurrent[0]&&" "===theirCurrent[0]){var _hunk$lines;(_hunk$lines=hunk.lines).push.apply(_hunk$lines,_toConsumableArray(collectChange(mine)))}else if("+"===theirCurrent[0]&&" "===mineCurrent[0]){var _hunk$lines2;(_hunk$lines2=hunk.lines).push.apply(_hunk$lines2,_toConsumableArray(collectChange(their)))}else"-"===mineCurrent[0]&&" "===theirCurrent[0]?removal(hunk,mine,their):"-"===theirCurrent[0]&&" "===mineCurrent[0]?removal(hunk,their,mine,!0):mineCurrent===theirCurrent?(hunk.lines.push(mineCurrent),mine.index++,their.index++):conflict(hunk,collectChange(mine),collectChange(their));else mutualChange(hunk,mine,their)}insertTrailing(hunk,mine),insertTrailing(hunk,their),calcLineCount(hunk)}function mutualChange(hunk,mine,their){var myChanges=collectChange(mine),theirChanges=collectChange(their);if(allRemoves(myChanges)&&allRemoves(theirChanges)){var _hunk$lines3,_hunk$lines4;if((0,_array.arrayStartsWith)(myChanges,theirChanges)&&skipRemoveSuperset(their,myChanges,myChanges.length-theirChanges.length))return void(_hunk$lines3=hunk.lines).push.apply(_hunk$lines3,_toConsumableArray(myChanges));if((0,_array.arrayStartsWith)(theirChanges,myChanges)&&skipRemoveSuperset(mine,theirChanges,theirChanges.length-myChanges.length))return void(_hunk$lines4=hunk.lines).push.apply(_hunk$lines4,_toConsumableArray(theirChanges))}else if((0,_array.arrayEqual)(myChanges,theirChanges)){var _hunk$lines5;return void(_hunk$lines5=hunk.lines).push.apply(_hunk$lines5,_toConsumableArray(myChanges))}conflict(hunk,myChanges,theirChanges)}function removal(hunk,mine,their,swap){var _hunk$lines6,myChanges=collectChange(mine),theirChanges=function(state,matchChanges){var changes=[],merged=[],matchIndex=0,contextChanges=!1,conflicted=!1;for(;matchIndex<matchChanges.length&&state.index<state.lines.length;){var change=state.lines[state.index],match=matchChanges[matchIndex];if("+"===match[0])break;if(contextChanges=contextChanges||" "!==change[0],merged.push(match),matchIndex++,"+"===change[0])for(conflicted=!0;"+"===change[0];)changes.push(change),change=state.lines[++state.index];match.substr(1)===change.substr(1)?(changes.push(change),state.index++):conflicted=!0}"+"===(matchChanges[matchIndex]||"")[0]&&contextChanges&&(conflicted=!0);if(conflicted)return changes;for(;matchIndex<matchChanges.length;)merged.push(matchChanges[matchIndex++]);return{merged:merged,changes:changes}}(their,myChanges);theirChanges.merged?(_hunk$lines6=hunk.lines).push.apply(_hunk$lines6,_toConsumableArray(theirChanges.merged)):conflict(hunk,swap?theirChanges:myChanges,swap?myChanges:theirChanges)}function conflict(hunk,mine,their){hunk.conflict=!0,hunk.lines.push({conflict:!0,mine:mine,theirs:their})}function insertLeading(hunk,insert,their){for(;insert.offset<their.offset&&insert.index<insert.lines.length;){var line=insert.lines[insert.index++];hunk.lines.push(line),insert.offset++}}function insertTrailing(hunk,insert){for(;insert.index<insert.lines.length;){var line=insert.lines[insert.index++];hunk.lines.push(line)}}function collectChange(state){for(var ret=[],operation=state.lines[state.index][0];state.index<state.lines.length;){var line=state.lines[state.index];if("-"===operation&&"+"===line[0]&&(operation="+"),operation!==line[0])break;ret.push(line),state.index++}return ret}function allRemoves(changes){return changes.reduce(function(prev,change){return prev&&"-"===change[0]},!0)}function skipRemoveSuperset(state,removeChanges,delta){for(var i=0;i<delta;i++){var changeContent=removeChanges[removeChanges.length-delta+i].substr(1);if(state.lines[state.index+i]!==" "+changeContent)return!1}return state.index+=delta,!0}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.structuredPatch=structuredPatch,exports.createTwoFilesPatch=createTwoFilesPatch,exports.createPatch=function(fileName,oldStr,newStr,oldHeader,newHeader,options){return createTwoFilesPatch(fileName,fileName,oldStr,newStr,oldHeader,newHeader,options)};var _line=__webpack_require__(5);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function structuredPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options){options||(options={}),void 0===options.context&&(options.context=4);var diff=(0,_line.diffLines)(oldStr,newStr,options);function contextLines(lines){return lines.map(function(entry){return" "+entry})}diff.push({value:"",lines:[]});for(var hunks=[],oldRangeStart=0,newRangeStart=0,curRange=[],oldLine=1,newLine=1,_loop=function(i){var current=diff[i],lines=current.lines||current.value.replace(/\n$/,"").split("\n");if(current.lines=lines,current.added||current.removed){var _curRange;if(!oldRangeStart){var prev=diff[i-1];oldRangeStart=oldLine,newRangeStart=newLine,prev&&(curRange=options.context>0?contextLines(prev.lines.slice(-options.context)):[],oldRangeStart-=curRange.length,newRangeStart-=curRange.length)}(_curRange=curRange).push.apply(_curRange,_toConsumableArray(lines.map(function(entry){return(current.added?"+":"-")+entry}))),current.added?newLine+=lines.length:oldLine+=lines.length}else{if(oldRangeStart)if(lines.length<=2*options.context&&i<diff.length-2){var _curRange2;(_curRange2=curRange).push.apply(_curRange2,_toConsumableArray(contextLines(lines)))}else{var _curRange3,contextSize=Math.min(lines.length,options.context);(_curRange3=curRange).push.apply(_curRange3,_toConsumableArray(contextLines(lines.slice(0,contextSize))));var hunk={oldStart:oldRangeStart,oldLines:oldLine-oldRangeStart+contextSize,newStart:newRangeStart,newLines:newLine-newRangeStart+contextSize,lines:curRange};if(i>=diff.length-2&&lines.length<=options.context){var oldEOFNewline=/\n$/.test(oldStr),newEOFNewline=/\n$/.test(newStr);0!=lines.length||oldEOFNewline?oldEOFNewline&&newEOFNewline||curRange.push("\\ No newline at end of file"):curRange.splice(hunk.oldLines,0,"\\ No newline at end of file")}hunks.push(hunk),oldRangeStart=0,newRangeStart=0,curRange=[]}oldLine+=lines.length,newLine+=lines.length}},i=0;i<diff.length;i++)_loop(i);return{oldFileName:oldFileName,newFileName:newFileName,oldHeader:oldHeader,newHeader:newHeader,hunks:hunks}}function createTwoFilesPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options){var diff=structuredPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options),ret=[];oldFileName==newFileName&&ret.push("Index: "+oldFileName),ret.push("==================================================================="),ret.push("--- "+diff.oldFileName+(void 0===diff.oldHeader?"":"\t"+diff.oldHeader)),ret.push("+++ "+diff.newFileName+(void 0===diff.newHeader?"":"\t"+diff.newHeader));for(var i=0;i<diff.hunks.length;i++){var hunk=diff.hunks[i];ret.push("@@ -"+hunk.oldStart+","+hunk.oldLines+" +"+hunk.newStart+","+hunk.newLines+" @@"),ret.push.apply(ret,hunk.lines)}return ret.join("\n")+"\n"}},function(module,exports){"use strict";function arrayStartsWith(array,start){if(start.length>array.length)return!1;for(var i=0;i<start.length;i++)if(start[i]!==array[i])return!1;return!0}exports.__esModule=!0,exports.arrayEqual=function(a,b){if(a.length!==b.length)return!1;return arrayStartsWith(a,b)},exports.arrayStartsWith=arrayStartsWith},function(module,exports){"use strict";exports.__esModule=!0,exports.convertChangesToDMP=function(changes){for(var ret=[],change=void 0,operation=void 0,i=0;i<changes.length;i++)change=changes[i],operation=change.added?1:change.removed?-1:0,ret.push([operation,change.value]);return ret}},function(module,exports){"use strict";function escapeHTML(s){var n=s;return n=(n=(n=(n=n.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}exports.__esModule=!0,exports.convertChangesToXML=function(changes){for(var ret=[],i=0;i<changes.length;i++){var change=changes[i];change.added?ret.push("<ins>"):change.removed&&ret.push("<del>"),ret.push(escapeHTML(change.value)),change.added?ret.push("</ins>"):change.removed&&ret.push("</del>")}return ret.join("")}}])},module.exports=factory()},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(window){if(!Object.defineProperty)throw"Font.js requires Object.defineProperty, which this browser does not support.";if(!document.createElement("canvas").getContext)throw"Font.js requires <canvas> and the Canvas2D API, which this browser does not support.";function Font(){this.fontFamily="fjs"+(999999*Math.random()|0)}!function(window){try{new Uint8Array(1);return}catch(e){}function subarray(start,end){return this.slice(start,end)}function set_(array,offset){var i,n=array.length;for(arguments.length<2&&(offset=0),i=0;i<n;++i,++offset)this[offset]=255&array[i]}function TypedArray(arg1){var result,i;if("number"==typeof arg1)for(result=new Array(arg1),i=0;i<arg1;++i)result[i]=0;else result=arg1.slice(0);return result.subarray=subarray,result.buffer=result,result.byteLength=result.length,result.set=set_,"object"==typeof arg1&&arg1.buffer&&(result.buffer=arg1.buffer),result}window.Uint8Array=TypedArray,window.Uint32Array=TypedArray,window.Int32Array=TypedArray}(window),function(window){var getter;window.opera||("response"in XMLHttpRequest.prototype||"mozResponseArrayBuffer"in XMLHttpRequest.prototype||"mozResponse"in XMLHttpRequest.prototype||"responseArrayBuffer"in XMLHttpRequest.prototype||(getter=window.VBArray?function(){return new Uint8Array(new VBArray(this.responseBody).toArray())}:function(){this.responseBody},Object.defineProperty(XMLHttpRequest.prototype,"response",{get:getter})))}(window),window.btoa||(window.btoa=function(data){var h1,h2,h3,h4,bits,b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0,ac=0,enc="",tmp_arr=[];if(!data)return data;do{h1=(bits=data.charCodeAt(i++)<<16|data.charCodeAt(i++)<<8|data.charCodeAt(i++))>>18&63,h2=bits>>12&63,h3=bits>>6&63,h4=63&bits,tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4)}while(i<data.length);enc=tmp_arr.join("");var r=data.length%3;return(r?enc.slice(0,r-3):enc)+"===".slice(r||3)}),Font.prototype.url="",Font.prototype.format="",Font.prototype.data="",Font.prototype.base64="AAEAAAAKAIAAAwAgT1MvMgAAAAAAAACsAAAAWGNtYXAAAAAAAAABBAAAACxnbHlmAAAAAAAAATAAAAAQaGVhZAAAAAAAAAFAAAAAOGhoZWEAAAAAAAABeAAAACRobXR4AAAAAAAAAZwAAAAIbG9jYQAAAAAAAAGkAAAACG1heHAAAAAAAAABrAAAACBuYW1lAAAAAAAAAcwAAAAgcG9zdAAAAAAAAAHsAAAAEAAEAAEAZAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAABAAMAAQAAAAwABAAgAAAABAAEAAEAAABB//8AAABB////wAABAAAAAAABAAAAAAAAAAAAAAAAMQAAAQAAAAAAAAAAAABfDzz1AAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAEAAgAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAIAAAAAQAAAAIAAQABAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAIAHgADAAEECQABAAAAAAADAAEECQACAAIAAAAAAAEAAAAAAAAAAAAAAAAAAA==",Font.prototype.metrics={quadsize:0,leading:0,ascent:0,descent:0,weightclass:400},Font.prototype.systemfont=!1,Font.prototype.loaded=!1,Font.prototype.onload=function(){},Font.prototype.onerror=function(){},Font.prototype.canvas=!1,Font.prototype.context=!1,Font.prototype.validate=function(target,zero,mark,font,timeout){!1!==timeout&&timeout<0?this.onerror("Requested system font '"+this.fontFamily+"' could not be loaded (it may not be installed)."):getComputedStyle(target,null).getPropertyValue("width").replace("px","")>0?(document.head.removeChild(zero),document.body.removeChild(target),this.loaded=!0,this.onload()):(console.log("timing out"),setTimeout(function(){font.validate(target,zero,mark,font,!1!==timeout&&timeout-50)},1e3))},Font.prototype.ondownloaded=function(){var instance=this,chr=function(val){return String.fromCharCode(val)},chr16=function(val){if(val<256)return chr(0)+chr(val);var b2=255&val;return chr(val>>8)+chr(b2)},ushort=function(b1,b2){return 256*b1+b2},fword=function(b1,b2){var val,negative=b1>>7==1;return val=256*(b1&=127)+b2,negative?val-32768:val},ulong=function(b1,b2,b3,b4){return 16777216*b1+65536*b2+256*b3+b4},error=function(msg){instance.onerror(msg)},ttf=chr(0)+chr(1)+chr(0)+chr(0),data=this.data,version=chr(data[0])+chr(data[1])+chr(data[2])+chr(data[3]),isTTF=version===ttf,isCFF=!isTTF&&"OTTO"===version;if(isTTF)this.format="truetype";else{if(!isCFF)return void error("Error: file at "+this.url+" cannot be interpreted as OpenType font.");this.format="opentype"}var ptr,tag,numTables=ushort(data[4],data[5]),end=12+16*numTables,tags={};for(ptr=12;ptr<end;ptr+=16)tag=chr(data[ptr])+chr(data[ptr+1])+chr(data[ptr+2])+chr(data[ptr+3]),tags[tag]={name:tag,checksum:ulong(data[ptr+4],data[ptr+5],data[ptr+6],data[ptr+7]),offset:ulong(data[ptr+8],data[ptr+9],data[ptr+10],data[ptr+11]),length:ulong(data[ptr+12],data[ptr+13],data[ptr+14],data[ptr+15])};var checkTableError=function(tag){return tags[tag]?tag:(error("Error: font is missing the required OpenType '"+tag+"' table."),!1)};if(!1!==(tag=checkTableError("head"))){ptr=tags[tag].offset,tags[tag].version=""+data[ptr]+data[ptr+1]+data[ptr+2]+data[ptr+3];var unitsPerEm=ushort(data[ptr+18],data[ptr+19]);if(this.metrics.quadsize=unitsPerEm,!1!==(tag=checkTableError("hhea"))&&(ptr=tags[tag].offset,tags[tag].version=""+data[ptr]+data[ptr+1]+data[ptr+2]+data[ptr+3],this.metrics.ascent=fword(data[ptr+4],data[ptr+5])/unitsPerEm,this.metrics.descent=fword(data[ptr+6],data[ptr+7])/unitsPerEm,this.metrics.leading=fword(data[ptr+8],data[ptr+9])/unitsPerEm,!1!==(tag=checkTableError("OS/2"))&&(ptr=tags[tag].offset,tags[tag].version=""+data[ptr]+data[ptr+1],this.metrics.weightclass=ushort(data[ptr+4],data[ptr+5]),!1!==(tag=checkTableError("cmap"))))){ptr=tags[tag].offset,tags[tag].version=""+data[ptr]+data[ptr+1],numTables=ushort(data[ptr+2],data[ptr+3]);for(var rptr,platformID,encodingID,offset,cmap314=!1,encodingRecord=0;encodingRecord<numTables;encodingRecord++)platformID=ushort(data[rptr=ptr+4+8*encodingRecord],data[rptr+1]),encodingID=ushort(data[rptr+2],data[rptr+3]),offset=ulong(data[rptr+4],data[rptr+5],data[rptr+6],data[rptr+7]),3===platformID&&1===encodingID&&(cmap314=offset);var printChar="A";if(!1!==cmap314&&4===(version=ushort(data[ptr+=cmap314],data[ptr+1]))){for(var printable=function(chr){return-1===[9,10,11,12,13,32,133,160,5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288].indexOf(chr)},i=ptr+14,e=ptr+14+2*(ushort(data[ptr+6],data[ptr+7])/2),endChar=!1;i<e&&!printable(endChar=ushort(data[i],data[i+1]));i+=2)endChar=!1;if(0!=endChar){printChar=String.fromCharCode(endChar);var delta=(65536-(endChar-1))%65536,newcode=chr(0)+chr16(endChar)+chr16(65535)+chr16(0)+chr16(endChar)+chr16(65535)+chr16(delta)+chr16(1),newhex=btoa(newcode);this.base64=this.base64.substring(0,380)+newhex+this.base64.substring(380+newhex.length)}}this.bootstrapValidation(printChar,!1)}}},Font.prototype.bootstrapValidation=function(printChar,timeout){var tfName=this.fontFamily+" testfont",zerowidth=document.createElement("style");zerowidth.setAttribute("type","text/css"),zerowidth.innerHTML="@font-face {\n  font-family: '"+tfName+"';\n  src: url('data:application/x-font-ttf;base64,"+this.base64+"')\n       format('truetype');}",document.head.appendChild(zerowidth);var realfont=!1;this.systemfont||(realfont=this.toStyleNode(),document.head.appendChild(realfont));var para=document.createElement("p");if(para.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;",para.style.fontFamily="'"+this.fontFamily+"', '"+tfName+"'",para.innerHTML=printChar+printChar+printChar+printChar+printChar+printChar+printChar+printChar+printChar+printChar,document.body.appendChild(para),"undefined"==typeof getComputedStyle)this.onload(),error("Error: getComputedStyle is not supported by this browser.\nConsequently, Font.onload() cannot be trusted.");else{var quad=this.systemfont?1e3:this.metrics.quadsize,canvas=document.createElement("canvas");canvas.width=quad,canvas.height=quad,this.canvas=canvas;var context=canvas.getContext("2d");context.font="1em '"+this.fontFamily+"'",context.fillStyle="white",context.fillRect(-1,-1,quad+2,quad+2),context.fillStyle="black",context.fillText("test text",50,quad/2),this.context=context;var local=this;setTimeout(function(){local.validate(para,zerowidth,realfont,local,timeout)},50)}},Font.prototype.processSystemFont=function(){this.systemfont=!0,this.metrics=!1,this.bootstrapValidation("A",1e3)},Font.prototype.loadFont=function(){var font=this;if(-1!==this.url.indexOf(".")){var xhr=new XMLHttpRequest;xhr.open("GET",font.url,!0),xhr.responseType="arraybuffer",xhr.onload=function(evt){var arrayBuffer=xhr.response;arrayBuffer?(font.data=new Uint8Array(arrayBuffer),font.ondownloaded()):font.onerror("Error downloading font resource from "+font.url)},xhr.onerror=function(evt){font.onerror("Error downloading font resource from "+font.url)},xhr.send(null)}else setTimeout(function(){font.processSystemFont()},10)},Font.prototype.styleNode=!1,Font.prototype.toStyleNode=function(){if(this.styleNode)return this.styleNode;this.styleNode=document.createElement("style"),this.styleNode.type="text/css";var styletext="@font-face {\n";return styletext+="  font-family: '"+this.fontFamily+"';\n",styletext+="  src: url('"+this.url+"') format('"+this.format+"');\n",styletext+="}",this.styleNode.innerHTML=styletext,this.styleNode},Font.prototype.measureText=function(textString,fontSize){if(!this.loaded)return this.onerror("measureText() was called while the font was not yet loaded"),!1;this.context.font=fontSize+"px '"+this.fontFamily+"'";var metrics=this.context.measureText(textString);metrics.fontsize=fontSize,metrics.ascent=0,metrics.descent=0,metrics.bounds={minx:0,maxx:metrics.width,miny:0,maxy:0},metrics.height=0;var segments=[];metrics.width,this.metrics.quadsize;segments.push(textString);var i,segmentLength=segments.length;for(i=0;i<segmentLength;i++)this.measureSegment(segments[i],fontSize,metrics);return metrics},Font.prototype.measureSegment=function(textSegment,fontSize,metrics){var leadDiv=document.createElement("div");leadDiv.style.position="absolute",leadDiv.style.opacity=0,leadDiv.style.font=fontSize+"px '"+this.fontFamily+"'";for(leadDiv.innerHTML=textSegment,i=1;i<10;i++)leadDiv.innerHTML+="<br/>"+textSegment;document.body.appendChild(leadDiv),metrics.leading=1.2*fontSize;var element,property,leadDivHeight=(element=leadDiv,property="height",document.defaultView.getComputedStyle(element,null).getPropertyValue(property));if((leadDivHeight=leadDivHeight.replace("px",""))>=10*fontSize&&(metrics.leading=leadDivHeight/10|0),document.body.removeChild(leadDiv),/^\s*$/.test(textSegment))return metrics;this.canvas;var ctx=this.context,quad=this.systemfont?1e3:this.metrics.quadsize,w=quad,h=quad,baseline=quad/2,xpos=(quad-metrics.width)/2;xpos!==(0|xpos)&&(xpos|=0),ctx.fillStyle="white",ctx.fillRect(-50,-50,w+100,h+100),ctx.fillStyle="black",ctx.fillText(textSegment,xpos,baseline);for(var scanwidth=metrics.width+50|0,scanheight=4*fontSize,x_offset=xpos-25,y_offset=baseline-scanheight/2,pixelData=ctx.getImageData(x_offset,y_offset,scanwidth,scanheight).data,i=0,j=0,w4=4*scanwidth,len=pixelData.length,mid=scanheight/2;++i<len&&255===pixelData[i];);var ascent=i/w4|0;for(i=len-1;--i>0&&255===pixelData[i];);var descent=i/w4|0;for(i=0,j=0;j<scanwidth&&255===pixelData[i];)(i+=w4)>=len&&(j++,i=i-len+4);var minx=j,step=1;for(i=len-3,j=0;j<scanwidth&&255===pixelData[i];)(i-=w4)<0&&(j++,i=len-3-4*step++);var maxx=scanwidth-j;return metrics.ascent=mid-ascent,metrics.descent=descent-mid,metrics.bounds={minx:minx-25,maxx:maxx-25,miny:-metrics.descent,maxy:metrics.ascent},metrics.height=descent-ascent+1,metrics},Object.defineProperty(Font.prototype,"src",{set:function(url){this.url=url,this.loadFont()}}),void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Font}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator2=_interopRequireDefault(__webpack_require__(3));_interopRequireDefault(__webpack_require__(4));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _startingX=new WeakMap,_startingY=new WeakMap,_steps=new WeakMap,TypeAlign=(0,_autobindDecorator2.default)(_class=function(){function TypeAlign(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TypeAlign),_startingX.set(this,0),_startingY.set(this,!1),_steps.set(this,[])}return _createClass(TypeAlign,[{key:"startingX",get:function(){return _startingX.get(this)},set:function(value){_startingX.set(this,value)}},{key:"startingY",get:function(){return _startingY.get(this)},set:function(value){_startingY.set(this,value)}},{key:"steps",get:function(){return _steps.get(this)},set:function(value){_steps.set(this,value)}}]),TypeAlign}())||_class;exports.default=TypeAlign},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator2=_interopRequireDefault(__webpack_require__(3)),_TextField2=_interopRequireDefault(__webpack_require__(7)),_Char2=_interopRequireDefault(__webpack_require__(12)),_KeyboardHandler2=_interopRequireDefault(__webpack_require__(57));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Input=(0,_autobindDecorator2.default)(_class=function(_PIXI$Container){function Input(_width,_height,align,maxChars){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Input);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Input.__proto__||Object.getPrototypeOf(Input)).call(this));switch(_this._width=_width||2048,_this._height=_height||1152,_this.hitArea=new PIXI.Rectangle(0,0,_this._width,_this._height),_this.debug=!1,_this.maxChars=maxChars||0,_this.field=new _TextField2.default(_width,_height),_this.field.align=align,_this.addChild(_this.field),_this._allowSelection=!0,_this.cursor=new _Char2.default("I",_this.cursorStyle),_this.addChild(_this.cursor),_this.cursor.alpha=0,align){case"center":_this.cursor.x=(_this.x+_this._width)/2;break;case"right":_this.cursor.x=_this.x+_this._width;break;case"justify":_this.cursor.x=(_this.x+_this._width)/2;break;default:_this.cursor.x=_this.x}return _this.selectionGraphics=new PIXI.Graphics,_this.addChild(_this.selectionGraphics),_this.field.on("textUpdated",function(char){this.positionCursor(char)}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Input,PIXI.Container),_createClass(Input,[{key:"animateCursor",value:function(){TweenMax.to(this.cursor,.5,{alpha:0,yoyo:!0,repeat:-1},this)}},{key:"setText",value:function(text,style){this.field.setText(text,style)}},{key:"cursorSize",value:function(size){this.cursor.setStyle({fontSize:size})}},{key:"hideCursor",value:function(size){this.interactive=!1,TweenMax.killTweensOf(this.cursor),this.cursor.alpha=0}},{key:"addEvents",value:function(){this.interactive=!0,this.on("mousedown",this.focus,this),this.on("touchstart",this.focus,this),this.on("mouseup",this.stopSelecting,this),this.on("touchend",this.stopSelecting,this),this.on("mousemove",this.select,this),this.on("touchmove",this.select,this),this.on("mouseupoutside",this.stopSelecting,this),this.on("touchendoutside",this.stopSelecting,this)}},{key:"removeEvents",value:function(){this.interactive=!1,this.removeListener("mousedown"),this.removeListener("touchstart"),this.removeListener("mouseup"),this.removeListener("touchend"),this.removeListener("mousemove"),this.removeListener("touchmove"),this.removeListener("mouseupoutside"),this.removeListener("touchendoutside"),this.keyboardHandler&&this.keyboardHandler.stopMonitor()}},{key:"focus",value:function(e){this.selectionStarted=!0,void 0!==this.field.getCharAt(e.data.global.x,e.data.global.y)&&(this.initialChar=this.field.getCharAt(e.data.global.x,e.data.global.y)),this.keyboardHandler=_KeyboardHandler2.default.getInstance(),this.keyboardHandler.focusedInput=this}},{key:"select",value:function(e){var character;this._allowSelection&&this.selectionStarted&&(void 0!==this.field.getCharAt(e.data.global.x,e.data.global.y)&&(character=this.field.getCharAt(e.data.global.x,e.data.global.y)),void 0!==character&&(this.finalChar=character),void 0!==this.initialChar&&void 0!==this.finalChar&&this.initialChar!=this.finalChar&&this.drawSelection(this.field.getSelectionCoordinates(this.initialChar,this.finalChar)))}},{key:"stopSelecting",value:function(e){var character,charstorage;(void 0!==this.field.getCharAt(e.data.global.x,e.data.global.y)&&(character=this.field.getCharAt(e.data.global.x,e.data.global.y)),void 0!==character&&(this.finalChar=character),this.finalChar<this.initialChar)&&(charstorage=this.finalChar,this.finalChar=this.initialChar,this.initialChar=charstorage);this._allowSelection&&this.selectionStarted&&(this.selectionStarted=!1,void 0!==this.initialChar&&void 0!==this.finalChar&&this.initialChar!=this.finalChar&&this.drawSelection(this.field.getSelectionCoordinates(this.initialChar,this.finalChar))),this.initialChar==this.finalChar&&(this.selectionGraphics.clear(),this.positionCursor(this.field.children[this.finalChar]))}},{key:"drawSelection",value:function(coords){this.selectionGraphics.clear();for(var i=0;i<coords.length;i++)this.selectionGraphics.beginFill(255,.1),this.selectionGraphics.drawRect(coords[i].x,coords[i].y,coords[i].width,coords[i].height),this.selectionGraphics.endFill()}},{key:"showCursor",value:function(){this.positionCursor(this.field.children[this.field.children.length-1]),this.initialChar=this.field.children.length-1,this.finalChar=this.field.children.length-1,this.cursorDirection=1,this.keyboardHandler=_KeyboardHandler2.default.getInstance(),this.keyboardHandler.focusedInput=this,this.cursorAnimation()}},{key:"cursorAnimation",value:function(){this.cursor.alpha=1;var cursor=this.cursor;this.showCursor_enterframe=setInterval(function(){1==this.cursorDirection?cursor.alpha+=.3:cursor.alpha-=.3,cursor.alpha>=1&&(this.cursorDirection=0),cursor.alpha<=0&&(this.cursorDirection=1)},130)}},{key:"setWordStyle",value:function(word,style){this.field.setWordStyle(word,style)}},{key:"setStyle",value:function(style){this.field.setText(this.field.text,style)}},{key:"hideCursor",value:function(){clearInterval(this.showCursor_enterframe),this.cursor.alpha=0}},{key:"positionCursor",value:function(character,left){if(void 0===character&&(character=null),null===character){if(this.field.text.length>0){var lastChar=this.field.children[this.field.children.length-1];if(void 0==lastChar)return;return this.cursor.setStyle({fontSize:lastChar.style.fontSize}),this.cursor.x=Math.round(lastChar.x+lastChar.vwidth-lastChar.style.fontSize/10),void(this.cursor.y=lastChar.y)}"left"!=this.field.align&&"justify"!=this.field.align||(this.cursor.x=2,this.cursor.y=0),"center"==this.field.align&&(this.cursor.x=this._width/2,this.cursor.y=0),"right"==this.field.align&&(this.cursor.x=this.width-3,this.cursor.y=0)}else this.cursor.setStyle({fontSize:character.style.fontSize}),this.cursor.x=Math.round(character.x+character.vwidth-character.style.fontSize/10),this.cursor.y=character.y}},{key:"text",get:function(){return this.field._text},set:function(text){this.field.setText(text)}},{key:"textStyle",get:function(){return this.field._text},set:function(text){this.field.setText(text)}},{key:"align",get:function(){return this.field.align},set:function(value){this.field.align=value}},{key:"defaultStyle",get:function(){return this.field.defaultStyle},set:function(value){this.field.defaultStyle=value}},{key:"width",get:function(){return this._width},set:function(value){var width=this.getLocalBounds().width;this.scale.x=0!==width?value/width:1,this._width=value}},{key:"textLeftToRight",get:function(){return this.field.textLeftToRight},set:function(value){this.field.textLeftToRight=value}},{key:"textTopToBottom",get:function(){return this.field.textTopToBottom},set:function(value){this.field.textTopToBottom=value}},{key:"alignHorizontalPriority",get:function(){return this.field._alignHorizontalPriority},set:function(value){this.field._alignHorizontalPriority=value}},{key:"customAlign",get:function(){return this.field._customAlign},set:function(value){this.field._customAlign=value}},{key:"allowSelection",get:function(){return this._allowSelection},set:function(value){this._allowSelection}}]),Input}())||_class;exports.default=Input},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_class2,_temp,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_autobindDecorator2=_interopRequireDefault(__webpack_require__(3)),_eventemitter2=(_interopRequireDefault(__webpack_require__(7)),_interopRequireDefault(__webpack_require__(8)));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var KeyboardHandler=(0,_autobindDecorator2.default)((_temp=_class2=function(_EventEmiter){function KeyboardHandler(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,KeyboardHandler);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(KeyboardHandler.__proto__||Object.getPrototypeOf(KeyboardHandler)).call(this));if(null!==KeyboardHandler.instance)throw"Singleton:: use KeyboardHandler.getInstance()";return _this.instance=_this,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(KeyboardHandler,_eventemitter2.default),_createClass(KeyboardHandler,[{key:"startMonitor",value:function(){var self=this;window.document.onkeydown=function(e){self._hardKeyboard.call(self,e)}}},{key:"stopMonitor",value:function(){window.document.onkeydown=null,this._focusedInput=null}},{key:"_hardKeyboard",value:function(e){if(this._focusedInput){if(this._focusedInput.selectionGraphics.clear(),null!==e.key.match(/backspace/i)){var text=this._focusedInput.text,textSliced="";return this._focusedInput.initialChar<=this._focusedInput.finalChar?this._focusedInput.initialChar==this._focusedInput.finalChar?textSliced=text.substring(0,this._focusedInput.initialChar)+text.substring(++this._focusedInput.finalChar):(textSliced=text.substring(0,this._focusedInput.initialChar)+text.substring(++this._focusedInput.finalChar),this._focusedInput.finalChar=this._focusedInput.initialChar):(textSliced=text.substring(0,this._focusedInput.finalChar)+text.substring(++this._focusedInput.initialChar),this._focusedInput.initialChar=this._focusedInput.finalChar),this._focusedInput.setText(textSliced),this._focusedInput.initialChar--,this._focusedInput.initialChar<0&&(this._focusedInput.initialChar=0),this._focusedInput.finalChar=this._focusedInput.initialChar,void this._focusedInput.positionCursor(this._focusedInput.field.children[this._focusedInput.initialChar])}if(null!==e.key.match(/delete/i)){text=this._focusedInput.text,textSliced="";return this._focusedInput.initialChar<=this._focusedInput.finalChar?this._focusedInput.initialChar==this._focusedInput.finalChar?textSliced=text.substring(0,++this._focusedInput.initialChar)+text.substring(this._focusedInput.finalChar+2):(textSliced=text.substring(0,this._focusedInput.initialChar)+text.substring(++this._focusedInput.finalChar),this._focusedInput.finalChar=this._focusedInput.initialChar):(textSliced=text.substring(0,this._focusedInput.finalChar)+text.substring(this._focusedInput.initialChar+2),this._focusedInput.initialChar=this._focusedInput.finalChar),this._focusedInput.setText(textSliced),this._focusedInput.initialChar--,this._focusedInput.initialChar<0&&(this._focusedInput.initialChar=0),this._focusedInput.finalChar=this._focusedInput.initialChar,void this._focusedInput.positionCursor(this._focusedInput.field.children[this._focusedInput.initialChar])}if(null!==e.key.match(/arrow/i))return null!==e.key.match(/left/i)&&(0!=this._focusedInput.initialChar&&this._focusedInput.initialChar--,this._focusedInput.positionCursor(this._focusedInput.field.children[this._focusedInput.initialChar]),this._focusedInput.finalChar=this._focusedInput.initialChar),void(null!==e.key.match(/right/i)&&(this._focusedInput.finalChar<this._focusedInput.text.length&&this._focusedInput.finalChar++,this._focusedInput.positionCursor(this._focusedInput.field.children[this._focusedInput.finalChar]),this._focusedInput.initialChar=this._focusedInput.finalChar));if(null===e.key.match(/control/i)&&null===e.key.match(/shift/i)&&null===e.key.match(/dead/i)&&null===e.key.match(/alt/i)&&null===e.key.match(/meta/i)&&null===e.key.match(/contextmenu/i)&&(1==e.key.length||null!==e.key.match(/enter/i))){var value=e.key;null!==value.match(/enter/i)&&(value="\n");text=this._focusedInput.text,textSliced="";return this._focusedInput.initialChar<=this._focusedInput.finalChar?this._focusedInput.initialChar==this._focusedInput.finalChar?textSliced=text.substring(0,++this._focusedInput.initialChar)+value+text.substring(++this._focusedInput.finalChar):(textSliced=text.substring(0,this._focusedInput.initialChar)+value+text.substring(++this._focusedInput.finalChar),this._focusedInput.finalChar=this._focusedInput.initialChar):(textSliced=text.substring(0,this._focusedInput.finalChar)+value+text.substring(++this._focusedInput.initialChar),this._focusedInput.initialChar=this._focusedInput.finalChar),this._focusedInput.setText(textSliced),void this._focusedInput.positionCursor(this._focusedInput.field.children[this._focusedInput.initialChar])}}}},{key:"focusedInput",set:function(value){this._focusedInput=value},get:function(){return this._focusedInput}}],[{key:"getInstance",value:function(){null===KeyboardHandler.instance&&(KeyboardHandler.instance=new KeyboardHandler);var instance=KeyboardHandler.instance;return instance._focusedInput=null,instance.startMonitor(),instance}},{key:"instance",get:function(){return this._instance},set:function(value){this._instance=value}}]),KeyboardHandler}(),_class2._instance=null,_class=_temp))||_class;exports.default=KeyboardHandler}]);